var Jb=Object.defineProperty,Xb=Object.defineProperties;var Zb=Object.getOwnPropertyDescriptors;var ks=Object.getOwnPropertySymbols;var Ep=Object.prototype.hasOwnProperty,Sp=Object.prototype.propertyIsEnumerable;var kp=(t,e,r)=>e in t?Jb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ce=(t,e)=>{for(var r in e||(e={}))Ep.call(e,r)&&kp(t,r,e[r]);if(ks)for(var r of ks(e))Sp.call(e,r)&&kp(t,r,e[r]);return t},We=(t,e)=>Xb(t,Zb(e));var Es=(t,e)=>{var r={};for(var n in t)Ep.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ks)for(var n of ks(t))e.indexOf(n)<0&&Sp.call(t,n)&&(r[n]=t[n]);return r};var Y=(t,e,r)=>new Promise((n,i)=>{var o=l=>{try{s(r.next(l))}catch(f){i(f)}},a=l=>{try{s(r.throw(l))}catch(f){i(f)}},s=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,a);s((r=r.apply(t,e)).next())});function e1(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Et=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function lu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function za(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ty={exports:{}},uu={},ry={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),t1=Symbol.for("react.portal"),r1=Symbol.for("react.fragment"),n1=Symbol.for("react.strict_mode"),i1=Symbol.for("react.profiler"),o1=Symbol.for("react.provider"),a1=Symbol.for("react.context"),s1=Symbol.for("react.forward_ref"),l1=Symbol.for("react.suspense"),u1=Symbol.for("react.memo"),c1=Symbol.for("react.lazy"),Op=Symbol.iterator;function f1(t){return t===null||typeof t!="object"?null:(t=Op&&t[Op]||t["@@iterator"],typeof t=="function"?t:null)}var ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iy=Object.assign,oy={};function To(t,e,r){this.props=t,this.context=e,this.refs=oy,this.updater=r||ny}To.prototype.isReactComponent={};To.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};To.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ay(){}ay.prototype=To.prototype;function Id(t,e,r){this.props=t,this.context=e,this.refs=oy,this.updater=r||ny}var Ld=Id.prototype=new ay;Ld.constructor=Id;iy(Ld,To.prototype);Ld.isPureReactComponent=!0;var Tp=Array.isArray,sy=Object.prototype.hasOwnProperty,Dd={current:null},ly={key:!0,ref:!0,__self:!0,__source:!0};function uy(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)sy.call(e,n)&&!ly.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),f=0;f<s;f++)l[f]=arguments[f+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Ka,type:t,key:o,ref:a,props:i,_owner:Dd.current}}function d1(t,e){return{$$typeof:Ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Md(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ka}function h1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var jp=/\/+/g;function _c(t,e){return typeof t=="object"&&t!==null&&t.key!=null?h1(""+t.key):e.toString(36)}function rl(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ka:case t1:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+_c(a,0):n,Tp(i)?(r="",t!=null&&(r=t.replace(jp,"$&/")+"/"),rl(i,e,r,"",function(f){return f})):i!=null&&(Md(i)&&(i=d1(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(jp,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Tp(t))for(var s=0;s<t.length;s++){o=t[s];var l=n+_c(o,s);a+=rl(o,e,r,l,i)}else if(l=f1(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=n+_c(o,s++),a+=rl(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ss(t,e,r){if(t==null)return t;var n=[],i=0;return rl(t,n,"","",function(o){return e.call(r,o,i++)}),n}function p1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},nl={transition:null},v1={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:nl,ReactCurrentOwner:Dd};function cy(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:Ss,forEach:function(t,e,r){Ss(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ss(t,function(){e++}),e},toArray:function(t){return Ss(t,function(e){return e})||[]},only:function(t){if(!Md(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xe.Component=To;Xe.Fragment=r1;Xe.Profiler=i1;Xe.PureComponent=Id;Xe.StrictMode=n1;Xe.Suspense=l1;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v1;Xe.act=cy;Xe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=iy({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Dd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)sy.call(e,l)&&!ly.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var f=0;f<l;f++)s[f]=arguments[f+2];n.children=s}return{$$typeof:Ka,type:t.type,key:i,ref:o,props:n,_owner:a}};Xe.createContext=function(t){return t={$$typeof:a1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:o1,_context:t},t.Consumer=t};Xe.createElement=uy;Xe.createFactory=function(t){var e=uy.bind(null,t);return e.type=t,e};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(t){return{$$typeof:s1,render:t}};Xe.isValidElement=Md;Xe.lazy=function(t){return{$$typeof:c1,_payload:{_status:-1,_result:t},_init:p1}};Xe.memo=function(t,e){return{$$typeof:u1,type:t,compare:e===void 0?null:e}};Xe.startTransition=function(t){var e=nl.transition;nl.transition={};try{t()}finally{nl.transition=e}};Xe.unstable_act=cy;Xe.useCallback=function(t,e){return er.current.useCallback(t,e)};Xe.useContext=function(t){return er.current.useContext(t)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(t){return er.current.useDeferredValue(t)};Xe.useEffect=function(t,e){return er.current.useEffect(t,e)};Xe.useId=function(){return er.current.useId()};Xe.useImperativeHandle=function(t,e,r){return er.current.useImperativeHandle(t,e,r)};Xe.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};Xe.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};Xe.useMemo=function(t,e){return er.current.useMemo(t,e)};Xe.useReducer=function(t,e,r){return er.current.useReducer(t,e,r)};Xe.useRef=function(t){return er.current.useRef(t)};Xe.useState=function(t){return er.current.useState(t)};Xe.useSyncExternalStore=function(t,e,r){return er.current.useSyncExternalStore(t,e,r)};Xe.useTransition=function(){return er.current.useTransition()};Xe.version="18.3.1";ry.exports=Xe;var he=ry.exports;const On=lu(he);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1=he,y1=Symbol.for("react.element"),g1=Symbol.for("react.fragment"),w1=Object.prototype.hasOwnProperty,b1=m1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_1={key:!0,ref:!0,__self:!0,__source:!0};function fy(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)w1.call(e,n)&&!_1.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:y1,type:t,key:o,ref:a,props:i,_owner:b1.current}}uu.Fragment=g1;uu.jsx=fy;uu.jsxs=fy;ty.exports=uu;var E=ty.exports,dy={exports:{}},gr={},hy={exports:{}},py={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,q){var P=z.length;z.push(q);e:for(;0<P;){var N=P-1>>>1,B=z[N];if(0<i(B,q))z[N]=q,z[P]=B,P=N;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var q=z[0],P=z.pop();if(P!==q){z[0]=P;e:for(var N=0,B=z.length,K=B>>>1;N<K;){var te=2*(N+1)-1,W=z[te],U=te+1,Q=z[U];if(0>i(W,P))U<B&&0>i(Q,W)?(z[N]=Q,z[U]=P,N=U):(z[N]=W,z[te]=P,N=te);else if(U<B&&0>i(Q,P))z[N]=Q,z[U]=P,N=U;else break e}}return q}function i(z,q){var P=z.sortIndex-q.sortIndex;return P!==0?P:z.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],f=[],v=1,d=null,c=3,h=!1,g=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var q=r(f);q!==null;){if(q.callback===null)n(f);else if(q.startTime<=z)n(f),q.sortIndex=q.expirationTime,e(l,q);else break;q=r(f)}}function w(z){if(b=!1,_(z),!g)if(r(l)!==null)g=!0,V(S);else{var q=r(f);q!==null&&X(w,q.startTime-z)}}function S(z,q){g=!1,b&&(b=!1,p(T),T=-1),h=!0;var P=c;try{for(_(q),d=r(l);d!==null&&(!(d.expirationTime>q)||z&&!R());){var N=d.callback;if(typeof N=="function"){d.callback=null,c=d.priorityLevel;var B=N(d.expirationTime<=q);q=t.unstable_now(),typeof B=="function"?d.callback=B:d===r(l)&&n(l),_(q)}else n(l);d=r(l)}if(d!==null)var K=!0;else{var te=r(f);te!==null&&X(w,te.startTime-q),K=!1}return K}finally{d=null,c=P,h=!1}}var I=!1,j=null,T=-1,M=5,A=-1;function R(){return!(t.unstable_now()-A<M)}function L(){if(j!==null){var z=t.unstable_now();A=z;var q=!0;try{q=j(!0,z)}finally{q?D():(I=!1,j=null)}}else I=!1}var D;if(typeof m=="function")D=function(){m(L)};else if(typeof MessageChannel!="undefined"){var F=new MessageChannel,G=F.port2;F.port1.onmessage=L,D=function(){G.postMessage(null)}}else D=function(){x(L,0)};function V(z){j=z,I||(I=!0,D())}function X(z,q){T=x(function(){z(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,V(S))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(z){switch(c){case 1:case 2:case 3:var q=3;break;default:q=c}var P=c;c=q;try{return z()}finally{c=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var P=c;c=z;try{return q()}finally{c=P}},t.unstable_scheduleCallback=function(z,q,P){var N=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?N+P:N):P=N,z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=P+B,z={id:v++,callback:q,priorityLevel:z,startTime:P,expirationTime:B,sortIndex:-1},P>N?(z.sortIndex=P,e(f,z),r(l)===null&&z===r(f)&&(b?(p(T),T=-1):b=!0,X(w,P-N))):(z.sortIndex=B,e(l,z),g||h||(g=!0,V(S))),z},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(z){var q=c;return function(){var P=c;c=q;try{return z.apply(this,arguments)}finally{c=P}}}})(py);hy.exports=py;var x1=hy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1=he,yr=x1;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vy=new Set,ka={};function Ni(t,e){po(t,e),po(t+"Capture",e)}function po(t,e){for(ka[t]=e,t=0;t<e.length;t++)vy.add(e[t])}var an=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ff=Object.prototype.hasOwnProperty,E1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Np={},Pp={};function S1(t){return ff.call(Pp,t)?!0:ff.call(Np,t)?!1:E1.test(t)?Pp[t]=!0:(Np[t]=!0,!1)}function O1(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function T1(t,e,r,n){if(e===null||typeof e=="undefined"||O1(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var $d=/[\-:]([a-z])/g;function Bd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($d,Bd);Ut[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($d,Bd);Ut[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($d,Bd);Ut[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function qd(t,e,r,n){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(T1(e,r,i,n)&&(r=null),n||i===null?S1(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fn=k1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),Ud=Symbol.for("react.strict_mode"),df=Symbol.for("react.profiler"),my=Symbol.for("react.provider"),yy=Symbol.for("react.context"),Fd=Symbol.for("react.forward_ref"),hf=Symbol.for("react.suspense"),pf=Symbol.for("react.suspense_list"),zd=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),gy=Symbol.for("react.offscreen"),Ap=Symbol.iterator;function Go(t){return t===null||typeof t!="object"?null:(t=Ap&&t[Ap]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,xc;function sa(t){if(xc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xc=e&&e[1]||""}return`
`+xc+t}var kc=!1;function Ec(t,e){if(!t||kc)return"";kc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var n=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){n=f}t.call(e.prototype)}else{try{throw Error()}catch(f){n=f}t()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{kc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?sa(t):""}function j1(t){switch(t.tag){case 5:return sa(t.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return t=Ec(t.type,!1),t;case 11:return t=Ec(t.type.render,!1),t;case 1:return t=Ec(t.type,!0),t;default:return""}}function vf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gi:return"Fragment";case Vi:return"Portal";case df:return"Profiler";case Ud:return"StrictMode";case hf:return"Suspense";case pf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yy:return(t.displayName||"Context")+".Consumer";case my:return(t._context.displayName||"Context")+".Provider";case Fd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zd:return e=t.displayName||null,e!==null?e:vf(t.type)||"Memo";case kn:e=t._payload,t=t._init;try{return vf(t(e))}catch(r){}}return null}function N1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vf(e);case 8:return e===Ud?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function P1(t){var e=wy(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ts(t){t._valueTracker||(t._valueTracker=P1(t))}function by(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=wy(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function wl(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function mf(t,e){var r=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function Cp(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Fn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _y(t,e){e=e.checked,e!=null&&qd(t,"checked",e,!1)}function yf(t,e){_y(t,e);var r=Fn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gf(t,e.type,r):e.hasOwnProperty("defaultValue")&&gf(t,e.type,Fn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rp(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function gf(t,e,r){(e!=="number"||wl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var la=Array.isArray;function oo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Fn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ip(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(xe(92));if(la(r)){if(1<r.length)throw Error(xe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Fn(r)}}function xy(t,e){var r=Fn(e.value),n=Fn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Lp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ky(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ky(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var js,Ey=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=js.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ea(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A1=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(t){A1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ha[e]=ha[t]})});function Sy(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ha.hasOwnProperty(t)&&ha[t]?(""+e).trim():e+"px"}function Oy(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Sy(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var C1=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _f(t,e){if(e){if(C1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function xf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=null;function Kd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ef=null,ao=null,so=null;function Dp(t){if(t=Va(t)){if(typeof Ef!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=pu(e),Ef(t.stateNode,t.type,e))}}function Ty(t){ao?so?so.push(t):so=[t]:ao=t}function jy(){if(ao){var t=ao,e=so;if(so=ao=null,Dp(t),e)for(t=0;t<e.length;t++)Dp(e[t])}}function Ny(t,e){return t(e)}function Py(){}var Sc=!1;function Ay(t,e,r){if(Sc)return t(e,r);Sc=!0;try{return Ny(t,e,r)}finally{Sc=!1,(ao!==null||so!==null)&&(Py(),jy())}}function Sa(t,e){var r=t.stateNode;if(r===null)return null;var n=pu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(xe(231,e,typeof r));return r}var Sf=!1;if(an)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch(t){Sf=!1}function R1(t,e,r,n,i,o,a,s,l){var f=Array.prototype.slice.call(arguments,3);try{e.apply(r,f)}catch(v){this.onError(v)}}var pa=!1,bl=null,_l=!1,Of=null,I1={onError:function(t){pa=!0,bl=t}};function L1(t,e,r,n,i,o,a,s,l){pa=!1,bl=null,R1.apply(I1,arguments)}function D1(t,e,r,n,i,o,a,s,l){if(L1.apply(this,arguments),pa){if(pa){var f=bl;pa=!1,bl=null}else throw Error(xe(198));_l||(_l=!0,Of=f)}}function Pi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Cy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mp(t){if(Pi(t)!==t)throw Error(xe(188))}function M1(t){var e=t.alternate;if(!e){if(e=Pi(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Mp(i),t;if(o===n)return Mp(i),e;o=o.sibling}throw Error(xe(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(xe(189))}}if(r.alternate!==n)throw Error(xe(190))}if(r.tag!==3)throw Error(xe(188));return r.stateNode.current===r?t:e}function Ry(t){return t=M1(t),t!==null?Iy(t):null}function Iy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Iy(t);if(e!==null)return e;t=t.sibling}return null}var Ly=yr.unstable_scheduleCallback,$p=yr.unstable_cancelCallback,$1=yr.unstable_shouldYield,B1=yr.unstable_requestPaint,St=yr.unstable_now,q1=yr.unstable_getCurrentPriorityLevel,Hd=yr.unstable_ImmediatePriority,Dy=yr.unstable_UserBlockingPriority,xl=yr.unstable_NormalPriority,U1=yr.unstable_LowPriority,My=yr.unstable_IdlePriority,cu=null,Hr=null;function F1(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(cu,t,void 0,(t.current.flags&128)===128)}catch(e){}}var Ir=Math.clz32?Math.clz32:H1,z1=Math.log,K1=Math.LN2;function H1(t){return t>>>=0,t===0?32:31-(z1(t)/K1|0)|0}var Ns=64,Ps=4194304;function ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kl(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=ua(s):(o&=a,o!==0&&(n=ua(o)))}else a=r&~i,a!==0?n=ua(a):o!==0&&(n=ua(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ir(e),i=1<<r,n|=t[r],e&=~i;return n}function W1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V1(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Ir(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=W1(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Tf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $y(){var t=Ns;return Ns<<=1,!(Ns&4194240)&&(Ns=64),t}function Oc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ha(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=r}function G1(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ir(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function Wd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ir(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ot=0;function By(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qy,Vd,Uy,Fy,zy,jf=!1,As=[],In=null,Ln=null,Dn=null,Oa=new Map,Ta=new Map,Tn=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bp(t,e){switch(t){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(e.pointerId)}}function Qo(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Va(e),e!==null&&Vd(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Q1(t,e,r,n,i){switch(e){case"focusin":return In=Qo(In,t,e,r,n,i),!0;case"dragenter":return Ln=Qo(Ln,t,e,r,n,i),!0;case"mouseover":return Dn=Qo(Dn,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Oa.set(o,Qo(Oa.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ta.set(o,Qo(Ta.get(o)||null,t,e,r,n,i)),!0}return!1}function Ky(t){var e=vi(t.target);if(e!==null){var r=Pi(e);if(r!==null){if(e=r.tag,e===13){if(e=Cy(r),e!==null){t.blockedOn=e,zy(t.priority,function(){Uy(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function il(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Nf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);kf=n,r.target.dispatchEvent(n),kf=null}else return e=Va(r),e!==null&&Vd(e),t.blockedOn=r,!1;e.shift()}return!0}function qp(t,e,r){il(t)&&r.delete(e)}function J1(){jf=!1,In!==null&&il(In)&&(In=null),Ln!==null&&il(Ln)&&(Ln=null),Dn!==null&&il(Dn)&&(Dn=null),Oa.forEach(qp),Ta.forEach(qp)}function Jo(t,e){t.blockedOn===e&&(t.blockedOn=null,jf||(jf=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,J1)))}function ja(t){function e(i){return Jo(i,t)}if(0<As.length){Jo(As[0],t);for(var r=1;r<As.length;r++){var n=As[r];n.blockedOn===t&&(n.blockedOn=null)}}for(In!==null&&Jo(In,t),Ln!==null&&Jo(Ln,t),Dn!==null&&Jo(Dn,t),Oa.forEach(e),Ta.forEach(e),r=0;r<Tn.length;r++)n=Tn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Tn.length&&(r=Tn[0],r.blockedOn===null);)Ky(r),r.blockedOn===null&&Tn.shift()}var lo=fn.ReactCurrentBatchConfig,El=!0;function X1(t,e,r,n){var i=ot,o=lo.transition;lo.transition=null;try{ot=1,Gd(t,e,r,n)}finally{ot=i,lo.transition=o}}function Z1(t,e,r,n){var i=ot,o=lo.transition;lo.transition=null;try{ot=4,Gd(t,e,r,n)}finally{ot=i,lo.transition=o}}function Gd(t,e,r,n){if(El){var i=Nf(t,e,r,n);if(i===null)Dc(t,e,n,Sl,r),Bp(t,n);else if(Q1(i,t,e,r,n))n.stopPropagation();else if(Bp(t,n),e&4&&-1<Y1.indexOf(t)){for(;i!==null;){var o=Va(i);if(o!==null&&qy(o),o=Nf(t,e,r,n),o===null&&Dc(t,e,n,Sl,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Dc(t,e,n,null,r)}}var Sl=null;function Nf(t,e,r,n){if(Sl=null,t=Kd(n),t=vi(t),t!==null)if(e=Pi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Cy(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sl=t,null}function Hy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q1()){case Hd:return 1;case Dy:return 4;case xl:case U1:return 16;case My:return 536870912;default:return 16}default:return 16}}var Cn=null,Yd=null,ol=null;function Wy(){if(ol)return ol;var t,e=Yd,r=e.length,n,i="value"in Cn?Cn.value:Cn.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return ol=i.slice(t,1<n?1-n:void 0)}function al(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cs(){return!0}function Up(){return!1}function wr(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cs:Up,this.isPropagationStopped=Up,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),e}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qd=wr(jo),Wa=bt({},jo,{view:0,detail:0}),e_=wr(Wa),Tc,jc,Xo,fu=bt({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xo&&(Xo&&t.type==="mousemove"?(Tc=t.screenX-Xo.screenX,jc=t.screenY-Xo.screenY):jc=Tc=0,Xo=t),Tc)},movementY:function(t){return"movementY"in t?t.movementY:jc}}),Fp=wr(fu),t_=bt({},fu,{dataTransfer:0}),r_=wr(t_),n_=bt({},Wa,{relatedTarget:0}),Nc=wr(n_),i_=bt({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),o_=wr(i_),a_=bt({},jo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s_=wr(a_),l_=bt({},jo,{data:0}),zp=wr(l_),u_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=f_[t])?!!e[t]:!1}function Jd(){return d_}var h_=bt({},Wa,{key:function(t){if(t.key){var e=u_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jd,charCode:function(t){return t.type==="keypress"?al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p_=wr(h_),v_=bt({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kp=wr(v_),m_=bt({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jd}),y_=wr(m_),g_=bt({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),w_=wr(g_),b_=bt({},fu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),__=wr(b_),x_=[9,13,27,32],Xd=an&&"CompositionEvent"in window,va=null;an&&"documentMode"in document&&(va=document.documentMode);var k_=an&&"TextEvent"in window&&!va,Vy=an&&(!Xd||va&&8<va&&11>=va),Hp=" ",Wp=!1;function Gy(t,e){switch(t){case"keyup":return x_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function E_(t,e){switch(t){case"compositionend":return Yy(e);case"keypress":return e.which!==32?null:(Wp=!0,Hp);case"textInput":return t=e.data,t===Hp&&Wp?null:t;default:return null}}function S_(t,e){if(Yi)return t==="compositionend"||!Xd&&Gy(t,e)?(t=Wy(),ol=Yd=Cn=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vy&&e.locale!=="ko"?null:e.data;default:return null}}var O_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O_[t.type]:e==="textarea"}function Qy(t,e,r,n){Ty(n),e=Ol(e,"onChange"),0<e.length&&(r=new Qd("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ma=null,Na=null;function T_(t){sg(t,0)}function du(t){var e=Xi(t);if(by(e))return t}function j_(t,e){if(t==="change")return e}var Jy=!1;if(an){var Pc;if(an){var Ac="oninput"in document;if(!Ac){var Gp=document.createElement("div");Gp.setAttribute("oninput","return;"),Ac=typeof Gp.oninput=="function"}Pc=Ac}else Pc=!1;Jy=Pc&&(!document.documentMode||9<document.documentMode)}function Yp(){ma&&(ma.detachEvent("onpropertychange",Xy),Na=ma=null)}function Xy(t){if(t.propertyName==="value"&&du(Na)){var e=[];Qy(e,Na,t,Kd(t)),Ay(T_,e)}}function N_(t,e,r){t==="focusin"?(Yp(),ma=e,Na=r,ma.attachEvent("onpropertychange",Xy)):t==="focusout"&&Yp()}function P_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return du(Na)}function A_(t,e){if(t==="click")return du(e)}function C_(t,e){if(t==="input"||t==="change")return du(e)}function R_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:R_;function Pa(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ff.call(e,i)||!Dr(t[i],e[i]))return!1}return!0}function Qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jp(t,e){var r=Qp(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qp(r)}}function Zy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Zy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eg(){for(var t=window,e=wl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch(n){r=!1}if(r)t=e.contentWindow;else break;e=wl(t.document)}return e}function Zd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function I_(t){var e=eg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Zy(r.ownerDocument.documentElement,r)){if(n!==null&&Zd(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=Jp(r,o);var a=Jp(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L_=an&&"documentMode"in document&&11>=document.documentMode,Qi=null,Pf=null,ya=null,Af=!1;function Xp(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Af||Qi==null||Qi!==wl(n)||(n=Qi,"selectionStart"in n&&Zd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ya&&Pa(ya,n)||(ya=n,n=Ol(Pf,"onSelect"),0<n.length&&(e=new Qd("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Qi)))}function Rs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ji={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},Cc={},tg={};an&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function hu(t){if(Cc[t])return Cc[t];if(!Ji[t])return t;var e=Ji[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in tg)return Cc[t]=e[r];return t}var rg=hu("animationend"),ng=hu("animationiteration"),ig=hu("animationstart"),og=hu("transitionend"),ag=new Map,Zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(t,e){ag.set(t,e),Ni(e,[t])}for(var Rc=0;Rc<Zp.length;Rc++){var Ic=Zp[Rc],D_=Ic.toLowerCase(),M_=Ic[0].toUpperCase()+Ic.slice(1);Kn(D_,"on"+M_)}Kn(rg,"onAnimationEnd");Kn(ng,"onAnimationIteration");Kn(ig,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(og,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function ev(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,D1(n,e,void 0,t),t.currentTarget=null}function sg(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,f=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;ev(i,s,f),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,f=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;ev(i,s,f),o=l}}}if(_l)throw t=Of,_l=!1,Of=null,t}function ct(t,e){var r=e[Df];r===void 0&&(r=e[Df]=new Set);var n=t+"__bubble";r.has(n)||(lg(e,t,2,!1),r.add(n))}function Lc(t,e,r){var n=0;e&&(n|=4),lg(r,t,n,e)}var Is="_reactListening"+Math.random().toString(36).slice(2);function Aa(t){if(!t[Is]){t[Is]=!0,vy.forEach(function(r){r!=="selectionchange"&&($_.has(r)||Lc(r,!1,t),Lc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Is]||(e[Is]=!0,Lc("selectionchange",!1,e))}}function lg(t,e,r,n){switch(Hy(e)){case 1:var i=X1;break;case 4:i=Z1;break;default:i=Gd}r=i.bind(null,e,r,t),i=void 0,!Sf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Dc(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=vi(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}Ay(function(){var f=o,v=Kd(r),d=[];e:{var c=ag.get(t);if(c!==void 0){var h=Qd,g=t;switch(t){case"keypress":if(al(r)===0)break e;case"keydown":case"keyup":h=p_;break;case"focusin":g="focus",h=Nc;break;case"focusout":g="blur",h=Nc;break;case"beforeblur":case"afterblur":h=Nc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=r_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=y_;break;case rg:case ng:case ig:h=o_;break;case og:h=w_;break;case"scroll":h=e_;break;case"wheel":h=__;break;case"copy":case"cut":case"paste":h=s_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Kp}var b=(e&4)!==0,x=!b&&t==="scroll",p=b?c!==null?c+"Capture":null:c;b=[];for(var m=f,_;m!==null;){_=m;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,p!==null&&(w=Sa(m,p),w!=null&&b.push(Ca(m,w,_)))),x)break;m=m.return}0<b.length&&(c=new h(c,g,null,r,v),d.push({event:c,listeners:b}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",c&&r!==kf&&(g=r.relatedTarget||r.fromElement)&&(vi(g)||g[sn]))break e;if((h||c)&&(c=v.window===v?v:(c=v.ownerDocument)?c.defaultView||c.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=f,g=g?vi(g):null,g!==null&&(x=Pi(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=f),h!==g)){if(b=Fp,w="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(b=Kp,w="onPointerLeave",p="onPointerEnter",m="pointer"),x=h==null?c:Xi(h),_=g==null?c:Xi(g),c=new b(w,m+"leave",h,r,v),c.target=x,c.relatedTarget=_,w=null,vi(v)===f&&(b=new b(p,m+"enter",g,r,v),b.target=_,b.relatedTarget=x,w=b),x=w,h&&g)t:{for(b=h,p=g,m=0,_=b;_;_=Bi(_))m++;for(_=0,w=p;w;w=Bi(w))_++;for(;0<m-_;)b=Bi(b),m--;for(;0<_-m;)p=Bi(p),_--;for(;m--;){if(b===p||p!==null&&b===p.alternate)break t;b=Bi(b),p=Bi(p)}b=null}else b=null;h!==null&&tv(d,c,h,b,!1),g!==null&&x!==null&&tv(d,x,g,b,!0)}}e:{if(c=f?Xi(f):window,h=c.nodeName&&c.nodeName.toLowerCase(),h==="select"||h==="input"&&c.type==="file")var S=j_;else if(Vp(c))if(Jy)S=C_;else{S=P_;var I=N_}else(h=c.nodeName)&&h.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(S=A_);if(S&&(S=S(t,f))){Qy(d,S,r,v);break e}I&&I(t,c,f),t==="focusout"&&(I=c._wrapperState)&&I.controlled&&c.type==="number"&&gf(c,"number",c.value)}switch(I=f?Xi(f):window,t){case"focusin":(Vp(I)||I.contentEditable==="true")&&(Qi=I,Pf=f,ya=null);break;case"focusout":ya=Pf=Qi=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Xp(d,r,v);break;case"selectionchange":if(L_)break;case"keydown":case"keyup":Xp(d,r,v)}var j;if(Xd)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Yi?Gy(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Vy&&r.locale!=="ko"&&(Yi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Yi&&(j=Wy()):(Cn=v,Yd="value"in Cn?Cn.value:Cn.textContent,Yi=!0)),I=Ol(f,T),0<I.length&&(T=new zp(T,t,null,r,v),d.push({event:T,listeners:I}),j?T.data=j:(j=Yy(r),j!==null&&(T.data=j)))),(j=k_?E_(t,r):S_(t,r))&&(f=Ol(f,"onBeforeInput"),0<f.length&&(v=new zp("onBeforeInput","beforeinput",null,r,v),d.push({event:v,listeners:f}),v.data=j))}sg(d,e)})}function Ca(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ol(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Sa(t,r),o!=null&&n.unshift(Ca(t,o,i)),o=Sa(t,e),o!=null&&n.push(Ca(t,o,i))),t=t.return}return n}function Bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tv(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,f=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&f!==null&&(s=f,i?(l=Sa(r,o),l!=null&&a.unshift(Ca(r,l,s))):i||(l=Sa(r,o),l!=null&&a.push(Ca(r,l,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var B_=/\r\n?/g,q_=/\u0000|\uFFFD/g;function rv(t){return(typeof t=="string"?t:""+t).replace(B_,`
`).replace(q_,"")}function Ls(t,e,r){if(e=rv(e),rv(t)!==e&&r)throw Error(xe(425))}function Tl(){}var Cf=null,Rf=null;function If(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,F_=typeof queueMicrotask=="function"?queueMicrotask:typeof nv!="undefined"?function(t){return nv.resolve(null).then(t).catch(z_)}:Lf;function z_(t){setTimeout(function(){throw t})}function Mc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ja(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ja(e)}function Mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var No=Math.random().toString(36).slice(2),zr="__reactFiber$"+No,Ra="__reactProps$"+No,sn="__reactContainer$"+No,Df="__reactEvents$"+No,K_="__reactListeners$"+No,H_="__reactHandles$"+No;function vi(t){var e=t[zr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[sn]||r[zr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=iv(t);t!==null;){if(r=t[zr])return r;t=iv(t)}return e}t=r,r=t.parentNode}return null}function Va(t){return t=t[zr]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function pu(t){return t[Ra]||null}var Mf=[],Zi=-1;function Hn(t){return{current:t}}function dt(t){0>Zi||(t.current=Mf[Zi],Mf[Zi]=null,Zi--)}function ut(t,e){Zi++,Mf[Zi]=t.current,t.current=e}var zn={},Yt=Hn(zn),sr=Hn(!1),Ei=zn;function vo(t,e){var r=t.type.contextTypes;if(!r)return zn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function lr(t){return t=t.childContextTypes,t!=null}function jl(){dt(sr),dt(Yt)}function ov(t,e,r){if(Yt.current!==zn)throw Error(xe(168));ut(Yt,e),ut(sr,r)}function ug(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(xe(108,N1(t)||"Unknown",i));return bt({},r,n)}function Nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zn,Ei=Yt.current,ut(Yt,t),ut(sr,sr.current),!0}function av(t,e,r){var n=t.stateNode;if(!n)throw Error(xe(169));r?(t=ug(t,e,Ei),n.__reactInternalMemoizedMergedChildContext=t,dt(sr),dt(Yt),ut(Yt,t)):dt(sr),ut(sr,r)}var tn=null,vu=!1,$c=!1;function cg(t){tn===null?tn=[t]:tn.push(t)}function W_(t){vu=!0,cg(t)}function Wn(){if(!$c&&tn!==null){$c=!0;var t=0,e=ot;try{var r=tn;for(ot=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}tn=null,vu=!1}catch(i){throw tn!==null&&(tn=tn.slice(t+1)),Ly(Hd,Wn),i}finally{ot=e,$c=!1}}return null}var eo=[],to=0,Pl=null,Al=0,_r=[],xr=0,Si=null,rn=1,nn="";function ai(t,e){eo[to++]=Al,eo[to++]=Pl,Pl=t,Al=e}function fg(t,e,r){_r[xr++]=rn,_r[xr++]=nn,_r[xr++]=Si,Si=t;var n=rn;t=nn;var i=32-Ir(n)-1;n&=~(1<<i),r+=1;var o=32-Ir(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,rn=1<<32-Ir(e)+i|r<<i|n,nn=o+t}else rn=1<<o|r<<i|n,nn=t}function eh(t){t.return!==null&&(ai(t,1),fg(t,1,0))}function th(t){for(;t===Pl;)Pl=eo[--to],eo[to]=null,Al=eo[--to],eo[to]=null;for(;t===Si;)Si=_r[--xr],_r[xr]=null,nn=_r[--xr],_r[xr]=null,rn=_r[--xr],_r[xr]=null}var mr=null,vr=null,mt=!1,Rr=null;function dg(t,e){var r=kr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function sv(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,vr=Mn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Si!==null?{id:rn,overflow:nn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=kr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,mr=t,vr=null,!0):!1;default:return!1}}function $f(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bf(t){if(mt){var e=vr;if(e){var r=e;if(!sv(t,e)){if($f(t))throw Error(xe(418));e=Mn(r.nextSibling);var n=mr;e&&sv(t,e)?dg(n,r):(t.flags=t.flags&-4097|2,mt=!1,mr=t)}}else{if($f(t))throw Error(xe(418));t.flags=t.flags&-4097|2,mt=!1,mr=t}}}function lv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function Ds(t){if(t!==mr)return!1;if(!mt)return lv(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!If(t.type,t.memoizedProps)),e&&(e=vr)){if($f(t))throw hg(),Error(xe(418));for(;e;)dg(t,e),e=Mn(e.nextSibling)}if(lv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){vr=Mn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}vr=null}}else vr=mr?Mn(t.stateNode.nextSibling):null;return!0}function hg(){for(var t=vr;t;)t=Mn(t.nextSibling)}function mo(){vr=mr=null,mt=!1}function rh(t){Rr===null?Rr=[t]:Rr.push(t)}var V_=fn.ReactCurrentBatchConfig;function Zo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(xe(309));var n=r.stateNode}if(!n)throw Error(xe(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(xe(284));if(!r._owner)throw Error(xe(290,t))}return t}function Ms(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uv(t){var e=t._init;return e(t._payload)}function pg(t){function e(p,m){if(t){var _=p.deletions;_===null?(p.deletions=[m],p.flags|=16):_.push(m)}}function r(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=Un(p,m),p.index=0,p.sibling=null,p}function o(p,m,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<m?(p.flags|=2,m):_):(p.flags|=2,m)):(p.flags|=1048576,m)}function a(p){return t&&p.alternate===null&&(p.flags|=2),p}function s(p,m,_,w){return m===null||m.tag!==6?(m=Hc(_,p.mode,w),m.return=p,m):(m=i(m,_),m.return=p,m)}function l(p,m,_,w){var S=_.type;return S===Gi?v(p,m,_.props.children,w,_.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===kn&&uv(S)===m.type)?(w=i(m,_.props),w.ref=Zo(p,m,_),w.return=p,w):(w=hl(_.type,_.key,_.props,null,p.mode,w),w.ref=Zo(p,m,_),w.return=p,w)}function f(p,m,_,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=Wc(_,p.mode,w),m.return=p,m):(m=i(m,_.children||[]),m.return=p,m)}function v(p,m,_,w,S){return m===null||m.tag!==7?(m=_i(_,p.mode,w,S),m.return=p,m):(m=i(m,_),m.return=p,m)}function d(p,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Hc(""+m,p.mode,_),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Os:return _=hl(m.type,m.key,m.props,null,p.mode,_),_.ref=Zo(p,null,m),_.return=p,_;case Vi:return m=Wc(m,p.mode,_),m.return=p,m;case kn:var w=m._init;return d(p,w(m._payload),_)}if(la(m)||Go(m))return m=_i(m,p.mode,_,null),m.return=p,m;Ms(p,m)}return null}function c(p,m,_,w){var S=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(p,m,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Os:return _.key===S?l(p,m,_,w):null;case Vi:return _.key===S?f(p,m,_,w):null;case kn:return S=_._init,c(p,m,S(_._payload),w)}if(la(_)||Go(_))return S!==null?null:v(p,m,_,w,null);Ms(p,_)}return null}function h(p,m,_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(_)||null,s(m,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Os:return p=p.get(w.key===null?_:w.key)||null,l(m,p,w,S);case Vi:return p=p.get(w.key===null?_:w.key)||null,f(m,p,w,S);case kn:var I=w._init;return h(p,m,_,I(w._payload),S)}if(la(w)||Go(w))return p=p.get(_)||null,v(m,p,w,S,null);Ms(m,w)}return null}function g(p,m,_,w){for(var S=null,I=null,j=m,T=m=0,M=null;j!==null&&T<_.length;T++){j.index>T?(M=j,j=null):M=j.sibling;var A=c(p,j,_[T],w);if(A===null){j===null&&(j=M);break}t&&j&&A.alternate===null&&e(p,j),m=o(A,m,T),I===null?S=A:I.sibling=A,I=A,j=M}if(T===_.length)return r(p,j),mt&&ai(p,T),S;if(j===null){for(;T<_.length;T++)j=d(p,_[T],w),j!==null&&(m=o(j,m,T),I===null?S=j:I.sibling=j,I=j);return mt&&ai(p,T),S}for(j=n(p,j);T<_.length;T++)M=h(j,p,T,_[T],w),M!==null&&(t&&M.alternate!==null&&j.delete(M.key===null?T:M.key),m=o(M,m,T),I===null?S=M:I.sibling=M,I=M);return t&&j.forEach(function(R){return e(p,R)}),mt&&ai(p,T),S}function b(p,m,_,w){var S=Go(_);if(typeof S!="function")throw Error(xe(150));if(_=S.call(_),_==null)throw Error(xe(151));for(var I=S=null,j=m,T=m=0,M=null,A=_.next();j!==null&&!A.done;T++,A=_.next()){j.index>T?(M=j,j=null):M=j.sibling;var R=c(p,j,A.value,w);if(R===null){j===null&&(j=M);break}t&&j&&R.alternate===null&&e(p,j),m=o(R,m,T),I===null?S=R:I.sibling=R,I=R,j=M}if(A.done)return r(p,j),mt&&ai(p,T),S;if(j===null){for(;!A.done;T++,A=_.next())A=d(p,A.value,w),A!==null&&(m=o(A,m,T),I===null?S=A:I.sibling=A,I=A);return mt&&ai(p,T),S}for(j=n(p,j);!A.done;T++,A=_.next())A=h(j,p,T,A.value,w),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?T:A.key),m=o(A,m,T),I===null?S=A:I.sibling=A,I=A);return t&&j.forEach(function(L){return e(p,L)}),mt&&ai(p,T),S}function x(p,m,_,w){if(typeof _=="object"&&_!==null&&_.type===Gi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Os:e:{for(var S=_.key,I=m;I!==null;){if(I.key===S){if(S=_.type,S===Gi){if(I.tag===7){r(p,I.sibling),m=i(I,_.props.children),m.return=p,p=m;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===kn&&uv(S)===I.type){r(p,I.sibling),m=i(I,_.props),m.ref=Zo(p,I,_),m.return=p,p=m;break e}r(p,I);break}else e(p,I);I=I.sibling}_.type===Gi?(m=_i(_.props.children,p.mode,w,_.key),m.return=p,p=m):(w=hl(_.type,_.key,_.props,null,p.mode,w),w.ref=Zo(p,m,_),w.return=p,p=w)}return a(p);case Vi:e:{for(I=_.key;m!==null;){if(m.key===I)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){r(p,m.sibling),m=i(m,_.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else e(p,m);m=m.sibling}m=Wc(_,p.mode,w),m.return=p,p=m}return a(p);case kn:return I=_._init,x(p,m,I(_._payload),w)}if(la(_))return g(p,m,_,w);if(Go(_))return b(p,m,_,w);Ms(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(r(p,m.sibling),m=i(m,_),m.return=p,p=m):(r(p,m),m=Hc(_,p.mode,w),m.return=p,p=m),a(p)):r(p,m)}return x}var yo=pg(!0),vg=pg(!1),Cl=Hn(null),Rl=null,ro=null,nh=null;function ih(){nh=ro=Rl=null}function oh(t){var e=Cl.current;dt(Cl),t._currentValue=e}function qf(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function uo(t,e){Rl=t,nh=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ar=!0),t.firstContext=null)}function Sr(t){var e=t._currentValue;if(nh!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(Rl===null)throw Error(xe(308));ro=t,Rl.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var mi=null;function ah(t){mi===null?mi=[t]:mi.push(t)}function mg(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,ah(e)):(r.next=i.next,i.next=r),e.interleaved=r,ln(t,n)}function ln(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var En=!1;function sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function on(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $n(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ln(t,r)}return i=n.interleaved,i===null?(e.next=e,ah(n)):(e.next=i.next,i.next=e),n.interleaved=e,ln(t,r)}function sl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wd(t,r)}}function cv(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Il(t,e,r,n){var i=t.updateQueue;En=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,f=l.next;l.next=null,a===null?o=f:a.next=f,a=l;var v=t.alternate;v!==null&&(v=v.updateQueue,s=v.lastBaseUpdate,s!==a&&(s===null?v.firstBaseUpdate=f:s.next=f,v.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,v=f=l=null,s=o;do{var c=s.lane,h=s.eventTime;if((n&c)===c){v!==null&&(v=v.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,b=s;switch(c=e,h=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){d=g.call(h,d,c);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,c=typeof g=="function"?g.call(h,d,c):g,c==null)break e;d=bt({},d,c);break e;case 2:En=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[s]:c.push(s))}else h={eventTime:h,lane:c,tag:s.tag,payload:s.payload,callback:s.callback,next:null},v===null?(f=v=h,l=d):v=v.next=h,a|=c;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;c=s,s=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(v===null&&(l=d),i.baseState=l,i.firstBaseUpdate=f,i.lastBaseUpdate=v,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ti|=a,t.lanes=a,t.memoizedState=d}}function fv(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(xe(191,i));i.call(n)}}}var Ga={},Wr=Hn(Ga),Ia=Hn(Ga),La=Hn(Ga);function yi(t){if(t===Ga)throw Error(xe(174));return t}function lh(t,e){switch(ut(La,e),ut(Ia,t),ut(Wr,Ga),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bf(e,t)}dt(Wr),ut(Wr,e)}function go(){dt(Wr),dt(Ia),dt(La)}function gg(t){yi(La.current);var e=yi(Wr.current),r=bf(e,t.type);e!==r&&(ut(Ia,t),ut(Wr,r))}function uh(t){Ia.current===t&&(dt(Wr),dt(Ia))}var gt=Hn(0);function Ll(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bc=[];function ch(){for(var t=0;t<Bc.length;t++)Bc[t]._workInProgressVersionPrimary=null;Bc.length=0}var ll=fn.ReactCurrentDispatcher,qc=fn.ReactCurrentBatchConfig,Oi=0,wt=null,Pt=null,It=null,Dl=!1,ga=!1,Da=0,G_=0;function Ht(){throw Error(xe(321))}function fh(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Dr(t[r],e[r]))return!1;return!0}function dh(t,e,r,n,i,o){if(Oi=o,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ll.current=t===null||t.memoizedState===null?X_:Z_,t=r(n,i),ga){o=0;do{if(ga=!1,Da=0,25<=o)throw Error(xe(301));o+=1,It=Pt=null,e.updateQueue=null,ll.current=ex,t=r(n,i)}while(ga)}if(ll.current=Ml,e=Pt!==null&&Pt.next!==null,Oi=0,It=Pt=wt=null,Dl=!1,e)throw Error(xe(300));return t}function hh(){var t=Da!==0;return Da=0,t}function Ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?wt.memoizedState=It=t:It=It.next=t,It}function Or(){if(Pt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=It===null?wt.memoizedState:It.next;if(e!==null)It=e,Pt=t;else{if(t===null)throw Error(xe(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},It===null?wt.memoizedState=It=t:It=It.next=t}return It}function Ma(t,e){return typeof e=="function"?e(t):e}function Uc(t){var e=Or(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var n=Pt,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,f=o;do{var v=f.lane;if((Oi&v)===v)l!==null&&(l=l.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:t(n,f.action);else{var d={lane:v,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};l===null?(s=l=d,a=n):l=l.next=d,wt.lanes|=v,Ti|=v}f=f.next}while(f!==null&&f!==o);l===null?a=n:l.next=s,Dr(n,e.memoizedState)||(ar=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,wt.lanes|=o,Ti|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Fc(t){var e=Or(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Dr(o,e.memoizedState)||(ar=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function wg(){}function bg(t,e){var r=wt,n=Or(),i=e(),o=!Dr(n.memoizedState,i);if(o&&(n.memoizedState=i,ar=!0),n=n.queue,ph(kg.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||It!==null&&It.memoizedState.tag&1){if(r.flags|=2048,$a(9,xg.bind(null,r,n,i,e),void 0,null),Lt===null)throw Error(xe(349));Oi&30||_g(r,e,i)}return i}function _g(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function xg(t,e,r,n){e.value=r,e.getSnapshot=n,Eg(e)&&Sg(t)}function kg(t,e,r){return r(function(){Eg(e)&&Sg(t)})}function Eg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Dr(t,r)}catch(n){return!0}}function Sg(t){var e=ln(t,1);e!==null&&Lr(e,t,1,-1)}function dv(t){var e=Ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},e.queue=t,t=t.dispatch=J_.bind(null,wt,t),[e.memoizedState,t]}function $a(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Og(){return Or().memoizedState}function ul(t,e,r,n){var i=Ur();wt.flags|=t,i.memoizedState=$a(1|e,r,void 0,n===void 0?null:n)}function mu(t,e,r,n){var i=Or();n=n===void 0?null:n;var o=void 0;if(Pt!==null){var a=Pt.memoizedState;if(o=a.destroy,n!==null&&fh(n,a.deps)){i.memoizedState=$a(e,r,o,n);return}}wt.flags|=t,i.memoizedState=$a(1|e,r,o,n)}function hv(t,e){return ul(8390656,8,t,e)}function ph(t,e){return mu(2048,8,t,e)}function Tg(t,e){return mu(4,2,t,e)}function jg(t,e){return mu(4,4,t,e)}function Ng(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pg(t,e,r){return r=r!=null?r.concat([t]):null,mu(4,4,Ng.bind(null,e,t),r)}function vh(){}function Ag(t,e){var r=Or();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&fh(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Cg(t,e){var r=Or();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&fh(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Rg(t,e,r){return Oi&21?(Dr(r,e)||(r=$y(),wt.lanes|=r,Ti|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ar=!0),t.memoizedState=r)}function Y_(t,e){var r=ot;ot=r!==0&&4>r?r:4,t(!0);var n=qc.transition;qc.transition={};try{t(!1),e()}finally{ot=r,qc.transition=n}}function Ig(){return Or().memoizedState}function Q_(t,e,r){var n=qn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Lg(t))Dg(e,r);else if(r=mg(t,e,r,n),r!==null){var i=Zt();Lr(r,t,n,i),Mg(r,e,n)}}function J_(t,e,r){var n=qn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lg(t))Dg(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,Dr(s,a)){var l=e.interleaved;l===null?(i.next=i,ah(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch(f){}finally{}r=mg(t,e,i,n),r!==null&&(i=Zt(),Lr(r,t,n,i),Mg(r,e,n))}}function Lg(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function Dg(t,e){ga=Dl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Mg(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wd(t,r)}}var Ml={readContext:Sr,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},X_={readContext:Sr,useCallback:function(t,e){return Ur().memoizedState=[t,e===void 0?null:e],t},useContext:Sr,useEffect:hv,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ul(4194308,4,Ng.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ul(4194308,4,t,e)},useInsertionEffect:function(t,e){return ul(4,2,t,e)},useMemo:function(t,e){var r=Ur();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ur();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Q_.bind(null,wt,t),[n.memoizedState,t]},useRef:function(t){var e=Ur();return t={current:t},e.memoizedState=t},useState:dv,useDebugValue:vh,useDeferredValue:function(t){return Ur().memoizedState=t},useTransition:function(){var t=dv(!1),e=t[0];return t=Y_.bind(null,t[1]),Ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=wt,i=Ur();if(mt){if(r===void 0)throw Error(xe(407));r=r()}else{if(r=e(),Lt===null)throw Error(xe(349));Oi&30||_g(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,hv(kg.bind(null,n,o,t),[t]),n.flags|=2048,$a(9,xg.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Ur(),e=Lt.identifierPrefix;if(mt){var r=nn,n=rn;r=(n&~(1<<32-Ir(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Da++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=G_++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Z_={readContext:Sr,useCallback:Ag,useContext:Sr,useEffect:ph,useImperativeHandle:Pg,useInsertionEffect:Tg,useLayoutEffect:jg,useMemo:Cg,useReducer:Uc,useRef:Og,useState:function(){return Uc(Ma)},useDebugValue:vh,useDeferredValue:function(t){var e=Or();return Rg(e,Pt.memoizedState,t)},useTransition:function(){var t=Uc(Ma)[0],e=Or().memoizedState;return[t,e]},useMutableSource:wg,useSyncExternalStore:bg,useId:Ig,unstable_isNewReconciler:!1},ex={readContext:Sr,useCallback:Ag,useContext:Sr,useEffect:ph,useImperativeHandle:Pg,useInsertionEffect:Tg,useLayoutEffect:jg,useMemo:Cg,useReducer:Fc,useRef:Og,useState:function(){return Fc(Ma)},useDebugValue:vh,useDeferredValue:function(t){var e=Or();return Pt===null?e.memoizedState=t:Rg(e,Pt.memoizedState,t)},useTransition:function(){var t=Fc(Ma)[0],e=Or().memoizedState;return[t,e]},useMutableSource:wg,useSyncExternalStore:bg,useId:Ig,unstable_isNewReconciler:!1};function Nr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Uf(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:bt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var yu={isMounted:function(t){return(t=t._reactInternals)?Pi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Zt(),i=qn(t),o=on(n,i);o.payload=e,r!=null&&(o.callback=r),e=$n(t,o,i),e!==null&&(Lr(e,t,i,n),sl(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Zt(),i=qn(t),o=on(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=$n(t,o,i),e!==null&&(Lr(e,t,i,n),sl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Zt(),n=qn(t),i=on(r,n);i.tag=2,e!=null&&(i.callback=e),e=$n(t,i,n),e!==null&&(Lr(e,t,n,r),sl(e,t,n))}};function pv(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Pa(r,n)||!Pa(i,o):!0}function $g(t,e,r){var n=!1,i=zn,o=e.contextType;return typeof o=="object"&&o!==null?o=Sr(o):(i=lr(e)?Ei:Yt.current,n=e.contextTypes,o=(n=n!=null)?vo(t,i):zn),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vv(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&yu.enqueueReplaceState(e,e.state,null)}function Ff(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},sh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Sr(o):(o=lr(e)?Ei:Yt.current,i.context=vo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Uf(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yu.enqueueReplaceState(i,i.state,null),Il(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wo(t,e){try{var r="",n=e;do r+=j1(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function zc(t,e,r){return{value:t,source:null,stack:r!=null?r:null,digest:e!=null?e:null}}function zf(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var tx=typeof WeakMap=="function"?WeakMap:Map;function Bg(t,e,r){r=on(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Bl||(Bl=!0,Zf=n),zf(t,e)},r}function qg(t,e,r){r=on(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){zf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){zf(t,e),typeof n!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function mv(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new tx;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=vx.bind(null,t,e,r),e.then(t,t))}function yv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gv(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=on(-1,1),e.tag=2,$n(r,e,1))),r.lanes|=1),t)}var rx=fn.ReactCurrentOwner,ar=!1;function Xt(t,e,r,n){e.child=t===null?vg(e,null,r,n):yo(e,t.child,r,n)}function wv(t,e,r,n,i){r=r.render;var o=e.ref;return uo(e,i),n=dh(t,e,r,n,o,i),r=hh(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,un(t,e,i)):(mt&&r&&eh(e),e.flags|=1,Xt(t,e,n,i),e.child)}function bv(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!kh(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Ug(t,e,o,n,i)):(t=hl(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Pa,r(a,n)&&t.ref===e.ref)return un(t,e,i)}return e.flags|=1,t=Un(o,n),t.ref=e.ref,t.return=e,e.child=t}function Ug(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(Pa(o,n)&&t.ref===e.ref)if(ar=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(ar=!0);else return e.lanes=t.lanes,un(t,e,i)}return Kf(t,e,r,n,i)}function Fg(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(io,hr),hr|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(io,hr),hr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ut(io,hr),hr|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,ut(io,hr),hr|=n;return Xt(t,e,i,r),e.child}function zg(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Kf(t,e,r,n,i){var o=lr(r)?Ei:Yt.current;return o=vo(e,o),uo(e,i),r=dh(t,e,r,n,o,i),n=hh(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,un(t,e,i)):(mt&&n&&eh(e),e.flags|=1,Xt(t,e,r,i),e.child)}function _v(t,e,r,n,i){if(lr(r)){var o=!0;Nl(e)}else o=!1;if(uo(e,i),e.stateNode===null)cl(t,e),$g(e,r,n),Ff(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,f=r.contextType;typeof f=="object"&&f!==null?f=Sr(f):(f=lr(r)?Ei:Yt.current,f=vo(e,f));var v=r.getDerivedStateFromProps,d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==f)&&vv(e,a,n,f),En=!1;var c=e.memoizedState;a.state=c,Il(e,n,a,i),l=e.memoizedState,s!==n||c!==l||sr.current||En?(typeof v=="function"&&(Uf(e,r,v,n),l=e.memoizedState),(s=En||pv(e,r,s,n,c,l,f))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=f,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,yg(t,e),s=e.memoizedProps,f=e.type===e.elementType?s:Nr(e.type,s),a.props=f,d=e.pendingProps,c=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Sr(l):(l=lr(r)?Ei:Yt.current,l=vo(e,l));var h=r.getDerivedStateFromProps;(v=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||c!==l)&&vv(e,a,n,l),En=!1,c=e.memoizedState,a.state=c,Il(e,n,a,i);var g=e.memoizedState;s!==d||c!==g||sr.current||En?(typeof h=="function"&&(Uf(e,r,h,n),g=e.memoizedState),(f=En||pv(e,r,f,n,c,g,l)||!1)?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=l,n=f):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),n=!1)}return Hf(t,e,r,n,o,i)}function Hf(t,e,r,n,i,o){zg(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&av(e,r,!1),un(t,e,o);n=e.stateNode,rx.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=yo(e,t.child,null,o),e.child=yo(e,null,s,o)):Xt(t,e,s,o),e.memoizedState=n.state,i&&av(e,r,!0),e.child}function Kg(t){var e=t.stateNode;e.pendingContext?ov(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ov(t,e.context,!1),lh(t,e.containerInfo)}function xv(t,e,r,n,i){return mo(),rh(i),e.flags|=256,Xt(t,e,r,n),e.child}var Wf={dehydrated:null,treeContext:null,retryLane:0};function Vf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hg(t,e,r){var n=e.pendingProps,i=gt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ut(gt,i&1),t===null)return Bf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=bu(a,n,0,null),t=_i(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Vf(r),e.memoizedState=Wf,t):mh(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return nx(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Un(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Un(s,o):(o=_i(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?Vf(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=Wf,n}return o=t.child,t=o.sibling,n=Un(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function mh(t,e){return e=bu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $s(t,e,r,n){return n!==null&&rh(n),yo(e,t.child,null,r),t=mh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nx(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=zc(Error(xe(422))),$s(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=bu({mode:"visible",children:n.children},i,0,null),o=_i(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&yo(e,t.child,null,a),e.child.memoizedState=Vf(a),e.memoizedState=Wf,o);if(!(e.mode&1))return $s(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(xe(419)),n=zc(o,n,void 0),$s(t,e,a,n)}if(s=(a&t.childLanes)!==0,ar||s){if(n=Lt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ln(t,i),Lr(n,t,i,-1))}return xh(),n=zc(Error(xe(421))),$s(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mx.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,vr=Mn(i.nextSibling),mr=e,mt=!0,Rr=null,t!==null&&(_r[xr++]=rn,_r[xr++]=nn,_r[xr++]=Si,rn=t.id,nn=t.overflow,Si=e),e=mh(e,n.children),e.flags|=4096,e)}function kv(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),qf(t.return,e,r)}function Kc(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Wg(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Xt(t,e,n.children,r),n=gt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kv(t,r,e);else if(t.tag===19)kv(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ut(gt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ll(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Kc(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ll(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Kc(e,!0,r,null,o);break;case"together":Kc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function un(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ti|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,r=Un(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Un(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ix(t,e,r){switch(e.tag){case 3:Kg(e),mo();break;case 5:gg(e);break;case 1:lr(e.type)&&Nl(e);break;case 4:lh(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ut(Cl,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ut(gt,gt.current&1),e.flags|=128,null):r&e.child.childLanes?Hg(t,e,r):(ut(gt,gt.current&1),t=un(t,e,r),t!==null?t.sibling:null);ut(gt,gt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Wg(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(gt,gt.current),n)break;return null;case 22:case 23:return e.lanes=0,Fg(t,e,r)}return un(t,e,r)}var Vg,Gf,Gg,Yg;Vg=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gf=function(){};Gg=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,yi(Wr.current);var o=null;switch(r){case"input":i=mf(t,i),n=mf(t,n),o=[];break;case"select":i=bt({},i,{value:void 0}),n=bt({},n,{value:void 0}),o=[];break;case"textarea":i=wf(t,i),n=wf(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Tl)}_f(r,n);var a;r=null;for(f in i)if(!n.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var s=i[f];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ka.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in n){var l=n[f];if(s=i!=null?i[f]:void 0,n.hasOwnProperty(f)&&l!==s&&(l!=null||s!=null))if(f==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(f,r)),r=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ka.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&ct("scroll",t),o||s===l||(o=[])):(o=o||[]).push(f,l))}r&&(o=o||[]).push("style",r);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};Yg=function(t,e,r,n){r!==n&&(e.flags|=4)};function ea(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ox(t,e,r){var n=e.pendingProps;switch(th(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return lr(e.type)&&jl(),Wt(e),null;case 3:return n=e.stateNode,go(),dt(sr),dt(Yt),ch(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ds(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rr!==null&&(rd(Rr),Rr=null))),Gf(t,e),Wt(e),null;case 5:uh(e);var i=yi(La.current);if(r=e.type,t!==null&&e.stateNode!=null)Gg(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(xe(166));return Wt(e),null}if(t=yi(Wr.current),Ds(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[zr]=e,n[Ra]=o,t=(e.mode&1)!==0,r){case"dialog":ct("cancel",n),ct("close",n);break;case"iframe":case"object":case"embed":ct("load",n);break;case"video":case"audio":for(i=0;i<ca.length;i++)ct(ca[i],n);break;case"source":ct("error",n);break;case"img":case"image":case"link":ct("error",n),ct("load",n);break;case"details":ct("toggle",n);break;case"input":Cp(n,o),ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ct("invalid",n);break;case"textarea":Ip(n,o),ct("invalid",n)}_f(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ls(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ls(n.textContent,s,t),i=["children",""+s]):ka.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ct("scroll",n)}switch(r){case"input":Ts(n),Rp(n,o,!0);break;case"textarea":Ts(n),Lp(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Tl)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ky(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[zr]=e,t[Ra]=n,Vg(t,e,!1,!1),e.stateNode=t;e:{switch(a=xf(r,n),r){case"dialog":ct("cancel",t),ct("close",t),i=n;break;case"iframe":case"object":case"embed":ct("load",t),i=n;break;case"video":case"audio":for(i=0;i<ca.length;i++)ct(ca[i],t);i=n;break;case"source":ct("error",t),i=n;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=n;break;case"details":ct("toggle",t),i=n;break;case"input":Cp(t,n),i=mf(t,n),ct("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=bt({},n,{value:void 0}),ct("invalid",t);break;case"textarea":Ip(t,n),i=wf(t,n),ct("invalid",t);break;default:i=n}_f(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Oy(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ey(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ea(t,l):typeof l=="number"&&Ea(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ka.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ct("scroll",t):l!=null&&qd(t,o,l,a))}switch(r){case"input":Ts(t),Rp(t,n,!1);break;case"textarea":Ts(t),Lp(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Fn(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?oo(t,!!n.multiple,o,!1):n.defaultValue!=null&&oo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)Yg(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(xe(166));if(r=yi(La.current),yi(Wr.current),Ds(e)){if(n=e.stateNode,r=e.memoizedProps,n[zr]=e,(o=n.nodeValue!==r)&&(t=mr,t!==null))switch(t.tag){case 3:Ls(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ls(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zr]=e,e.stateNode=n}return Wt(e),null;case 13:if(dt(gt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&vr!==null&&e.mode&1&&!(e.flags&128))hg(),mo(),e.flags|=98560,o=!1;else if(o=Ds(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(xe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(xe(317));o[zr]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),o=!1}else Rr!==null&&(rd(Rr),Rr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?At===0&&(At=3):xh())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return go(),Gf(t,e),t===null&&Aa(e.stateNode.containerInfo),Wt(e),null;case 10:return oh(e.type._context),Wt(e),null;case 17:return lr(e.type)&&jl(),Wt(e),null;case 19:if(dt(gt),o=e.memoizedState,o===null)return Wt(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)ea(o,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ll(t),a!==null){for(e.flags|=128,ea(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ut(gt,gt.current&1|2),e.child}t=t.sibling}o.tail!==null&&St()>bo&&(e.flags|=128,n=!0,ea(o,!1),e.lanes=4194304)}else{if(!n)if(t=Ll(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ea(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!mt)return Wt(e),null}else 2*St()-o.renderingStartTime>bo&&r!==1073741824&&(e.flags|=128,n=!0,ea(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=St(),e.sibling=null,r=gt.current,ut(gt,n?r&1|2:r&1),e):(Wt(e),null);case 22:case 23:return _h(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?hr&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function ax(t,e){switch(th(e),e.tag){case 1:return lr(e.type)&&jl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return go(),dt(sr),dt(Yt),ch(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uh(e),null;case 13:if(dt(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(gt),null;case 4:return go(),null;case 10:return oh(e.type._context),null;case 22:case 23:return _h(),null;case 24:return null;default:return null}}var Bs=!1,Vt=!1,sx=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function no(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_t(t,e,n)}else r.current=null}function Yf(t,e,r){try{r()}catch(n){_t(t,e,n)}}var Ev=!1;function lx(t,e){if(Cf=El,t=eg(),Zd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var a=0,s=-1,l=-1,f=0,v=0,d=t,c=null;t:for(;;){for(var h;d!==r||i!==0&&d.nodeType!==3||(s=a+i),d!==o||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)c=d,d=h;for(;;){if(d===t)break t;if(c===r&&++f===i&&(s=a),c===o&&++v===n&&(l=a),(h=d.nextSibling)!==null)break;d=c,c=d.parentNode}d=h}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rf={focusedElem:t,selectionRange:r},El=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,x=g.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?b:Nr(e.type,b),x);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(w){_t(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return g=Ev,Ev=!1,g}function wa(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Yf(e,r,o)}i=i.next}while(i!==n)}}function gu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Qf(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Qg(t){var e=t.alternate;e!==null&&(t.alternate=null,Qg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[Ra],delete e[Df],delete e[K_],delete e[H_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jg(t){return t.tag===5||t.tag===3||t.tag===4}function Sv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Tl));else if(n!==4&&(t=t.child,t!==null))for(Jf(t,e,r),t=t.sibling;t!==null;)Jf(t,e,r),t=t.sibling}function Xf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Xf(t,e,r),t=t.sibling;t!==null;)Xf(t,e,r),t=t.sibling}var $t=null,Ar=!1;function _n(t,e,r){for(r=r.child;r!==null;)Xg(t,e,r),r=r.sibling}function Xg(t,e,r){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(cu,r)}catch(s){}switch(r.tag){case 5:Vt||no(r,e);case 6:var n=$t,i=Ar;$t=null,_n(t,e,r),$t=n,Ar=i,$t!==null&&(Ar?(t=$t,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):$t.removeChild(r.stateNode));break;case 18:$t!==null&&(Ar?(t=$t,r=r.stateNode,t.nodeType===8?Mc(t.parentNode,r):t.nodeType===1&&Mc(t,r),ja(t)):Mc($t,r.stateNode));break;case 4:n=$t,i=Ar,$t=r.stateNode.containerInfo,Ar=!0,_n(t,e,r),$t=n,Ar=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Yf(r,e,a),i=i.next}while(i!==n)}_n(t,e,r);break;case 1:if(!Vt&&(no(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){_t(r,e,s)}_n(t,e,r);break;case 21:_n(t,e,r);break;case 22:r.mode&1?(Vt=(n=Vt)||r.memoizedState!==null,_n(t,e,r),Vt=n):_n(t,e,r);break;default:_n(t,e,r)}}function Ov(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new sx),e.forEach(function(n){var i=yx.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Tr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:$t=s.stateNode,Ar=!1;break e;case 3:$t=s.stateNode.containerInfo,Ar=!0;break e;case 4:$t=s.stateNode.containerInfo,Ar=!0;break e}s=s.return}if($t===null)throw Error(xe(160));Xg(o,a,i),$t=null,Ar=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(f){_t(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Zg(e,t),e=e.sibling}function Zg(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tr(e,t),Br(t),n&4){try{wa(3,t,t.return),gu(3,t)}catch(b){_t(t,t.return,b)}try{wa(5,t,t.return)}catch(b){_t(t,t.return,b)}}break;case 1:Tr(e,t),Br(t),n&512&&r!==null&&no(r,r.return);break;case 5:if(Tr(e,t),Br(t),n&512&&r!==null&&no(r,r.return),t.flags&32){var i=t.stateNode;try{Ea(i,"")}catch(b){_t(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&_y(i,o),xf(s,a);var f=xf(s,o);for(a=0;a<l.length;a+=2){var v=l[a],d=l[a+1];v==="style"?Oy(i,d):v==="dangerouslySetInnerHTML"?Ey(i,d):v==="children"?Ea(i,d):qd(i,v,d,f)}switch(s){case"input":yf(i,o);break;case"textarea":xy(i,o);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?oo(i,!!o.multiple,h,!1):c!==!!o.multiple&&(o.defaultValue!=null?oo(i,!!o.multiple,o.defaultValue,!0):oo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ra]=o}catch(b){_t(t,t.return,b)}}break;case 6:if(Tr(e,t),Br(t),n&4){if(t.stateNode===null)throw Error(xe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){_t(t,t.return,b)}}break;case 3:if(Tr(e,t),Br(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ja(e.containerInfo)}catch(b){_t(t,t.return,b)}break;case 4:Tr(e,t),Br(t);break;case 13:Tr(e,t),Br(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(wh=St())),n&4&&Ov(t);break;case 22:if(v=r!==null&&r.memoizedState!==null,t.mode&1?(Vt=(f=Vt)||v,Tr(e,t),Vt=f):Tr(e,t),Br(t),n&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!v&&t.mode&1)for(Ie=t,v=t.child;v!==null;){for(d=Ie=v;Ie!==null;){switch(c=Ie,h=c.child,c.tag){case 0:case 11:case 14:case 15:wa(4,c,c.return);break;case 1:no(c,c.return);var g=c.stateNode;if(typeof g.componentWillUnmount=="function"){n=c,r=c.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(b){_t(n,r,b)}}break;case 5:no(c,c.return);break;case 22:if(c.memoizedState!==null){jv(d);continue}}h!==null?(h.return=c,Ie=h):jv(d)}v=v.sibling}e:for(v=null,d=t;;){if(d.tag===5){if(v===null){v=d;try{i=d.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Sy("display",a))}catch(b){_t(t,t.return,b)}}}else if(d.tag===6){if(v===null)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(b){_t(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;v===d&&(v=null),d=d.return}v===d&&(v=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tr(e,t),Br(t),n&4&&Ov(t);break;case 21:break;default:Tr(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Jg(r)){var n=r;break e}r=r.return}throw Error(xe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ea(i,""),n.flags&=-33);var o=Sv(t);Xf(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=Sv(t);Jf(t,s,a);break;default:throw Error(xe(161))}}catch(l){_t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ux(t,e,r){Ie=t,e0(t)}function e0(t,e,r){for(var n=(t.mode&1)!==0;Ie!==null;){var i=Ie,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Bs;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Vt;s=Bs;var f=Vt;if(Bs=a,(Vt=l)&&!f)for(Ie=i;Ie!==null;)a=Ie,l=a.child,a.tag===22&&a.memoizedState!==null?Nv(i):l!==null?(l.return=a,Ie=l):Nv(i);for(;o!==null;)Ie=o,e0(o),o=o.sibling;Ie=i,Bs=s,Vt=f}Tv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ie=o):Tv(t)}}function Tv(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||gu(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Vt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Nr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&fv(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}fv(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var v=f.memoizedState;if(v!==null){var d=v.dehydrated;d!==null&&ja(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Vt||e.flags&512&&Qf(e)}catch(c){_t(e,e.return,c)}}if(e===t){Ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function jv(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function Nv(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{gu(4,e)}catch(l){_t(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){_t(e,i,l)}}var o=e.return;try{Qf(e)}catch(l){_t(e,o,l)}break;case 5:var a=e.return;try{Qf(e)}catch(l){_t(e,a,l)}}}catch(l){_t(e,e.return,l)}if(e===t){Ie=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Ie=s;break}Ie=e.return}}var cx=Math.ceil,$l=fn.ReactCurrentDispatcher,yh=fn.ReactCurrentOwner,Er=fn.ReactCurrentBatchConfig,tt=0,Lt=null,Nt=null,qt=0,hr=0,io=Hn(0),At=0,Ba=null,Ti=0,wu=0,gh=0,ba=null,nr=null,wh=0,bo=1/0,Zr=null,Bl=!1,Zf=null,Bn=null,qs=!1,Rn=null,ql=0,_a=0,ed=null,fl=-1,dl=0;function Zt(){return tt&6?St():fl!==-1?fl:fl=St()}function qn(t){return t.mode&1?tt&2&&qt!==0?qt&-qt:V_.transition!==null?(dl===0&&(dl=$y()),dl):(t=ot,t!==0||(t=window.event,t=t===void 0?16:Hy(t.type)),t):1}function Lr(t,e,r,n){if(50<_a)throw _a=0,ed=null,Error(xe(185));Ha(t,r,n),(!(tt&2)||t!==Lt)&&(t===Lt&&(!(tt&2)&&(wu|=r),At===4&&jn(t,qt)),ur(t,n),r===1&&tt===0&&!(e.mode&1)&&(bo=St()+500,vu&&Wn()))}function ur(t,e){var r=t.callbackNode;V1(t,e);var n=kl(t,t===Lt?qt:0);if(n===0)r!==null&&$p(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&$p(r),e===1)t.tag===0?W_(Pv.bind(null,t)):cg(Pv.bind(null,t)),F_(function(){!(tt&6)&&Wn()}),r=null;else{switch(By(n)){case 1:r=Hd;break;case 4:r=Dy;break;case 16:r=xl;break;case 536870912:r=My;break;default:r=xl}r=l0(r,t0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function t0(t,e){if(fl=-1,dl=0,tt&6)throw Error(xe(327));var r=t.callbackNode;if(co()&&t.callbackNode!==r)return null;var n=kl(t,t===Lt?qt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ul(t,n);else{e=n;var i=tt;tt|=2;var o=n0();(Lt!==t||qt!==e)&&(Zr=null,bo=St()+500,bi(t,e));do try{hx();break}catch(s){r0(t,s)}while(!0);ih(),$l.current=o,tt=i,Nt!==null?e=0:(Lt=null,qt=0,e=At)}if(e!==0){if(e===2&&(i=Tf(t),i!==0&&(n=i,e=td(t,i))),e===1)throw r=Ba,bi(t,0),jn(t,n),ur(t,St()),r;if(e===6)jn(t,n);else{if(i=t.current.alternate,!(n&30)&&!fx(i)&&(e=Ul(t,n),e===2&&(o=Tf(t),o!==0&&(n=o,e=td(t,o))),e===1))throw r=Ba,bi(t,0),jn(t,n),ur(t,St()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(xe(345));case 2:si(t,nr,Zr);break;case 3:if(jn(t,n),(n&130023424)===n&&(e=wh+500-St(),10<e)){if(kl(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lf(si.bind(null,t,nr,Zr),e);break}si(t,nr,Zr);break;case 4:if(jn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ir(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=St()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cx(n/1960))-n,10<n){t.timeoutHandle=Lf(si.bind(null,t,nr,Zr),n);break}si(t,nr,Zr);break;case 5:si(t,nr,Zr);break;default:throw Error(xe(329))}}}return ur(t,St()),t.callbackNode===r?t0.bind(null,t):null}function td(t,e){var r=ba;return t.current.memoizedState.isDehydrated&&(bi(t,e).flags|=256),t=Ul(t,e),t!==2&&(e=nr,nr=r,e!==null&&rd(e)),t}function rd(t){nr===null?nr=t:nr.push.apply(nr,t)}function fx(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Dr(o(),i))return!1}catch(a){return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jn(t,e){for(e&=~gh,e&=~wu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ir(e),n=1<<r;t[r]=-1,e&=~n}}function Pv(t){if(tt&6)throw Error(xe(327));co();var e=kl(t,0);if(!(e&1))return ur(t,St()),null;var r=Ul(t,e);if(t.tag!==0&&r===2){var n=Tf(t);n!==0&&(e=n,r=td(t,n))}if(r===1)throw r=Ba,bi(t,0),jn(t,e),ur(t,St()),r;if(r===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,si(t,nr,Zr),ur(t,St()),null}function bh(t,e){var r=tt;tt|=1;try{return t(e)}finally{tt=r,tt===0&&(bo=St()+500,vu&&Wn())}}function ji(t){Rn!==null&&Rn.tag===0&&!(tt&6)&&co();var e=tt;tt|=1;var r=Er.transition,n=ot;try{if(Er.transition=null,ot=1,t)return t()}finally{ot=n,Er.transition=r,tt=e,!(tt&6)&&Wn()}}function _h(){hr=io.current,dt(io)}function bi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,U_(r)),Nt!==null)for(r=Nt.return;r!==null;){var n=r;switch(th(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jl();break;case 3:go(),dt(sr),dt(Yt),ch();break;case 5:uh(n);break;case 4:go();break;case 13:dt(gt);break;case 19:dt(gt);break;case 10:oh(n.type._context);break;case 22:case 23:_h()}r=r.return}if(Lt=t,Nt=t=Un(t.current,null),qt=hr=e,At=0,Ba=null,gh=wu=Ti=0,nr=ba=null,mi!==null){for(e=0;e<mi.length;e++)if(r=mi[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}mi=null}return t}function r0(t,e){do{var r=Nt;try{if(ih(),ll.current=Ml,Dl){for(var n=wt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Dl=!1}if(Oi=0,It=Pt=wt=null,ga=!1,Da=0,yh.current=null,r===null||r.return===null){At=1,Ba=e,Nt=null;break}e:{var o=t,a=r.return,s=r,l=e;if(e=qt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l,v=s,d=v.tag;if(!(v.mode&1)&&(d===0||d===11||d===15)){var c=v.alternate;c?(v.updateQueue=c.updateQueue,v.memoizedState=c.memoizedState,v.lanes=c.lanes):(v.updateQueue=null,v.memoizedState=null)}var h=yv(a);if(h!==null){h.flags&=-257,gv(h,a,s,o,e),h.mode&1&&mv(o,f,e),e=h,l=f;var g=e.updateQueue;if(g===null){var b=new Set;b.add(l),e.updateQueue=b}else g.add(l);break e}else{if(!(e&1)){mv(o,f,e),xh();break e}l=Error(xe(426))}}else if(mt&&s.mode&1){var x=yv(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),gv(x,a,s,o,e),rh(wo(l,s));break e}}o=l=wo(l,s),At!==4&&(At=2),ba===null?ba=[o]:ba.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=Bg(o,l,e);cv(o,p);break e;case 1:s=l;var m=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bn===null||!Bn.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=qg(o,s,e);cv(o,w);break e}}o=o.return}while(o!==null)}o0(r)}catch(S){e=S,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(!0)}function n0(){var t=$l.current;return $l.current=Ml,t===null?Ml:t}function xh(){(At===0||At===3||At===2)&&(At=4),Lt===null||!(Ti&268435455)&&!(wu&268435455)||jn(Lt,qt)}function Ul(t,e){var r=tt;tt|=2;var n=n0();(Lt!==t||qt!==e)&&(Zr=null,bi(t,e));do try{dx();break}catch(i){r0(t,i)}while(!0);if(ih(),tt=r,$l.current=n,Nt!==null)throw Error(xe(261));return Lt=null,qt=0,At}function dx(){for(;Nt!==null;)i0(Nt)}function hx(){for(;Nt!==null&&!$1();)i0(Nt)}function i0(t){var e=s0(t.alternate,t,hr);t.memoizedProps=t.pendingProps,e===null?o0(t):Nt=e,yh.current=null}function o0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ax(r,e),r!==null){r.flags&=32767,Nt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,Nt=null;return}}else if(r=ox(r,e,hr),r!==null){Nt=r;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);At===0&&(At=5)}function si(t,e,r){var n=ot,i=Er.transition;try{Er.transition=null,ot=1,px(t,e,r,n)}finally{Er.transition=i,ot=n}return null}function px(t,e,r,n){do co();while(Rn!==null);if(tt&6)throw Error(xe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(G1(t,o),t===Lt&&(Nt=Lt=null,qt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qs||(qs=!0,l0(xl,function(){return co(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Er.transition,Er.transition=null;var a=ot;ot=1;var s=tt;tt|=4,yh.current=null,lx(t,r),Zg(r,t),I_(Rf),El=!!Cf,Rf=Cf=null,t.current=r,ux(r),B1(),tt=s,ot=a,Er.transition=o}else t.current=r;if(qs&&(qs=!1,Rn=t,ql=i),o=t.pendingLanes,o===0&&(Bn=null),F1(r.stateNode),ur(t,St()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Bl)throw Bl=!1,t=Zf,Zf=null,t;return ql&1&&t.tag!==0&&co(),o=t.pendingLanes,o&1?t===ed?_a++:(_a=0,ed=t):_a=0,Wn(),null}function co(){if(Rn!==null){var t=By(ql),e=Er.transition,r=ot;try{if(Er.transition=null,ot=16>t?16:t,Rn===null)var n=!1;else{if(t=Rn,Rn=null,ql=0,tt&6)throw Error(xe(331));var i=tt;for(tt|=4,Ie=t.current;Ie!==null;){var o=Ie,a=o.child;if(Ie.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var f=s[l];for(Ie=f;Ie!==null;){var v=Ie;switch(v.tag){case 0:case 11:case 15:wa(8,v,o)}var d=v.child;if(d!==null)d.return=v,Ie=d;else for(;Ie!==null;){v=Ie;var c=v.sibling,h=v.return;if(Qg(v),v===f){Ie=null;break}if(c!==null){c.return=h,Ie=c;break}Ie=h}}}var g=o.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}Ie=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ie=a;else e:for(;Ie!==null;){if(o=Ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wa(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Ie=p;break e}Ie=o.return}}var m=t.current;for(Ie=m;Ie!==null;){a=Ie;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Ie=_;else e:for(a=m;Ie!==null;){if(s=Ie,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:gu(9,s)}}catch(S){_t(s,s.return,S)}if(s===a){Ie=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,Ie=w;break e}Ie=s.return}}if(tt=i,Wn(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(cu,t)}catch(S){}n=!0}return n}finally{ot=r,Er.transition=e}}return!1}function Av(t,e,r){e=wo(r,e),e=Bg(t,e,1),t=$n(t,e,1),e=Zt(),t!==null&&(Ha(t,1,e),ur(t,e))}function _t(t,e,r){if(t.tag===3)Av(t,t,r);else for(;e!==null;){if(e.tag===3){Av(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bn===null||!Bn.has(n))){t=wo(r,t),t=qg(e,t,1),e=$n(e,t,1),t=Zt(),e!==null&&(Ha(e,1,t),ur(e,t));break}}e=e.return}}function vx(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&r,Lt===t&&(qt&r)===r&&(At===4||At===3&&(qt&130023424)===qt&&500>St()-wh?bi(t,0):gh|=r),ur(t,e)}function a0(t,e){e===0&&(t.mode&1?(e=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):e=1);var r=Zt();t=ln(t,e),t!==null&&(Ha(t,e,r),ur(t,r))}function mx(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),a0(t,r)}function yx(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(xe(314))}n!==null&&n.delete(e),a0(t,r)}var s0;s0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||sr.current)ar=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ar=!1,ix(t,e,r);ar=!!(t.flags&131072)}else ar=!1,mt&&e.flags&1048576&&fg(e,Al,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;cl(t,e),t=e.pendingProps;var i=vo(e,Yt.current);uo(e,r),i=dh(null,e,n,t,i,r);var o=hh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lr(n)?(o=!0,Nl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sh(e),i.updater=yu,e.stateNode=i,i._reactInternals=e,Ff(e,n,t,r),e=Hf(null,e,n,!0,o,r)):(e.tag=0,mt&&o&&eh(e),Xt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(cl(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=wx(n),t=Nr(n,t),i){case 0:e=Kf(null,e,n,t,r);break e;case 1:e=_v(null,e,n,t,r);break e;case 11:e=wv(null,e,n,t,r);break e;case 14:e=bv(null,e,n,Nr(n.type,t),r);break e}throw Error(xe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nr(n,i),Kf(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nr(n,i),_v(t,e,n,i,r);case 3:e:{if(Kg(e),t===null)throw Error(xe(387));n=e.pendingProps,o=e.memoizedState,i=o.element,yg(t,e),Il(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=wo(Error(xe(423)),e),e=xv(t,e,n,r,i);break e}else if(n!==i){i=wo(Error(xe(424)),e),e=xv(t,e,n,r,i);break e}else for(vr=Mn(e.stateNode.containerInfo.firstChild),mr=e,mt=!0,Rr=null,r=vg(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mo(),n===i){e=un(t,e,r);break e}Xt(t,e,n,r)}e=e.child}return e;case 5:return gg(e),t===null&&Bf(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,If(n,i)?a=null:o!==null&&If(n,o)&&(e.flags|=32),zg(t,e),Xt(t,e,a,r),e.child;case 6:return t===null&&Bf(e),null;case 13:return Hg(t,e,r);case 4:return lh(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yo(e,null,n,r):Xt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nr(n,i),wv(t,e,n,i,r);case 7:return Xt(t,e,e.pendingProps,r),e.child;case 8:return Xt(t,e,e.pendingProps.children,r),e.child;case 12:return Xt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,ut(Cl,n._currentValue),n._currentValue=a,o!==null)if(Dr(o.value,a)){if(o.children===i.children&&!sr.current){e=un(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=on(-1,r&-r),l.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var v=f.pending;v===null?l.next=l:(l.next=v.next,v.next=l),f.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),qf(o.return,r,e),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(xe(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),qf(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Xt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,uo(e,r),i=Sr(i),n=n(i),e.flags|=1,Xt(t,e,n,r),e.child;case 14:return n=e.type,i=Nr(n,e.pendingProps),i=Nr(n.type,i),bv(t,e,n,i,r);case 15:return Ug(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nr(n,i),cl(t,e),e.tag=1,lr(n)?(t=!0,Nl(e)):t=!1,uo(e,r),$g(e,n,i),Ff(e,n,i,r),Hf(null,e,n,!0,t,r);case 19:return Wg(t,e,r);case 22:return Fg(t,e,r)}throw Error(xe(156,e.tag))};function l0(t,e){return Ly(t,e)}function gx(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(t,e,r,n){return new gx(t,e,r,n)}function kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wx(t){if(typeof t=="function")return kh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fd)return 11;if(t===zd)return 14}return 2}function Un(t,e){var r=t.alternate;return r===null?(r=kr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function hl(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")kh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Gi:return _i(r.children,i,o,e);case Ud:a=8,i|=8;break;case df:return t=kr(12,r,e,i|2),t.elementType=df,t.lanes=o,t;case hf:return t=kr(13,r,e,i),t.elementType=hf,t.lanes=o,t;case pf:return t=kr(19,r,e,i),t.elementType=pf,t.lanes=o,t;case gy:return bu(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case my:a=10;break e;case yy:a=9;break e;case Fd:a=11;break e;case zd:a=14;break e;case kn:a=16,n=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=kr(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function _i(t,e,r,n){return t=kr(7,t,n,e),t.lanes=r,t}function bu(t,e,r,n){return t=kr(22,t,n,e),t.elementType=gy,t.lanes=r,t.stateNode={isHidden:!1},t}function Hc(t,e,r){return t=kr(6,t,null,e),t.lanes=r,t}function Wc(t,e,r){return e=kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bx(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oc(0),this.expirationTimes=Oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Eh(t,e,r,n,i,o,a,s,l){return t=new bx(t,e,r,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=kr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sh(o),t}function _x(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function u0(t){if(!t)return zn;t=t._reactInternals;e:{if(Pi(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var r=t.type;if(lr(r))return ug(t,r,e)}return e}function c0(t,e,r,n,i,o,a,s,l){return t=Eh(r,n,!0,t,i,o,a,s,l),t.context=u0(null),r=t.current,n=Zt(),i=qn(r),o=on(n,i),o.callback=e!=null?e:null,$n(r,o,i),t.current.lanes=i,Ha(t,i,n),ur(t,n),t}function _u(t,e,r,n){var i=e.current,o=Zt(),a=qn(i);return r=u0(r),e.context===null?e.context=r:e.pendingContext=r,e=on(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$n(i,e,a),t!==null&&(Lr(t,i,a,o),sl(t,i,a)),a}function Fl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Sh(t,e){Cv(t,e),(t=t.alternate)&&Cv(t,e)}function xx(){return null}var f0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Oh(t){this._internalRoot=t}xu.prototype.render=Oh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));_u(t,e,null,null)};xu.prototype.unmount=Oh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ji(function(){_u(null,t,null,null)}),e[sn]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fy();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Tn.length&&e!==0&&e<Tn[r].priority;r++);Tn.splice(r,0,t),r===0&&Ky(t)}};function Th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ku(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rv(){}function kx(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var f=Fl(a);o.call(f)}}var a=c0(e,n,t,0,null,!1,!1,"",Rv);return t._reactRootContainer=a,t[sn]=a.current,Aa(t.nodeType===8?t.parentNode:t),ji(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var f=Fl(l);s.call(f)}}var l=Eh(t,0,!1,null,null,!1,!1,"",Rv);return t._reactRootContainer=l,t[sn]=l.current,Aa(t.nodeType===8?t.parentNode:t),ji(function(){_u(e,l,r,n)}),l}function Eu(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Fl(a);s.call(l)}}_u(e,a,t,i)}else a=kx(r,e,t,i,n);return Fl(a)}qy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ua(e.pendingLanes);r!==0&&(Wd(e,r|1),ur(e,St()),!(tt&6)&&(bo=St()+500,Wn()))}break;case 13:ji(function(){var n=ln(t,1);if(n!==null){var i=Zt();Lr(n,t,1,i)}}),Sh(t,1)}};Vd=function(t){if(t.tag===13){var e=ln(t,134217728);if(e!==null){var r=Zt();Lr(e,t,134217728,r)}Sh(t,134217728)}};Uy=function(t){if(t.tag===13){var e=qn(t),r=ln(t,e);if(r!==null){var n=Zt();Lr(r,t,e,n)}Sh(t,e)}};Fy=function(){return ot};zy=function(t,e){var r=ot;try{return ot=t,e()}finally{ot=r}};Ef=function(t,e,r){switch(e){case"input":if(yf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=pu(n);if(!i)throw Error(xe(90));by(n),yf(n,i)}}}break;case"textarea":xy(t,r);break;case"select":e=r.value,e!=null&&oo(t,!!r.multiple,e,!1)}};Ny=bh;Py=ji;var Ex={usingClientEntryPoint:!1,Events:[Va,Xi,pu,Ty,jy,bh]},ta={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sx={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ry(t),t===null?null:t.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||xx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Us.isDisabled&&Us.supportsFiber)try{cu=Us.inject(Sx),Hr=Us}catch(t){}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ex;gr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(e))throw Error(xe(200));return _x(t,e,null,r)};gr.createRoot=function(t,e){if(!Th(t))throw Error(xe(299));var r=!1,n="",i=f0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Eh(t,1,!1,null,null,r,!1,n,i),t[sn]=e.current,Aa(t.nodeType===8?t.parentNode:t),new Oh(e)};gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=Ry(e),t=t===null?null:t.stateNode,t};gr.flushSync=function(t){return ji(t)};gr.hydrate=function(t,e,r){if(!ku(e))throw Error(xe(200));return Eu(null,t,e,!0,r)};gr.hydrateRoot=function(t,e,r){if(!Th(t))throw Error(xe(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=f0;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=c0(e,null,t,1,r!=null?r:null,i,!1,o,a),t[sn]=e.current,Aa(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new xu(e)};gr.render=function(t,e,r){if(!ku(e))throw Error(xe(200));return Eu(null,t,e,!1,r)};gr.unmountComponentAtNode=function(t){if(!ku(t))throw Error(xe(40));return t._reactRootContainer?(ji(function(){Eu(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1};gr.unstable_batchedUpdates=bh;gr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ku(r))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return Eu(t,e,r,!1,n)};gr.version="18.3.1-next-f1338f8080-20240426";function d0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d0)}catch(t){console.error(t)}}d0(),dy.exports=gr;var h0=dy.exports,p0,Iv=h0;p0=Iv.createRoot,Iv.hydrateRoot;const Ox="modulepreload",Tx=function(t,e){return new URL(t,e).href},Lv={},qa=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const a=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(f=>{if(f=Tx(f,n),f in Lv)return;Lv[f]=!0;const v=f.endsWith(".css"),d=v?'[rel="stylesheet"]':"";if(!!n)for(let g=a.length-1;g>=0;g--){const b=a[g];if(b.href===f&&(!v||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${d}`))return;const h=document.createElement("link");if(h.rel=v?"stylesheet":Ox,v||(h.as="script"),h.crossOrigin="",h.href=f,l&&h.setAttribute("nonce",l),document.head.appendChild(h),v)return new Promise((g,b)=>{h.addEventListener("load",g),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v0=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=he.forwardRef((f,l)=>{var v=f,{color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:a}=v,s=Es(v,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return he.createElement("svg",Ce(We(Ce({ref:l},Nx),{width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:v0("lucide",i)}),s),[...a.map(([d,c])=>he.createElement(d,c)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(t,e)=>{const r=he.forwardRef((a,o)=>{var s=a,{className:n}=s,i=Es(s,["className"]);return he.createElement(Px,Ce({ref:o,iconNode:e,className:v0(`lucide-${jx(t)}`,n)},i))});return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Je("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Je("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=Je("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=Je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Je("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=Je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Je("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Je("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=Je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Je("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=Je("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=Je("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Je("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Je("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=Je("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Je("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Je("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Je("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=Je("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=Je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Je("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=Je("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Kl=t=>{if(!t)return"";const[e,r]=t.split(":").map(Number),n=e>=12?"PM":"AM";return`${e%12||12}:${r.toString().padStart(2,"0")} ${n}`},ik=t=>{if(!t.startTime)return null;const e=new Date,[r,n]=t.startTime.split(":").map(Number),i=new Date;if(i.setHours(r,n,0,0),i>e){const o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()];if(t.repeat==="Daily"||t.repeat==="Weekly"&&t.repeatDay===o||t.repeatDay===o)return i}if(t.repeat==="Daily"){const o=new Date(i);return i<=e&&o.setDate(i.getDate()+1),o}if(t.repeat==="Weekly"){const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].indexOf(t.repeatDay),s=e.getDay();let l=a-s;l<=0&&(l+=7);const f=new Date(i);return f.setDate(i.getDate()+l),f}return null},ok=(t,e)=>{if(!t.startTime)return null;const r=new Date,[n,i]=t.startTime.split(":").map(Number),o=new Date(e);o.setHours(n,i,0,0);const a=o-r;if(a<0){const[f,v]=t.endTime?t.endTime.split(":").map(Number):[n+1,i],d=new Date(e);if(d.setHours(f,v,0,0),r<d)return"In Progress";const c=ik(t);if(c){const h=c-r;if(h>0){const g=Math.floor(h/864e5),b=Math.floor(h%(1e3*60*60*24)/(1e3*60*60));return`Next: ${g>0?`${g}d `:""}${b}h`}}return"Finished"}const s=Math.floor(a/(1e3*60*60)),l=Math.floor(a%(1e3*60*60)/(1e3*60));return s>24?`in ${Math.floor(s/24)} days`:s>0?`in ${s} hr`:`in ${l} min`},y0=6048e5,ak=864e5,g0=6e4,w0=36e5,$v=Symbol.for("constructDateFrom");function Vr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&$v in t?t[$v](e):t instanceof Date?new t.constructor(e):new Date(e)}function Qt(t,e){return Vr(e||t,t)}function sk(t,e,r){const n=Qt(t,r==null?void 0:r.in);return isNaN(e)?Vr(t,NaN):(e&&n.setDate(n.getDate()+e),n)}let lk={};function Ou(){return lk}function xo(t,e){var s,l,f,v,d,c,h,g;const r=Ou(),n=(g=(h=(v=(f=e==null?void 0:e.weekStartsOn)!=null?f:(l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)!=null?v:r.weekStartsOn)!=null?h:(c=(d=r.locale)==null?void 0:d.options)==null?void 0:c.weekStartsOn)!=null?g:0,i=Qt(t,e==null?void 0:e.in),o=i.getDay(),a=(o<n?7:0)+o-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Hl(t,e){return xo(t,We(Ce({},e),{weekStartsOn:1}))}function b0(t,e){const r=Qt(t,e==null?void 0:e.in),n=r.getFullYear(),i=Vr(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const o=Hl(i),a=Vr(r,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=Hl(a);return r.getTime()>=o.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function Bv(t){const e=Qt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function _0(t,...e){const r=Vr.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Wl(t,e){const r=Qt(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function uk(t,e,r){const[n,i]=_0(r==null?void 0:r.in,t,e),o=Wl(n),a=Wl(i),s=+o-Bv(o),l=+a-Bv(a);return Math.round((s-l)/ak)}function ck(t,e){const r=b0(t,e),n=Vr(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Hl(n)}function qv(t,e,r){const[n,i]=_0(r==null?void 0:r.in,t,e);return+Wl(n)==+Wl(i)}function fk(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dk(t){return!(!fk(t)&&typeof t!="number"||isNaN(+Qt(t)))}function hk(t,e){const r=Qt(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const pk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vk=(t,e,r)=>{let n;const i=pk[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Vc(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const mk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wk={date:Vc({formats:mk,defaultWidth:"full"}),time:Vc({formats:yk,defaultWidth:"full"}),dateTime:Vc({formats:gk,defaultWidth:"full"})},bk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_k=(t,e,r,n)=>bk[t];function ra(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{const a=t.defaultWidth,s=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[s]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const xk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ek={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ok={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Tk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jk=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Nk={ordinalNumber:jk,era:ra({values:xk,defaultWidth:"wide"}),quarter:ra({values:kk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ra({values:Ek,defaultWidth:"wide"}),day:ra({values:Sk,defaultWidth:"wide"}),dayPeriod:ra({values:Ok,defaultWidth:"wide",formattingValues:Tk,defaultFormattingWidth:"wide"})};function na(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?Ak(s,d=>d.test(a)):Pk(s,d=>d.test(a));let f;f=t.valueCallback?t.valueCallback(l):l,f=r.valueCallback?r.valueCallback(f):f;const v=e.slice(a.length);return{value:f,rest:v}}}function Pk(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Ak(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Ck(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;const s=e.slice(i.length);return{value:a,rest:s}}}const Rk=/^(\d+)(th|st|nd|rd)?/i,Ik=/\d+/i,Lk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dk={any:[/^b/i,/^(a|c)/i]},Mk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$k={any:[/1/i,/2/i,/3/i,/4/i]},Bk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hk={ordinalNumber:Ck({matchPattern:Rk,parsePattern:Ik,valueCallback:t=>parseInt(t,10)}),era:na({matchPatterns:Lk,defaultMatchWidth:"wide",parsePatterns:Dk,defaultParseWidth:"any"}),quarter:na({matchPatterns:Mk,defaultMatchWidth:"wide",parsePatterns:$k,defaultParseWidth:"any",valueCallback:t=>t+1}),month:na({matchPatterns:Bk,defaultMatchWidth:"wide",parsePatterns:qk,defaultParseWidth:"any"}),day:na({matchPatterns:Uk,defaultMatchWidth:"wide",parsePatterns:Fk,defaultParseWidth:"any"}),dayPeriod:na({matchPatterns:zk,defaultMatchWidth:"any",parsePatterns:Kk,defaultParseWidth:"any"})},Wk={code:"en-US",formatDistance:vk,formatLong:wk,formatRelative:_k,localize:Nk,match:Hk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vk(t,e){const r=Qt(t,e==null?void 0:e.in);return uk(r,hk(r))+1}function Gk(t,e){const r=Qt(t,e==null?void 0:e.in),n=+Hl(r)-+ck(r);return Math.round(n/y0)+1}function x0(t,e){var v,d,c,h,g,b,x,p;const r=Qt(t,e==null?void 0:e.in),n=r.getFullYear(),i=Ou(),o=(p=(x=(h=(c=e==null?void 0:e.firstWeekContainsDate)!=null?c:(d=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:d.firstWeekContainsDate)!=null?h:i.firstWeekContainsDate)!=null?x:(b=(g=i.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)!=null?p:1,a=Vr((e==null?void 0:e.in)||t,0);a.setFullYear(n+1,0,o),a.setHours(0,0,0,0);const s=xo(a,e),l=Vr((e==null?void 0:e.in)||t,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const f=xo(l,e);return+r>=+s?n+1:+r>=+f?n:n-1}function Yk(t,e){var s,l,f,v,d,c,h,g;const r=Ou(),n=(g=(h=(v=(f=e==null?void 0:e.firstWeekContainsDate)!=null?f:(l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)!=null?v:r.firstWeekContainsDate)!=null?h:(c=(d=r.locale)==null?void 0:d.options)==null?void 0:c.firstWeekContainsDate)!=null?g:1,i=x0(t,e),o=Vr((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),xo(o,e)}function Qk(t,e){const r=Qt(t,e==null?void 0:e.in),n=+xo(r,e)-+Yk(r,e);return Math.round(n/y0)+1}function it(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const xn={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return it(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):it(r+1,2)},d(t,e){return it(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return it(t.getHours()%12||12,e.length)},H(t,e){return it(t.getHours(),e.length)},m(t,e){return it(t.getMinutes(),e.length)},s(t,e){return it(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return it(i,e.length)}},qi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Uv={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return xn.y(t,e)},Y:function(t,e,r,n){const i=x0(t,n),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return it(a,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):it(o,e.length)},R:function(t,e){const r=b0(t);return it(r,e.length)},u:function(t,e){const r=t.getFullYear();return it(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return it(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return xn.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Qk(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):it(i,e.length)},I:function(t,e,r){const n=Gk(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):it(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):xn.d(t,e)},D:function(t,e,r){const n=Vk(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):it(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return it(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return it(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return it(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=qi.noon:n===0?i=qi.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=qi.evening:n>=12?i=qi.afternoon:n>=4?i=qi.morning:i=qi.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xn.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):xn.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):xn.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):xn.s(t,e)},S:function(t,e){return xn.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return zv(n);case"XXXX":case"XX":return li(n);case"XXXXX":case"XXX":default:return li(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return zv(n);case"xxxx":case"xx":return li(n);case"xxxxx":case"xxx":default:return li(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Fv(n,":");case"OOOO":default:return"GMT"+li(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Fv(n,":");case"zzzz":default:return"GMT"+li(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return it(n,e.length)},T:function(t,e,r){return it(+t,e.length)}};function Fv(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+e+it(o,2)}function zv(t,e){return t%60===0?(t>0?"-":"+")+it(Math.abs(t)/60,2):li(t,e)}function li(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=it(Math.trunc(n/60),2),o=it(n%60,2);return r+i+e+o}const Kv=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},k0=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Jk=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Kv(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Kv(n,e)).replace("{{time}}",k0(i,e))},Xk={p:k0,P:Jk},Zk=/^D+$/,eE=/^Y+$/,tE=["D","DD","YY","YYYY"];function rE(t){return Zk.test(t)}function nE(t){return eE.test(t)}function iE(t,e,r){const n=oE(t,e,r);if(console.warn(n),tE.includes(t))throw new RangeError(n)}function oE(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const aE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lE=/^'([^]*?)'?$/,uE=/''/g,cE=/[a-zA-Z]/;function Sn(t,e,r){var v,d,c,h,g,b,x,p,m;const n=Ou(),i=(v=n.locale)!=null?v:Wk,o=(g=(h=n.firstWeekContainsDate)!=null?h:(c=(d=n.locale)==null?void 0:d.options)==null?void 0:c.firstWeekContainsDate)!=null?g:1,a=(m=(p=n.weekStartsOn)!=null?p:(x=(b=n.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)!=null?m:0,s=Qt(t,r==null?void 0:r.in);if(!dk(s))throw new RangeError("Invalid time value");let l=e.match(sE).map(_=>{const w=_[0];if(w==="p"||w==="P"){const S=Xk[w];return S(_,i.formatLong)}return _}).join("").match(aE).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const w=_[0];if(w==="'")return{isToken:!1,value:fE(_)};if(Uv[w])return{isToken:!0,value:_};if(w.match(cE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const f={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const w=_.value;(nE(w)||rE(w))&&iE(w,e,String(t));const S=Uv[w[0]];return S(s,w,i.localize,f)}).join("")}function fE(t){const e=t.match(lE);return e?e[1].replace(uE,"'"):t}function dE(t,e){const r=()=>Vr(e==null?void 0:e.in,NaN),i=mE(t);let o;if(i.date){const f=yE(i.date,2);o=gE(f.restDateString,f.year)}if(!o||isNaN(+o))return r();const a=+o;let s=0,l;if(i.time&&(s=wE(i.time),isNaN(s)))return r();if(i.timezone){if(l=bE(i.timezone),isNaN(l))return r()}else{const f=new Date(a+s),v=Qt(0,e==null?void 0:e.in);return v.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),v.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),v}return Qt(a+s+l,e==null?void 0:e.in)}const Fs={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hE=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pE=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,vE=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mE(t){const e={},r=t.split(Fs.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Fs.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Fs.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=Fs.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function yE(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((n[1]||n[2]).length)}}function gE(t,e){if(e===null)return new Date(NaN);const r=t.match(hE);if(!r)return new Date(NaN);const n=!!r[4],i=ia(r[1]),o=ia(r[2])-1,a=ia(r[3]),s=ia(r[4]),l=ia(r[5])-1;if(n)return SE(e,s,l)?_E(e,s,l):new Date(NaN);{const f=new Date(0);return!kE(e,o,a)||!EE(e,i)?new Date(NaN):(f.setUTCFullYear(e,o,Math.max(i,a)),f)}}function ia(t){return t?parseInt(t):1}function wE(t){const e=t.match(pE);if(!e)return NaN;const r=Gc(e[1]),n=Gc(e[2]),i=Gc(e[3]);return OE(r,n,i)?r*w0+n*g0+i*1e3:NaN}function Gc(t){return t&&parseFloat(t.replace(",","."))||0}function bE(t){if(t==="Z")return 0;const e=t.match(vE);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return TE(n,i)?r*(n*w0+i*g0):NaN}function _E(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const xE=[31,null,31,30,31,30,31,31,30,31,30,31];function E0(t){return t%400===0||t%4===0&&t%100!==0}function kE(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(xE[e]||(E0(t)?29:28))}function EE(t,e){return e>=1&&e<=(E0(t)?366:365)}function SE(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function OE(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function TE(t,e){return e>=0&&e<=59}function Hv(t,e,r){const n=Qt(t,r==null?void 0:r.in);return n.setHours(e),n}function jE(t,e,r){const n=Qt(t,r==null?void 0:r.in);return n.setMinutes(e),n}const NE=({event:t,top:e,height:r,onClick:n})=>{const i={top:`${e}px`,height:`${r}px`,backgroundColor:t.type==="habit"?"#1E1E1E":"#27272a",borderColor:t.color||(t.type==="habit"?"#8b5cf6":"#ffffff20"),borderLeftColor:t.color||(t.type==="habit"?"#8b5cf6":"#14b8a6"),position:"absolute",left:"4px",right:"4px",zIndex:20};return E.jsx("div",{style:i,onClick:o=>{o.stopPropagation(),n(t)},className:`rounded-md border shadow-sm cursor-pointer hover:brightness-110 transition-all group/event overflow-hidden flex flex-col justify-start ${t.type==="habit"?"border-l-4":"border-l-2"}`,children:E.jsxs("div",{className:"p-1.5 h-full flex flex-col justify-start pointer-events-none",children:[E.jsx("h4",{className:"text-[10px] font-bold text-white/90 leading-tight whitespace-normal break-words",children:t.subject}),r>40&&E.jsxs("p",{className:"text-[9px] text-white/50 mt-0.5",children:[Kl(t.startTime)," - ",Kl(t.endTime)]})]})})},PE=({day:t,dateStr:e,isToday:r,timeSlots:n,startHour:i,dayEvents:o,onEventClick:a})=>E.jsxs("div",{className:"flex flex-col border-r border-white/5 min-h-full relative group",children:[E.jsxs("div",{className:`sticky top-0 z-20 h-[60px] p-2 text-center border-b border-white/5 backdrop-blur-md transition-colors ${r?"bg-accent/5":"bg-[#09090b]/95"}`,children:[E.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider block ${r?"text-accent":"text-white/30"}`,children:Sn(t,"EEE")}),E.jsx("span",{className:`text-lg font-black block ${r?"text-white":"text-white/60"}`,children:Sn(t,"d")})]}),E.jsxs("div",{className:"relative flex-1",children:[n.map(s=>E.jsx("div",{className:"h-[60px] border-b border-white/[0.03] w-full absolute z-10",style:{top:(s-i)*60}},s)),o.map((s,l)=>{const f=parseInt(s.startTime.split(":")[0]),v=parseInt(s.startTime.split(":")[1]),d=(f-i)*60+v,c=parseInt(s.endTime.split(":")[0]),h=parseInt(s.endTime.split(":")[1]),g=c*60+h-(f*60+v),b=Math.max(g,30);return E.jsx(NE,{event:s,top:d,height:b,onClick:a},s.id)})]})]}),AE=({events:t,habits:e,currentDate:r,onDateChange:n,onEventClick:i,onUpdateTask:o})=>{const[a,s]=he.useState(t);he.useEffect(()=>{s(t)},[t]);const l=6,v=Array.from({length:24-l},(h,g)=>l+g),d=Array.from({length:7}).map((h,g)=>sk(xo(r,{weekStartsOn:1}),g)),c=h=>{const g=Sn(h,"EEEE"),b=a.filter(p=>!!(p.repeat==="Weekly"&&p.repeatDay===g||p.repeat==="Daily"||p.repeat==="Weekdays"&&!["Saturday","Sunday"].includes(g)||p.repeat==="Weekends"&&["Saturday","Sunday"].includes(g)||!p.repeat&&p.date&&qv(dE(p.date),h))),x=(e||[]).filter(p=>!!(p.frequency&&p.frequency.includes(g)||!p.frequency||p.frequency.length===0)).map(p=>We(Ce({},p),{id:`habit-${p.id}`,subject:p.name,startTime:p.time||"09:00",endTime:p.time?Sn(Hv(jE(new Date,parseInt(p.time.split(":")[1])+30),parseInt(p.time.split(":")[0])),"HH:mm"):"09:30",color:p.color||"#ab47bc",type:"habit"}));return[...b,...x].sort((p,m)=>p.startTime.localeCompare(m.startTime))};return E.jsx("div",{className:"flex flex-col h-full bg-[#09090b] text-white overflow-hidden font-sans",children:E.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar relative bg-[#09090b]",children:[E.jsx("div",{className:"flex items-center justify-between px-6 py-3 border-b border-white/5 bg-[#09090b] z-20 shadow-sm sticky top-0",children:E.jsxs("div",{children:[E.jsxs("h2",{className:"text-lg font-bold tracking-tight text-white/90",children:[Sn(d[0],"MMM d")," - ",Sn(d[6],"MMM d")]}),E.jsx("p",{className:"text-xs text-white/40 font-medium",children:"Weekly Overview"})]})}),E.jsxs("div",{className:"flex min-w-[800px]",children:[E.jsxs("div",{className:"w-14 flex-shrink-0 border-r border-white/5 bg-[#09090b] sticky left-0 z-30 flex flex-col",children:[E.jsx("div",{className:"h-[60px] border-b border-white/5 bg-[#09090b] sticky top-0 z-40"}),E.jsx("div",{className:"relative",children:v.map(h=>E.jsx("div",{className:"h-[60px] text-[10px] text-white/20 text-right pr-3 font-medium",children:Sn(Hv(new Date,h),"h a")},h))})]}),E.jsx("div",{className:"flex-1 grid grid-cols-7 h-full",children:d.map((h,g)=>{const b=qv(h,new Date),x=c(h),p=Sn(h,"yyyy-MM-dd");return E.jsx(PE,{day:h,dateStr:p,isToday:b,timeSlots:v,startHour:l,dayEvents:x,onEventClick:i},g)})})]})]})})},sd={general:["The best way to predict the future is to create it.","Believe you can and you're halfway there.","Don't watch the clock; do what it does. Keep going.","Success is not final, failure is not fatal: It is the courage to continue that counts.","Your time is limited, don't waste it living someone else's life.","The only way to do great work is to love what you do.","It always seems impossible until it is done.","Start where you are. Use what you have. Do what you can.","There are two blessings which many people lose: Health and Free Time. - Prophet Muhammad (PBUH)"],productivity:["Let's be productive today.","Focus on the goal.","Small steps lead to big results.","Make today count.","Your future is created by what you do today, not tomorrow.","Don't stop until you're proud.","Dream big. Start small. Act now."]},CE=(t="general")=>{const e=sd[t]||sd.general;return e[Math.floor(Math.random()*e.length)]},RE=({tasks:t=[],onUpdateTask:e,onBack:r,onEditTask:n})=>{if(!t)return null;const i=t.filter(g=>!g.completed).sort((g,b)=>new Date(g.deadline)-new Date(b.deadline)),o=t.filter(g=>g.completed).sort((g,b)=>new Date(b.deadline)-new Date(g.deadline)),a=g=>{e(We(Ce({},g),{completed:!g.completed}))},s=g=>g?new Date(g).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"}):"No Date",l=g=>{if(!g)return{text:"No Deadline",isOverdue:!1};const b=new Date,p=new Date(g)-b;if(p<0)return{text:"Overdue",isOverdue:!0};const m=Math.floor(p/(1e3*60*60*24)),_=Math.floor(p%(1e3*60*60*24)/(1e3*60*60));return m>0?{text:`${m} Day${m>1?"s":""} Left`,isOverdue:!1}:_>0?{text:`${_} Hour${_>1?"s":""} Left`,isOverdue:!1}:{text:"Due Soon",isOverdue:!1}},f=g=>{if(g.completed)return 100;if(!g.deadline)return 0;const b=new Date(g.deadline).getTime(),x=new Date().getTime(),p=g.startDate?new Date(g.startDate).getTime():b-7*24*60*60*1e3,m=b-p,_=x-p;let w=Math.round(_/m*100);return Math.min(Math.max(w,0),100)},v=({task:g,isCompleted:b})=>{const{text:x,isOverdue:p}=l(g.deadline),m=f(g);return b?E.jsxs("div",{onClick:()=>n&&n(g),className:"bg-[#1E1E1E] border border-white/5 rounded-2xl p-4 relative overflow-hidden shadow-md mb-3 group cursor-pointer transition-all hover:bg-white/5 active:scale-[0.99] opacity-60 hover:opacity-100 flex items-center justify-between",children:[E.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1.5",style:{backgroundColor:g.color||"#ef5350"}}),E.jsxs("div",{className:"pl-3 flex-1",children:[E.jsx("h3",{className:"text-base font-bold text-white line-through text-white/50",children:g.subject}),E.jsx("p",{className:"text-[10px] text-success font-bold uppercase tracking-wider",children:"Completed"})]}),E.jsx("button",{onClick:_=>{_.stopPropagation(),a(g)},className:"p-2 rounded-full bg-success text-black shadow-lg shadow-success/20 transition-transform hover:scale-110 active:scale-90",children:E.jsx(Dv,{size:18,className:"fill-current"})})]}):E.jsxs("div",{onClick:()=>n&&n(g),className:"bg-[#1E1E1E] border border-white/5 rounded-2xl p-4 relative overflow-hidden shadow-lg mb-3 group cursor-pointer transition-all hover:-translate-y-1 active:scale-[0.99]",children:[E.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1.5",style:{backgroundColor:g.color||"#ef5350"}}),E.jsxs("div",{className:"flex justify-between items-start mb-1 pl-2",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-bold text-white",children:g.subject}),E.jsx("p",{className:"text-textMuted text-xs",children:"Assignment Details"})]}),E.jsx("button",{onClick:_=>{_.stopPropagation(),a(g)},className:"p-1.5 rounded-lg transition-all bg-white/5 text-white/20 hover:bg-white/10 hover:text-white",children:E.jsx(Dv,{size:20})})]}),E.jsx("div",{className:"pl-2 mb-3 mt-2",children:E.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider border ${p?"bg-error/10 text-error border-error/20":"bg-accent/10 text-accent border-accent/20"}`,children:p?"OVERDUE":"IN PROGRESS"})}),E.jsxs("div",{className:"mx-1 bg-black/40 rounded-lg p-3 mb-3 flex justify-between items-center border border-white/5",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] text-textMuted uppercase tracking-wider font-bold mb-0.5",children:"START"}),E.jsxs("div",{className:"flex items-center gap-1.5 text-white text-xs font-bold",children:[E.jsx(Rx,{size:12,className:"text-accent"}),E.jsx("span",{children:s(new Date().toISOString())})]})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-[10px] text-textMuted uppercase tracking-wider font-bold mb-0.5",children:"DUE"}),E.jsxs("div",{className:"flex items-center gap-1.5 text-white text-xs font-bold justify-end",children:[E.jsx(id,{size:12,className:p?"text-error":"text-accent"}),E.jsx("span",{children:s(g.deadline)})]})]})]}),E.jsxs("div",{className:"mx-1 space-y-1.5",children:[E.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase tracking-wider",children:[E.jsx("span",{className:"text-textMuted",children:"Time Remaining"}),E.jsx("span",{className:p?"text-error":"text-success",children:x})]}),E.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:E.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${p?"bg-error":"bg-success"}`,style:{width:`${m}%`}})})]})]})},[d,c]=On.useState("");On.useEffect(()=>{c(CE("productivity"))},[]);const h=()=>{const g=new Date().getHours();return g<12?"Good Morning":g<18?"Good Afternoon":"Good Evening"};return E.jsxs("div",{className:"flex flex-col h-full overflow-y-auto bg-background animate-slide-in pb-24 no-scrollbar overscroll-y-none",children:[E.jsx("div",{className:"p-4 pb-2 sticky top-0 z-10 bg-background/95 backdrop-blur-xl border-b border-white/5",children:E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:r,className:"p-2 -ml-2 rounded-full hover:bg-white/5 text-textMuted hover:text-white transition-colors active:scale-95",children:E.jsx(_o,{size:24})}),E.jsx("h2",{className:"text-xl font-bold text-white",children:"Assignments"})]})}),E.jsxs("div",{className:"px-4 pb-2",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("h1",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:h()}),E.jsx("p",{className:"text-textMuted text-sm",children:d})]}),E.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[E.jsxs("div",{className:"bg-[#1E1E1E] border border-white/5 rounded-xl p-2 flex flex-col items-center justify-center shadow-md",children:[E.jsx("span",{className:"text-xl font-black text-accent",children:i.length}),E.jsx("span",{className:"text-[9px] font-bold text-textMuted uppercase tracking-wider",children:"Pending"})]}),E.jsxs("div",{className:"bg-[#1E1E1E] border border-white/5 rounded-xl p-2 flex flex-col items-center justify-center shadow-md",children:[E.jsx("span",{className:"text-xl font-black text-error",children:t.filter(g=>!g.completed&&new Date(g.deadline)-new Date<1728e5).length}),E.jsx("span",{className:"text-[9px] font-bold text-textMuted uppercase tracking-wider",children:"Due Soon"})]}),E.jsxs("div",{className:"bg-[#1E1E1E] border border-white/5 rounded-xl p-2 flex flex-col items-center justify-center shadow-md",children:[E.jsx("span",{className:"text-xl font-black text-success",children:o.length}),E.jsx("span",{className:"text-[9px] font-bold text-textMuted uppercase tracking-wider",children:"Done"})]})]})]}),E.jsxs("div",{className:"px-4 space-y-6",children:[E.jsxs("div",{className:"mb-8",children:[E.jsxs("h3",{className:"text-sm font-bold text-textMuted uppercase tracking-wider mb-4 pl-2",children:["To Do (",i.length,")"]}),E.jsx("div",{className:"space-y-1",children:i.length>0?i.map(g=>E.jsx(v,{task:g,isCompleted:!1},g.id)):E.jsxs("div",{className:"text-center py-12 border border-dashed border-white/10 rounded-2xl bg-white/5",children:[E.jsx(qx,{size:32,className:"text-textMuted mx-auto mb-3 opacity-50"}),E.jsx("p",{className:"text-textMuted text-sm font-medium",children:"No active assignments"})]})})]}),o.length>0&&E.jsxs("div",{children:[E.jsxs("h3",{className:"text-sm font-bold text-textMuted uppercase tracking-wider mb-4 pl-2",children:["Completed (",o.length,")"]}),E.jsx("div",{className:"space-y-1",children:o.map(g=>E.jsx(v,{task:g,isCompleted:!0},g.id))})]})]})]})},Wv={},IE=()=>{DE.forEach(t=>{if(!Wv[t.id]){const e=new Audio(t.id);e.preload="auto",Wv[t.id]=e}})},Yc=new Set,S0=(t="bell")=>Y(void 0,null,function*(){let e=t;if(t==="bell"&&(e="/sounds/new-notification-1-398650.mp3"),e.startsWith("/sounds/"))try{console.log("Starting playback for:",e);const r=new Audio(e);r.volume=1,Yc.add(r),r.onended=()=>{console.log("Playback ended for:",e),Yc.delete(r)},r.onerror=n=>{console.error("Playback error:",n),Yc.delete(r)},yield r.play()}catch(r){console.error(`Failed to play ${e}:`,r)}}),LE=[{id:"/sounds/new-notification-1-398650.mp3",label:"Alynto 1",type:"file"},{id:"/sounds/new-notification-026-380249.mp3",label:"Alynto 2",type:"file"},{id:"/sounds/new-notification-3-398649.mp3",label:"Alynto 3",type:"file"},{id:"/sounds/new-notification-444814.mp3",label:"Alynto 4",type:"file"},{id:"/sounds/notification-crackle-432435.mp3",label:"Alynto 5",type:"file"},{id:"/sounds/notification-power-432434.mp3",label:"Alynto 6",type:"file"},{id:"/sounds/notification-sound-effect-372475.mp3",label:"Alynto 7",type:"file"}],DE=LE;/*! Capacitor: https://capacitorjs.com/ - MIT License */var ko;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(ko||(ko={}));class Qc extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const ME=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},$E=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},i=()=>e!==null?e.name:ME(t),o=()=>i()!=="web",a=d=>{const c=f.get(d);return!!(c!=null&&c.platforms.has(i())||s(d))},s=d=>{var c;return(c=r.PluginHeaders)===null||c===void 0?void 0:c.find(h=>h.name===d)},l=d=>t.console.error(d),f=new Map,v=(d,c={})=>{const h=f.get(d);if(h)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),h.proxy;const g=i(),b=s(d);let x;const p=()=>Y(void 0,null,function*(){return!x&&g in c?x=typeof c[g]=="function"?x=yield c[g]():x=c[g]:e!==null&&!x&&"web"in c&&(x=typeof c.web=="function"?x=yield c.web():x=c.web),x}),m=(T,M)=>{var A,R;if(b){const L=b==null?void 0:b.methods.find(D=>M===D.name);if(L)return L.rtype==="promise"?D=>r.nativePromise(d,M.toString(),D):(D,F)=>r.nativeCallback(d,M.toString(),D,F);if(T)return(A=T[M])===null||A===void 0?void 0:A.bind(T)}else{if(T)return(R=T[M])===null||R===void 0?void 0:R.bind(T);throw new Qc(`"${d}" plugin is not implemented on ${g}`,ko.Unimplemented)}},_=T=>{let M;const A=(...R)=>{const L=p().then(D=>{const F=m(D,T);if(F){const G=F(...R);return M=G==null?void 0:G.remove,G}else throw new Qc(`"${d}.${T}()" is not implemented on ${g}`,ko.Unimplemented)});return T==="addListener"&&(L.remove=()=>Y(void 0,null,function*(){return M()})),L};return A.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:T,writable:!1,configurable:!1}),A},w=_("addListener"),S=_("removeListener"),I=(T,M)=>{const A=w({eventName:T},M),R=()=>Y(void 0,null,function*(){const D=yield A;S({eventName:T,callbackId:D},M)}),L=new Promise(D=>A.then(()=>D({remove:R})));return L.remove=()=>Y(void 0,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield R()}),L},j=new Proxy({},{get(T,M){switch(M){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return b?I:w;case"removeListener":return S;default:return _(M)}}});return n[d]=j,f.set(d,{name:d,proxy:j,platforms:new Set([...Object.keys(c),...b?[g]:[]])}),j};return r.convertFileSrc||(r.convertFileSrc=d=>d),r.getPlatform=i,r.handleError=l,r.isNativePlatform=o,r.isPluginAvailable=a,r.registerPlugin=v,r.Exception=Qc,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},BE=t=>t.Capacitor=$E(t),xi=BE(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),Nh=xi.registerPlugin;class O0{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),n&&this.sendRetainedArgumentsForEvent(e);const a=()=>Y(this,null,function*(){return this.removeListener(e,r)});return Promise.resolve({remove:a})}removeAllListeners(){return Y(this,null,function*(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}})}notifyListeners(e,r,n){const i=this.listeners[e];if(!i){if(n){let o=this.retainedEventArguments[e];o||(o=[]),o.push(r),this.retainedEventArguments[e]=o}return}i.forEach(o=>o(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new xi.Exception(e,ko.Unimplemented)}unavailable(e="not available"){return new xi.Exception(e,ko.Unavailable)}removeListener(e,r){return Y(this,null,function*(){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])})}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const Vv=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Gv=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class qE extends O0{getCookies(){return Y(this,null,function*(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,o]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=Gv(i).trim(),o=Gv(o).trim(),r[i]=o}),r})}setCookie(e){return Y(this,null,function*(){try{const r=Vv(e.key),n=Vv(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${i}; path=${o}; ${a};`}catch(r){return Promise.reject(r)}})}deleteCookie(e){return Y(this,null,function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}})}clearCookies(){return Y(this,null,function*(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})}clearAllCookies(){return Y(this,null,function*(){try{yield this.clearCookies()}catch(e){return Promise.reject(e)}})}}Nh("CapacitorCookies",{web:()=>new qE});const UE=t=>Y(void 0,null,function*(){return new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>r(i),n.readAsDataURL(t)})}),FE=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,o,a)=>(i[o]=t[e[a]],i),{})},zE=(t,e=!0)=>t?Object.entries(t).reduce((n,i)=>{const[o,a]=i;let s,l;return Array.isArray(a)?(l="",a.forEach(f=>{s=e?encodeURIComponent(f):f,l+=`${o}=${s}&`}),l.slice(0,-1)):(s=e?encodeURIComponent(a):a,l=`${o}=${s}`),`${n}&${l}`},"").substr(1):null,KE=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),i=FE(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[a,s]of Object.entries(t.data||{}))o.set(a,s);r.body=o.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((s,l)=>{o.append(l,s)});else for(const s of Object.keys(t.data))o.append(s,t.data[s]);r.body=o;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class HE extends O0{request(e){return Y(this,null,function*(){const r=KE(e,e.webFetchExtra),n=zE(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,o=yield fetch(i,r),a=o.headers.get("content-type")||"";let{responseType:s="text"}=o.ok?e:{};a.includes("application/json")&&(s="json");let l,f;switch(s){case"arraybuffer":case"blob":f=yield o.blob(),l=yield UE(f);break;case"json":l=yield o.json();break;case"document":case"text":default:l=yield o.text()}const v={};return o.headers.forEach((d,c)=>{v[c]=d}),{data:l,headers:v,status:o.status,url:o.url}})}get(e){return Y(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))})}post(e){return Y(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))})}put(e){return Y(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))})}patch(e){return Y(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})}delete(e){return Y(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})}}Nh("CapacitorHttp",{web:()=>new HE});var Yv;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(Yv||(Yv={}));const Jc=Nh("LocalNotifications",{web:()=>qa(()=>import("./web-BN4mhNd6.js"),[],import.meta.url).then(t=>new t.LocalNotificationsWeb)});class WE{constructor(){this.activeSounds=new Set,this.poller=null,this.init()}init(){xi.isNativePlatform()||(this.startPolling(),Notification.permission!=="granted"&&Notification.permission!=="denied"&&Notification.requestPermission())}startPolling(){this.poller&&clearInterval(this.poller),console.log("NotificationManager: Starting poller"),this.poller=setInterval(()=>{this.checkNotifications()},1e3)}schedule(e,r,n,i,o="/sounds/new-notification-1-398650.mp3"){return Y(this,null,function*(){xi.isNativePlatform()?yield this.scheduleNative(e,r,n,i,o):this.scheduleWeb(e,r,n,i,o)})}scheduleNative(e,r,n,i,o){return Y(this,null,function*(){try{if((yield Jc.requestPermissions()).display==="granted"){const s=typeof e=="string"?this.hashString(e):e;yield Jc.schedule({notifications:[{title:r,body:n,id:s,schedule:{at:i},sound:o?o.split("/").pop():void 0,extra:{originalId:e}}]})}}catch(a){console.error("Native schedule error:",a)}})}scheduleWeb(e,r,n,i,o){const a=this.getScheduled();a.push({id:e,title:r,body:n,scheduleDate:i.toISOString(),soundPath:o}),this.saveScheduled(a),console.log(`Scheduled web notification: ${r} at ${i.toLocaleString()}`)}cancel(e){return Y(this,null,function*(){if(xi.isNativePlatform()){const r=typeof e=="string"?this.hashString(e):e;yield Jc.cancel({notifications:[{id:r}]})}else{const n=this.getScheduled().filter(i=>i.id!==e&&!String(i.id).startsWith(`${e}-reminder-`));this.saveScheduled(n),console.log(`Cancelled notifications for ID: ${e}`)}})}checkNotifications(){const e=new Date,r=this.getScheduled(),n=[];let i=!1;r.forEach(o=>{const a=new Date(o.scheduleDate),s=e.getTime()-a.getTime();s>=0?(s<5*60*1e3?this.trigger(o):console.warn(`Skipping stale notification: ${o.title} (${s}ms old)`),i=!0):n.push(o)}),i&&this.saveScheduled(n)}trigger(e){if(console.log("Triggering notification:",e.title),e.soundPath&&this.playSound(e.soundPath),window.dispatchEvent(new CustomEvent("trigger-notification",{detail:Ce({},e)})),Notification.permission==="granted")try{new Notification(e.title,{body:e.body,icon:"/app-icon.jpg"})}catch(r){console.error("System notification error:",r)}}playSound(e){try{const r=new Audio(e);r.volume=1,this.activeSounds.add(r),r.onended=()=>{this.activeSounds.delete(r)},r.onerror=i=>{console.error("Audio playback error:",i),this.activeSounds.delete(r)};const n=r.play();n!==void 0&&n.catch(i=>{console.error("Audio play failed (autoplay policy?):",i),this.activeSounds.delete(r)})}catch(r){console.error("Audio creation error:",r)}}getScheduled(){try{return JSON.parse(localStorage.getItem("scheduled-notifications")||"[]")}catch(e){return[]}}saveScheduled(e){localStorage.setItem("scheduled-notifications",JSON.stringify(e))}hashString(e){let r=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);r=(r<<5)-r+i,r=r&r}return Math.abs(r)}}const gi=new WE;let VE={data:""},GE=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||VE},YE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,QE=/\/\*[^]*?\*\/|  +/g,Qv=/\n+/g,Nn=(t,e)=>{let r="",n="",i="";for(let o in t){let a=t[o];o[0]=="@"?o[1]=="i"?r=o+" "+a+";":n+=o[1]=="f"?Nn(a,o):o+"{"+Nn(a,o[1]=="k"?"":e)+"}":typeof a=="object"?n+=Nn(a,e?e.replace(/([^,])+/g,s=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Nn.p?Nn.p(o,a):o+":"+a+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Jr={},T0=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+T0(t[r]);return e}return t},JE=(t,e,r,n,i)=>{let o=T0(t),a=Jr[o]||(Jr[o]=(l=>{let f=0,v=11;for(;f<l.length;)v=101*v+l.charCodeAt(f++)>>>0;return"go"+v})(o));if(!Jr[a]){let l=o!==t?t:(f=>{let v,d,c=[{}];for(;v=YE.exec(f.replace(QE,""));)v[4]?c.shift():v[3]?(d=v[3].replace(Qv," ").trim(),c.unshift(c[0][d]=c[0][d]||{})):c[0][v[1]]=v[2].replace(Qv," ").trim();return c[0]})(t);Jr[a]=Nn(i?{["@keyframes "+a]:l}:l,r?"":"."+a)}let s=r&&Jr.g?Jr.g:null;return r&&(Jr.g=Jr[a]),((l,f,v,d)=>{d?f.data=f.data.replace(d,l):f.data.indexOf(l)===-1&&(f.data=v?l+f.data:f.data+l)})(Jr[a],e,n,s),a},XE=(t,e,r)=>t.reduce((n,i,o)=>{let a=e[o];if(a&&a.call){let s=a(r),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;a=l?"."+l:s&&typeof s=="object"?s.props?"":Nn(s,""):s===!1?"":s}return n+i+(a==null?"":a)},"");function Tu(t){let e=this||{},r=t.call?t(e.p):t;return JE(r.unshift?r.raw?XE(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,GE(e.target),e.g,e.o,e.k)}let j0,ld,ud;Tu.bind({g:1});let cn=Tu.bind({k:1});function ZE(t,e,r,n){Nn.p=e,j0=t,ld=r,ud=n}function Vn(t,e){let r=this||{};return function(){let n=arguments;function i(o,a){let s=Object.assign({},o),l=s.className||i.className;r.p=Object.assign({theme:ld&&ld()},s),r.o=/ *go\d+/.test(l),s.className=Tu.apply(r,n)+(l?" "+l:"");let f=t;return t[0]&&(f=s.as||t,delete s.as),ud&&f[0]&&ud(s),j0(f,s)}return i}}var eS=t=>typeof t=="function",Vl=(t,e)=>eS(t)?t(e):t,tS=(()=>{let t=0;return()=>(++t).toString()})(),N0=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rS=20,Ph="default",P0=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return We(Ce({},t),{toasts:[e.toast,...t.toasts].slice(0,r)});case 1:return We(Ce({},t),{toasts:t.toasts.map(a=>a.id===e.toast.id?Ce(Ce({},a),e.toast):a)});case 2:let{toast:n}=e;return P0(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return We(Ce({},t),{toasts:t.toasts.map(a=>a.id===i||i===void 0?We(Ce({},a),{dismissed:!0,visible:!1}):a)});case 4:return e.toastId===void 0?We(Ce({},t),{toasts:[]}):We(Ce({},t),{toasts:t.toasts.filter(a=>a.id!==e.toastId)});case 5:return We(Ce({},t),{pausedAt:e.time});case 6:let o=e.time-(t.pausedAt||0);return We(Ce({},t),{pausedAt:void 0,toasts:t.toasts.map(a=>We(Ce({},a),{pauseDuration:a.pauseDuration+o}))})}},pl=[],A0={toasts:[],pausedAt:void 0,settings:{toastLimit:rS}},Kr={},C0=(t,e=Ph)=>{Kr[e]=P0(Kr[e]||A0,t),pl.forEach(([r,n])=>{r===e&&n(Kr[e])})},R0=t=>Object.keys(Kr).forEach(e=>C0(t,e)),nS=t=>Object.keys(Kr).find(e=>Kr[e].toasts.some(r=>r.id===t)),ju=(t=Ph)=>e=>{C0(e,t)},iS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},oS=(t={},e=Ph)=>{let[r,n]=he.useState(Kr[e]||A0),i=he.useRef(Kr[e]);he.useEffect(()=>(i.current!==Kr[e]&&n(Kr[e]),pl.push([e,n]),()=>{let a=pl.findIndex(([s])=>s===e);a>-1&&pl.splice(a,1)}),[e]);let o=r.toasts.map(a=>{var s,l,f;return We(Ce(Ce(Ce({},t),t[a.type]),a),{removeDelay:a.removeDelay||((s=t[a.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||iS[a.type],style:Ce(Ce(Ce({},t.style),(f=t[a.type])==null?void 0:f.style),a.style)})});return We(Ce({},r),{toasts:o})},aS=(t,e="blank",r)=>We(Ce({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0},r),{id:(r==null?void 0:r.id)||tS()}),Ya=t=>(e,r)=>{let n=aS(e,t,r);return ju(n.toasterId||nS(n.id))({type:2,toast:n}),n.id},Ze=(t,e)=>Ya("blank")(t,e);Ze.error=Ya("error");Ze.success=Ya("success");Ze.loading=Ya("loading");Ze.custom=Ya("custom");Ze.dismiss=(t,e)=>{let r={type:3,toastId:t};e?ju(e)(r):R0(r)};Ze.dismissAll=t=>Ze.dismiss(void 0,t);Ze.remove=(t,e)=>{let r={type:4,toastId:t};e?ju(e)(r):R0(r)};Ze.removeAll=t=>Ze.remove(void 0,t);Ze.promise=(t,e,r)=>{let n=Ze.loading(e.loading,Ce(Ce({},r),r==null?void 0:r.loading));return typeof t=="function"&&(t=t()),t.then(i=>{let o=e.success?Vl(e.success,i):void 0;return o?Ze.success(o,Ce(Ce({id:n},r),r==null?void 0:r.success)):Ze.dismiss(n),i}).catch(i=>{let o=e.error?Vl(e.error,i):void 0;o?Ze.error(o,Ce(Ce({id:n},r),r==null?void 0:r.error)):Ze.dismiss(n)}),t};var sS=1e3,lS=(t,e="default")=>{let{toasts:r,pausedAt:n}=oS(t,e),i=he.useRef(new Map).current,o=he.useCallback((d,c=sS)=>{if(i.has(d))return;let h=setTimeout(()=>{i.delete(d),a({type:4,toastId:d})},c);i.set(d,h)},[]);he.useEffect(()=>{if(n)return;let d=Date.now(),c=r.map(h=>{if(h.duration===1/0)return;let g=(h.duration||0)+h.pauseDuration-(d-h.createdAt);if(g<0){h.visible&&Ze.dismiss(h.id);return}return setTimeout(()=>Ze.dismiss(h.id,e),g)});return()=>{c.forEach(h=>h&&clearTimeout(h))}},[r,n,e]);let a=he.useCallback(ju(e),[e]),s=he.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=he.useCallback((d,c)=>{a({type:1,toast:{id:d,height:c}})},[a]),f=he.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),v=he.useCallback((d,c)=>{let{reverseOrder:h=!1,gutter:g=8,defaultPosition:b}=c||{},x=r.filter(_=>(_.position||b)===(d.position||b)&&_.height),p=x.findIndex(_=>_.id===d.id),m=x.filter((_,w)=>w<p&&_.visible).length;return x.filter(_=>_.visible).slice(...h?[m+1]:[0,m]).reduce((_,w)=>_+(w.height||0)+g,0)},[r]);return he.useEffect(()=>{r.forEach(d=>{if(d.dismissed)o(d.id,d.removeDelay);else{let c=i.get(d.id);c&&(clearTimeout(c),i.delete(d.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:l,startPause:s,endPause:f,calculateOffset:v}}},uS=cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cS=cn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fS=cn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,dS=Vn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${fS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hS=cn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pS=Vn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${hS} 1s linear infinite;
`,vS=cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,mS=cn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yS=Vn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${mS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,gS=Vn("div")`
  position: absolute;
`,wS=Vn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bS=cn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_S=Vn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,xS=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?he.createElement(_S,null,e):e:r==="blank"?null:he.createElement(wS,null,he.createElement(pS,Ce({},n)),r!=="loading"&&he.createElement(gS,null,r==="error"?he.createElement(dS,Ce({},n)):he.createElement(yS,Ce({},n))))},kS=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ES=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,SS="0%{opacity:0;} 100%{opacity:1;}",OS="0%{opacity:1;} 100%{opacity:0;}",TS=Vn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jS=Vn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,NS=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=N0()?[SS,OS]:[kS(r),ES(r)];return{animation:e?`${cn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},PS=he.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?NS(t.position||e||"top-center",t.visible):{opacity:0},o=he.createElement(xS,{toast:t}),a=he.createElement(jS,Ce({},t.ariaProps),Vl(t.message,t));return he.createElement(TS,{className:t.className,style:Ce(Ce(Ce({},i),r),t.style)},typeof n=="function"?n({icon:o,message:a}):he.createElement(he.Fragment,null,o,a))});ZE(he.createElement);var AS=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let o=he.useCallback(a=>{if(a){let s=()=>{let l=a.getBoundingClientRect().height;n(t,l)};s(),new MutationObserver(s).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return he.createElement("div",{ref:o,className:e,style:r},i)},CS=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return Ce(Ce({left:0,right:0,display:"flex",position:"absolute",transition:N0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`},n),i)},RS=Tu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zs=16,IS=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,toasterId:o,containerStyle:a,containerClassName:s})=>{let{toasts:l,handlers:f}=lS(r,o);return he.createElement("div",{"data-rht-toaster":o||"",style:Ce({position:"fixed",zIndex:9999,top:zs,left:zs,right:zs,bottom:zs,pointerEvents:"none"},a),className:s,onMouseEnter:f.startPause,onMouseLeave:f.endPause},l.map(v=>{let d=v.position||e,c=f.calculateOffset(v,{reverseOrder:t,gutter:n,defaultPosition:e}),h=CS(d,c);return he.createElement(AS,{id:v.id,key:v.id,onHeightUpdate:f.updateHeight,className:v.visible?RS:"",style:h},v.type==="custom"?Vl(v.message,v):i?i(v):he.createElement(PS,{toast:v,position:d}))}))};const ni={focus:{label:"Focus",minutes:25},shortBreak:{label:"Short Break",minutes:5},longBreak:{label:"Long Break",minutes:15}},Xr={focus:["Pure Focus","Deep Work","Lock In","Stay Hard","No Distractions","Zone In"],shortBreak:["Breathe","Hydrate","Stretch","Relax","Reset","Eyes Off"],longBreak:["Recharge","Go Walk","Unplug","Rest Up","Refuel","Disconnect"]},I0=({preferences:t,onBack:e})=>{const[r,n]=he.useState("focus"),[i,o]=he.useState(ni.focus.minutes*60),[a,s]=he.useState(!1),[l,f]=he.useState(!1),[v,d]=he.useState(Xr.focus[0]),[c,h]=he.useState(0),g=he.useRef(null);he.useEffect(()=>{d(Xr[r][Math.floor(Math.random()*Xr[r].length)])},[]);const b=()=>{s(!1),l||S0((t==null?void 0:t.clutchTone)||"bell");let T="focus",M="";if(r==="focus"){const A=c+1;h(A),A>=4?(T="longBreak",M="Focus session complete! Take a long break. "):(T="shortBreak",M="Focus session complete! Time for a short break. ")}else if(r==="shortBreak")T="focus",M="Break over! Back to focus. ";else if(r==="longBreak"){T="focus",h(0),M="Long break over! Ready to start a new cycle? ",o(ni[T].minutes*60),n(T),d(Xr[T][Math.floor(Math.random()*Xr[T].length)]),gi.schedule("pomodoro-complete","Cycle Complete",M,new Date,t==null?void 0:t.clutchTone);return}gi.schedule("pomodoro-timer","Timer Complete",M,new Date,t==null?void 0:t.clutchTone),n(T),o(ni[T].minutes*60),d(Xr[T][Math.floor(Math.random()*Xr[T].length)]),s(!0)};he.useEffect(()=>(a&&i>0?g.current=setInterval(()=>{o(T=>T-1)},1e3):i===0&&a&&(b(),clearInterval(g.current)),()=>clearInterval(g.current)),[a,i,l,t,r,c]);const x=()=>s(!a),p=()=>{s(!1),o(ni[r].minutes*60)},m=T=>{n(T),o(ni[T].minutes*60),s(!1),T==="focus"&&r==="longBreak"&&h(0),d(Xr[T][Math.floor(Math.random()*Xr[T].length)])},_=T=>{const M=Math.floor(T/60),A=T%60;return`${M.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`},w=ni[r].minutes*60,S=130,I=2*Math.PI*S,j=I*(1-i/w);return E.jsxs("div",{className:"flex flex-col h-full bg-[#0f172a] text-white font-sans animate-fade-in relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-accent/5 rounded-full blur-3xl pointer-events-none"}),E.jsxs("div",{className:"w-full max-w-5xl mx-auto p-6 z-10 flex flex-col md:grid md:grid-cols-3 items-center gap-4",children:[E.jsx("div",{className:"w-full md:w-auto flex justify-start",children:E.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors uppercase tracking-widest text-xs font-bold p-2 hover:bg-white/5 rounded-lg",children:[E.jsx(jh,{size:16}),"Back"]})}),E.jsx("div",{className:"flex bg-[#1e293b] rounded-full p-1 border border-white/5 w-auto shadow-2xl shadow-black/20 justify-self-center gap-1 mx-auto",children:Object.entries(ni).map(([T,M])=>E.jsx("button",{onClick:()=>m(T),className:`px-3 py-2 rounded-full text-[10px] font-bold uppercase tracking-wide transition-all active:scale-95 whitespace-nowrap ${r===T?"bg-white/10 text-white shadow-sm":"text-white/40 hover:text-white/80 hover:bg-white/5"}`,children:M.label},T))}),E.jsx("div",{className:"hidden md:block"})]}),E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center z-10 -mt-10",children:[E.jsx("div",{className:"relative mb-12",children:E.jsxs("div",{className:"w-72 h-72 relative flex items-center justify-center",children:[E.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90 transform",children:[E.jsx("circle",{cx:"144",cy:"144",r:S,stroke:"currentColor",strokeWidth:"6",fill:"transparent",className:"text-white/5"}),E.jsx("circle",{cx:"144",cy:"144",r:S,stroke:"currentColor",strokeWidth:"6",fill:"transparent",strokeDasharray:I,strokeDashoffset:j,className:`text-accent transition-all duration-1000 ease-linear ${a?"drop-shadow-[0_0_10px_rgba(var(--accent),0.5)]":""}`,strokeLinecap:"round"})]}),E.jsxs("div",{className:"flex flex-col items-center z-10",children:[E.jsx(zl,{size:32,className:"text-accent mb-4 opacity-80"}),E.jsx("div",{className:"text-7xl font-black tracking-tighter tabular-nums leading-none mb-2",children:_(i)}),E.jsx("div",{className:"text-xs font-bold text-white/40 uppercase tracking-[0.2em] mb-4",children:a?"Running":"Paused"}),E.jsx("div",{className:"text-sm text-accent/80 font-medium italic opacity-80 animate-fade-in",children:v})]})]})}),E.jsxs("div",{className:"flex items-center gap-4 mb-12",children:[E.jsx("span",{className:"text-[10px] font-bold text-white/30 uppercase tracking-widest",children:"Session"}),E.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(T=>E.jsx("div",{className:`w-2.5 h-2.5 rounded-full transition-all duration-300 ${T<=c?"bg-accent shadow-[0_0_8px_rgba(var(--accent),0.5)] scale-110":"bg-[#1e293b] border border-white/5"}`},T))}),E.jsxs("span",{className:"text-[10px] font-bold text-white/30 uppercase tracking-widest",children:["#",c,"/4"]})]}),E.jsxs("div",{className:"flex items-center gap-8",children:[E.jsx("button",{onClick:p,className:"p-4 rounded-full text-white/20 hover:text-white hover:bg-white/5 transition-all active:scale-95 active:rotate-180 duration-500",children:E.jsx(Jx,{size:24})}),E.jsx("button",{onClick:x,className:"w-20 h-20 rounded-full bg-accent flex items-center justify-center text-[#0f172a] shadow-xl shadow-accent/20 hover:scale-105 active:scale-95 transition-all",children:a?E.jsx(Wx,{size:32,fill:"currentColor"}):E.jsx(Gx,{size:32,fill:"currentColor",className:"ml-1"})}),E.jsx("button",{onClick:()=>f(!l),className:`p-4 rounded-full transition-all active:scale-95 ${l?"text-white/20":"text-white/60 hover:text-white"}`,children:l?E.jsx(nk,{size:24}):E.jsx(rk,{size:24})})]})]})]})},LS=({isOpen:t,onClose:e,onSettingsClick:r,currentUser:n,onLogout:i})=>{var x;const[o,a]=he.useState(0),s=sd.general,l=he.useRef(null),f=he.useRef(null),v=50,d=()=>{a(p=>(p+1)%s.length)},c=()=>{a(p=>(p-1+s.length)%s.length)};he.useEffect(()=>{const p=setInterval(d,5e3);return()=>clearInterval(p)},[]),he.useEffect(()=>{if(!t)return;const p=m=>{m.key==="ArrowRight"&&d(),m.key==="ArrowLeft"&&c()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[t]);const h=p=>{f.current=null,l.current=p.targetTouches[0].clientX},g=p=>{f.current=p.targetTouches[0].clientX},b=()=>{if(!l.current||!f.current)return;const p=l.current-f.current,m=p>v,_=p<-v;m&&d(),_&&c()};return E.jsxs(E.Fragment,{children:[t&&E.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-[90] transition-opacity cursor-pointer animate-fade-in",onClick:e}),E.jsxs("div",{className:`absolute top-0 left-0 h-full w-80 bg-[#0f172a] border-r border-white/10 z-[100] transform transition-transform duration-300 ease-out ${t?"translate-x-0":"-translate-x-full"} shadow-2xl flex flex-col`,children:[E.jsxs("div",{className:"p-6 bg-gradient-to-br from-accent/20 to-transparent border-b border-white/5",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-accent to-accent/80 flex items-center justify-center text-black font-bold shadow-lg shadow-accent/20 ring-2 ring-white/10",children:n!=null&&n.email?n.email[0].toUpperCase():E.jsx(Mv,{size:24})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold text-lg truncate max-w-[140px]",children:((x=n==null?void 0:n.email)==null?void 0:x.split("@")[0])||"User"}),E.jsxs("div",{className:"flex items-center gap-1.5 bg-accent/10 px-2 py-0.5 rounded-full w-fit mt-1",children:[E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent animate-pulse"}),E.jsx("p",{className:"text-accent text-[10px] uppercase tracking-widest font-bold",children:"Premium"})]})]})]}),E.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-white/50 hover:text-white active:scale-95",children:E.jsx(_o,{size:20})})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("button",{onClick:()=>{e(),r()},className:"w-full flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/5 hover:bg-white/10 hover:border-accent/30 transition-all group active:scale-[0.98]",children:[E.jsx("div",{className:"p-2 rounded-lg bg-accent/10 text-accent group-hover:bg-accent group-hover:text-black transition-colors shadow-sm",children:E.jsx(Xx,{size:20})}),E.jsx("span",{className:"font-bold text-white",children:"Settings"})]}),E.jsxs("button",{onClick:()=>{e(),i()},className:"w-full flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/5 hover:bg-error/10 hover:border-error/30 transition-all group active:scale-[0.98]",children:[E.jsx("div",{className:"p-2 rounded-lg bg-error/10 text-error group-hover:bg-error group-hover:text-white transition-colors shadow-sm",children:E.jsx(Mv,{size:20})}),E.jsx("span",{className:"font-bold text-white",children:"Sign Out"})]})]})]}),E.jsx("div",{className:"p-6 flex-1 flex flex-col justify-center",children:E.jsxs("div",{className:"bg-[#0f172a] border border-white/10 rounded-2xl p-6 relative overflow-hidden group touch-pan-y shadow-xl hover:shadow-2xl transition-shadow",onTouchStart:h,onTouchMove:g,onTouchEnd:b,children:[E.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:E.jsx(zl,{size:64,className:"text-accent"})}),E.jsx("div",{className:"flex justify-center mb-6 relative z-10",children:E.jsx("div",{className:"p-3 rounded-full bg-accent/10 text-accent",children:E.jsx(zl,{size:24})})}),E.jsx("div",{className:"min-h-[100px] flex items-center justify-center text-center relative z-10",children:E.jsxs("p",{className:"text-base font-medium text-white/90 leading-relaxed transition-all duration-300 italic",children:['"',s[o],'"']})}),E.jsxs("div",{className:"flex items-center justify-between mt-6 px-2 relative z-10",children:[E.jsx("button",{onClick:p=>{p.stopPropagation(),c()},className:"p-2 text-white/20 hover:text-accent transition-colors active:scale-90",children:E.jsx(jh,{size:16})}),E.jsx("div",{className:"flex gap-1.5 justify-center",children:s.map((p,m)=>E.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${m===o?"w-6 bg-accent":"w-1.5 bg-white/10"}`},m))}),E.jsx("button",{onClick:p=>{p.stopPropagation(),d()},className:"p-2 text-white/20 hover:text-accent transition-colors active:scale-90",children:E.jsx(Su,{size:16})})]})]})}),E.jsxs("div",{className:"p-8 text-center relative",children:[E.jsx("div",{className:"absolute top-0 left-8 right-8 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),E.jsx("h2",{className:"text-2xl font-black tracking-[0.2em] text-accent mb-2 mt-4 drop-shadow-sm",children:"ALYNTO"}),E.jsx("p",{className:"text-[10px] text-white/40 uppercase tracking-[0.2em] font-bold",children:"PREMIUM SCHEDULER"}),E.jsx("p",{className:"text-[10px] text-white/30 mt-6 tracking-wider font-medium",children:" 2025 ALYNTO INC."})]})]})]})},Jv=({events:t=[],tasks:e=[],habits:r=[],preferences:n,onUpdateTask:i,currentDate:o,onDateChange:a,currentUser:s,onLogout:l,viewMode:f,onViewModeChange:v,onDeleteEvent:d,onAddClick:c,onSettingsClick:h,onPomodoroClick:g,onEventClick:b,activeTab:x="schedule",onTabChange:p})=>{const[m,_]=he.useState(!1),[w,S]=he.useState(null),I=he.useRef(null),[,j]=he.useState(0);he.useEffect(()=>{const W=setInterval(()=>{j(U=>U+1)},6e4);return()=>clearInterval(W)},[]);const M=["schedule","assignments","timer"].includes(x)?x:"schedule",A=he.useRef(null),R=he.useRef(null),L=he.useRef(null),D=50,F=W=>{L.current=null,A.current=W.targetTouches[0].clientX,R.current=W.targetTouches[0].clientY},G=W=>{L.current=W.targetTouches[0].clientX},V=W=>{if(!A.current||!L.current)return;const U=A.current-L.current,Q=R.current-W.changedTouches[0].clientY;if(Math.abs(Q)>Math.abs(U))return;const ce=U>D,Z=U<-D;ce?N(1):Z&&N(-1)},X=he.useRef(!1),z=he.useRef(null);he.useEffect(()=>{if(!z.current)return;const U=Z=>{X.current&&(L.current=Z.clientX)},Q=Z=>{if(!X.current||(X.current=!1,window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",Q),!A.current||!L.current))return;const ve=A.current-L.current,Ne=R.current-Z.clientY;if(Math.abs(Ne)>Math.abs(ve))return;const Se=ve>D,Be=ve<-D;Se?N(1):Be&&N(-1)},ce=Z=>{if(z.current&&z.current.contains(Z.target)){if(Z.target.closest('[draggable="true"]'))return;X.current=!0,L.current=null,A.current=Z.clientX,R.current=Z.clientY,window.addEventListener("mousemove",U),window.addEventListener("mouseup",Q)}};return window.addEventListener("mousedown",ce,!0),()=>{window.removeEventListener("mousedown",ce,!0),window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",Q)}},[o]);const q=W=>{S(W)},P=()=>{w&&d&&(d(w.id),S(null))},N=W=>{const U=new Date(o);U.setDate(U.getDate()+W),a(U)},B=()=>{I.current&&I.current.showPicker()},K=W=>{if(W.target.value){const[U,Q,ce]=W.target.value.split("-").map(Number),Z=new Date(U,Q-1,ce);a(Z)}},te=t.filter(W=>{const U=o.toLocaleDateString("en-US",{weekday:"long"});return W.repeat==="Weekly"&&W.repeatDay===U||W.repeat==="Daily"?!0:W.date?new Date(W.date).toDateString()===o.toDateString():W.repeatDay===U}).sort((W,U)=>W.startTime.localeCompare(U.startTime));return E.jsxs("div",{className:"flex flex-col h-screen overflow-hidden relative bg-background text-white font-sans pb-0",children:[E.jsx(LS,{isOpen:m,onClose:()=>_(!1),onSettingsClick:h,currentUser:s,onLogout:l}),E.jsx("input",{type:"date",ref:I,className:"absolute top-0 left-0 opacity-0 pointer-events-none",onChange:K}),w&&E.jsx("div",{className:"absolute inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-fade-in",children:E.jsxs("div",{className:"bg-[#1E1E1E] border border-white/10 rounded-2xl p-6 w-[90%] max-w-sm shadow-2xl scale-100 animate-scale-in",children:[E.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Delete Event?"}),E.jsxs("p",{className:"text-textMuted mb-6",children:['Are you sure you want to delete "',w.subject,'"?']}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>S(null),className:"flex-1 py-3 rounded-xl bg-white/5 text-white font-medium hover:bg-white/10 transition-colors active:scale-95",children:"Cancel"}),E.jsx("button",{onClick:P,className:"flex-1 py-3 rounded-xl bg-error/20 text-error font-bold hover:bg-error/30 transition-colors active:scale-95",children:"Delete"})]})]})}),E.jsxs("div",{ref:z,className:"flex-1 flex flex-col relative overflow-hidden pb-0 touch-pan-y select-none",onTouchStart:F,onTouchMove:G,onTouchEnd:V,children:[E.jsxs("div",{style:{display:M==="schedule"?"flex":"none",paddingTop:"calc(4rem + env(safe-area-inset-top))"},className:"flex-1 flex flex-col overflow-y-auto no-scrollbar overscroll-y-none pb-32",children:[E.jsx("div",{style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},className:"fixed top-0 left-1/2 transform -translate-x-1/2 z-40 w-full max-w-md px-1",children:E.jsxs("div",{className:"bg-[#1E1E1E] border border-white/10 rounded-2xl p-2 pl-4 pr-2 shadow-xl flex items-center justify-between backdrop-blur-md bg-opacity-95",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>_(!0),className:"text-white/70 hover:text-white transition-colors active:scale-95 p-1",children:E.jsx(Hx,{size:28})}),E.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:"Schedule"})]}),E.jsxs("div",{className:"flex bg-black/40 rounded-lg p-1 border border-white/5",children:[E.jsx("button",{onClick:()=>v("daily"),className:`px-6 py-3 rounded-xl text-xs font-bold transition-all active:scale-95 ${f==="daily"?"bg-accent text-black shadow-sm":"text-textMuted hover:text-white"}`,children:"Day"}),E.jsx("button",{onClick:()=>v("weekly"),className:`px-6 py-3 rounded-xl text-xs font-bold transition-all active:scale-95 ${f==="weekly"?"bg-accent text-black shadow-sm":"text-textMuted hover:text-white"}`,children:"Week"})]})]})}),f==="weekly"?E.jsx(AE,{events:t,tasks:e,habits:r,currentDate:o,onDateChange:a,onEventClick:b,onUpdateTask:i}):E.jsxs("div",{className:"px-6 pb-0 space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2 px-2 mt-1",children:[E.jsx("div",{children:E.jsx("h2",{className:"text-3xl font-black bg-gradient-to-b from-white to-gray-400 bg-clip-text text-transparent tracking-tight",children:o.toLocaleDateString("en-US",{weekday:"long"})})}),E.jsxs("div",{className:"flex items-center gap-2 bg-[#1E1E1E] rounded-xl p-1 border border-white/5 shadow-sm",children:[E.jsx("button",{onClick:()=>N(-1),className:"p-1.5 hover:text-accent transition-colors active:scale-90",children:E.jsx(jh,{size:20})}),E.jsx("div",{onClick:B,className:"text-accent font-bold text-sm cursor-pointer min-w-[80px] text-center uppercase tracking-wider",children:o.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),E.jsx("button",{onClick:()=>N(1),className:"p-1.5 hover:text-accent transition-colors active:scale-90",children:E.jsx(Su,{size:20})})]})]}),E.jsxs("div",{className:"flex items-center justify-end gap-2 mb-6",children:[E.jsxs("span",{className:"text-[9px] font-bold px-2 py-1 rounded-full bg-[#1E1E1E] border border-white/5 text-textMuted uppercase tracking-wider shadow-sm",children:[te.length," Events"]}),E.jsxs("span",{className:"text-[9px] font-bold px-2 py-1 rounded-full bg-[#1E1E1E] border border-white/5 text-textMuted uppercase tracking-wider shadow-sm",children:[r.length," Habits"]})]}),te.length>0?te.map((W,U)=>{const Q=ok(W,W.date||o);return E.jsxs("div",{onClick:()=>b(W),style:{borderColor:W.color||"rgba(255,255,255,0.1)"},className:"bg-[#1E1E1E] border-2 rounded-2xl p-5 relative group overflow-hidden hover:shadow-lg transition-all cursor-pointer shadow-md hover:-translate-y-1 active:scale-[0.99] duration-300",children:[E.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-accent/5 rounded-bl-full -mr-4 -mt-4 transition-all group-hover:bg-accent/10"}),E.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[E.jsx("h3",{className:"text-white font-bold text-xl leading-tight max-w-[70%]",children:W.subject}),Q&&E.jsx("span",{className:`text-[10px] font-bold px-2.5 py-1 rounded-lg border shadow-sm ${Q==="In Progress"?"bg-accent text-black border-accent animate-glow-pulse":"bg-accent/10 text-accent border-accent/20"}`,children:Q})]}),E.jsxs("div",{className:"space-y-3 mb-4 relative z-10",children:[E.jsxs("div",{className:"flex items-center gap-3 text-textMuted text-sm",children:[E.jsx("div",{className:"p-1.5 rounded-lg bg-white/5 text-accent",children:E.jsx(id,{size:14})}),E.jsxs("span",{className:"font-medium text-white/90",children:[Kl(W.startTime)," - ",Kl(W.endTime)]})]}),W.room&&E.jsxs("div",{className:"flex items-center gap-3 text-textMuted text-sm",children:[E.jsx("div",{className:"p-1.5 rounded-lg bg-white/5 text-accent",children:E.jsx(Kx,{size:14})}),E.jsxs("span",{children:[W.building?`${W.building}  `:"",W.room]})]})]}),E.jsxs("div",{className:"flex items-center gap-2 mt-4 relative z-10",children:[W.type&&E.jsx("span",{className:"text-[10px] font-bold px-3 py-1.5 rounded-lg bg-error/10 text-error border border-error/20 uppercase tracking-wider",children:W.type}),W.teacher&&E.jsx("span",{className:"text-[10px] font-bold px-3 py-1.5 rounded-lg bg-[#2A2A2A] text-textMuted border border-white/5 uppercase tracking-wider",children:W.teacher})]}),E.jsx("button",{onClick:ce=>{ce.stopPropagation(),q(W)},className:"absolute bottom-4 right-4 p-2 text-white/10 hover:text-error transition-colors opacity-0 group-hover:opacity-100 active:scale-90 z-20",children:E.jsx(ad,{size:18})})]},W.id||U)}):E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-60 min-h-[50vh]",children:[E.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mb-6 animate-pulse-slow",children:E.jsx(Lx,{size:40,className:"text-accent"})}),E.jsx("p",{className:"text-white font-bold text-xl mb-2",children:"No events today"}),E.jsx("p",{className:"text-sm text-textMuted max-w-[200px]",children:"You're all caught up! Enjoy your free time or add a new task."})]}),r.map((W,U)=>E.jsxs("div",{onClick:()=>b(W),style:{borderColor:W.color?`${W.color}50`:"rgba(168, 85, 247, 0.5)"},className:"bg-[#1E1E1E] border rounded-2xl p-5 relative group overflow-hidden transition-all cursor-pointer shadow-lg hover:shadow-2xl hover:-translate-y-1 active:scale-[0.99] duration-300 opacity-90",children:[E.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1.5",style:{backgroundColor:W.color||"#a855f7"}}),E.jsxs("div",{className:"flex justify-between items-start pl-2",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold text-lg",children:W.subject}),E.jsx("div",{className:"flex items-center text-textMuted text-sm mt-2 gap-3",children:E.jsxs("span",{className:"flex items-center gap-2",style:{color:W.color||"#c084fc"},children:[E.jsx(id,{size:14})," ",W.duration,"m"]})})]}),E.jsx("span",{className:"text-[10px] font-bold px-2.5 py-1 rounded-lg uppercase tracking-wider border",style:{backgroundColor:W.color?`${W.color}15`:"rgba(168, 85, 247, 0.1)",color:W.color||"#c084fc",borderColor:W.color?`${W.color}30`:"rgba(168, 85, 247, 0.2)"},children:"Habit"})]})]},W.id||`habit-${U}`))]})]}),E.jsx("div",{style:{display:M==="assignments"?"block":"none"},className:"h-full overflow-hidden",children:E.jsx(RE,{tasks:e,onUpdateTask:i,onAddClick:c,onEditTask:b,onBack:()=>p("schedule")})}),E.jsx("div",{style:{display:M==="timer"?"block":"none"},className:"h-full overflow-hidden",children:E.jsx(I0,{tasks:e,preferences:n,onBack:()=>p("schedule")})})]}),E.jsx("div",{style:{bottom:"calc(0.5rem + env(safe-area-inset-bottom))"},className:"absolute left-1/2 transform -translate-x-1/2 z-50 w-[90%] max-w-md",children:E.jsxs("div",{className:"bg-[#1E1E1E]/90 backdrop-blur-2xl border border-white/10 rounded-3xl p-2 shadow-2xl shadow-black/50 flex items-center justify-between px-6 ring-1 ring-white/5",children:[E.jsxs("button",{onClick:()=>p("schedule"),className:`flex flex-col items-center gap-1 transition-all duration-300 ${M==="schedule"?"text-accent scale-110":"text-white/40 hover:text-white active:scale-95"}`,children:[E.jsx("div",{className:`p-1 rounded-lg transition-colors ${M==="schedule"?"bg-accent/10":"bg-transparent"}`,children:E.jsx(Fx,{size:20,strokeWidth:M==="schedule"?2.5:2})}),E.jsx("span",{className:"text-[10px] font-bold",children:"Schedule"})]}),E.jsxs("button",{onClick:()=>p("assignments"),className:`flex flex-col items-center gap-1 transition-all duration-300 ${M==="assignments"?"text-accent scale-110":"text-white/40 hover:text-white active:scale-95"}`,children:[E.jsx("div",{className:`p-1 rounded-lg transition-colors ${M==="assignments"?"bg-accent/10":"bg-transparent"}`,children:E.jsx(Cx,{size:20,strokeWidth:M==="assignments"?2.5:2})}),E.jsx("span",{className:"text-[10px] font-bold",children:"Assignment"})]}),E.jsxs("button",{onClick:()=>p("timer"),className:`flex flex-col items-center gap-1 transition-all duration-300 ${M==="timer"?"text-accent scale-110":"text-white/40 hover:text-white active:scale-95"}`,children:[E.jsx("div",{className:`p-1 rounded-lg transition-colors ${M==="timer"?"bg-accent/10":"bg-transparent"}`,children:E.jsx(zl,{size:20,strokeWidth:M==="timer"?2.5:2})}),E.jsx("span",{className:"text-[10px] font-bold",children:"Clutch"})]}),E.jsx("div",{className:"w-px h-8 bg-white/10 mx-1"}),E.jsx("button",{onClick:()=>c(M==="assignments"?{category:"task"}:{category:"event"}),className:"w-12 h-12 bg-accent rounded-2xl flex items-center justify-center text-black shadow-lg shadow-accent/20 hover:scale-105 transition-all active:scale-95 hover:shadow-accent/40",children:E.jsx(od,{size:24,strokeWidth:3})})]})})]})};function DS(){this.__data__=[],this.size=0}var MS=DS;function $S(t,e){return t===e||t!==t&&e!==e}var L0=$S,BS=L0;function qS(t,e){for(var r=t.length;r--;)if(BS(t[r][0],e))return r;return-1}var Nu=qS,US=Nu,FS=Array.prototype,zS=FS.splice;function KS(t){var e=this.__data__,r=US(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():zS.call(e,r,1),--this.size,!0}var HS=KS,WS=Nu;function VS(t){var e=this.__data__,r=WS(e,t);return r<0?void 0:e[r][1]}var GS=VS,YS=Nu;function QS(t){return YS(this.__data__,t)>-1}var JS=QS,XS=Nu;function ZS(t,e){var r=this.__data__,n=XS(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var eO=ZS,tO=MS,rO=HS,nO=GS,iO=JS,oO=eO;function Po(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Po.prototype.clear=tO;Po.prototype.delete=rO;Po.prototype.get=nO;Po.prototype.has=iO;Po.prototype.set=oO;var Pu=Po,aO=Pu;function sO(){this.__data__=new aO,this.size=0}var lO=sO;function uO(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var cO=uO;function fO(t){return this.__data__.get(t)}var dO=fO;function hO(t){return this.__data__.has(t)}var pO=hO,vO=typeof Et=="object"&&Et&&Et.Object===Object&&Et,D0=vO,mO=D0,yO=typeof self=="object"&&self&&self.Object===Object&&self,gO=mO||yO||Function("return this")(),dn=gO,wO=dn,bO=wO.Symbol,Ah=bO,Xv=Ah,M0=Object.prototype,_O=M0.hasOwnProperty,xO=M0.toString,oa=Xv?Xv.toStringTag:void 0;function kO(t){var e=_O.call(t,oa),r=t[oa];try{t[oa]=void 0;var n=!0}catch(o){}var i=xO.call(t);return n&&(e?t[oa]=r:delete t[oa]),i}var EO=kO,SO=Object.prototype,OO=SO.toString;function TO(t){return OO.call(t)}var jO=TO,Zv=Ah,NO=EO,PO=jO,AO="[object Null]",CO="[object Undefined]",em=Zv?Zv.toStringTag:void 0;function RO(t){return t==null?t===void 0?CO:AO:em&&em in Object(t)?NO(t):PO(t)}var Au=RO;function IO(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $0=IO,LO=Au,DO=$0,MO="[object AsyncFunction]",$O="[object Function]",BO="[object GeneratorFunction]",qO="[object Proxy]";function UO(t){if(!DO(t))return!1;var e=LO(t);return e==$O||e==BO||e==MO||e==qO}var B0=UO,FO=dn,zO=FO["__core-js_shared__"],KO=zO,Xc=KO,tm=function(){var t=/[^.]+$/.exec(Xc&&Xc.keys&&Xc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function HO(t){return!!tm&&tm in t}var WO=HO,VO=Function.prototype,GO=VO.toString;function YO(t){if(t!=null){try{return GO.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var q0=YO,QO=B0,JO=WO,XO=$0,ZO=q0,e2=/[\\^$.*+?()[\]{}|]/g,t2=/^\[object .+?Constructor\]$/,r2=Function.prototype,n2=Object.prototype,i2=r2.toString,o2=n2.hasOwnProperty,a2=RegExp("^"+i2.call(o2).replace(e2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s2(t){if(!XO(t)||JO(t))return!1;var e=QO(t)?a2:t2;return e.test(ZO(t))}var l2=s2;function u2(t,e){return t==null?void 0:t[e]}var c2=u2,f2=l2,d2=c2;function h2(t,e){var r=d2(t,e);return f2(r)?r:void 0}var Ao=h2,p2=Ao,v2=dn,m2=p2(v2,"Map"),Ch=m2,y2=Ao,g2=y2(Object,"create"),Cu=g2,rm=Cu;function w2(){this.__data__=rm?rm(null):{},this.size=0}var b2=w2;function _2(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var x2=_2,k2=Cu,E2="__lodash_hash_undefined__",S2=Object.prototype,O2=S2.hasOwnProperty;function T2(t){var e=this.__data__;if(k2){var r=e[t];return r===E2?void 0:r}return O2.call(e,t)?e[t]:void 0}var j2=T2,N2=Cu,P2=Object.prototype,A2=P2.hasOwnProperty;function C2(t){var e=this.__data__;return N2?e[t]!==void 0:A2.call(e,t)}var R2=C2,I2=Cu,L2="__lodash_hash_undefined__";function D2(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=I2&&e===void 0?L2:e,this}var M2=D2,$2=b2,B2=x2,q2=j2,U2=R2,F2=M2;function Co(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Co.prototype.clear=$2;Co.prototype.delete=B2;Co.prototype.get=q2;Co.prototype.has=U2;Co.prototype.set=F2;var z2=Co,nm=z2,K2=Pu,H2=Ch;function W2(){this.size=0,this.__data__={hash:new nm,map:new(H2||K2),string:new nm}}var V2=W2;function G2(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Y2=G2,Q2=Y2;function J2(t,e){var r=t.__data__;return Q2(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ru=J2,X2=Ru;function Z2(t){var e=X2(this,t).delete(t);return this.size-=e?1:0,e}var eT=Z2,tT=Ru;function rT(t){return tT(this,t).get(t)}var nT=rT,iT=Ru;function oT(t){return iT(this,t).has(t)}var aT=oT,sT=Ru;function lT(t,e){var r=sT(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var uT=lT,cT=V2,fT=eT,dT=nT,hT=aT,pT=uT;function Ro(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ro.prototype.clear=cT;Ro.prototype.delete=fT;Ro.prototype.get=dT;Ro.prototype.has=hT;Ro.prototype.set=pT;var U0=Ro,vT=Pu,mT=Ch,yT=U0,gT=200;function wT(t,e){var r=this.__data__;if(r instanceof vT){var n=r.__data__;if(!mT||n.length<gT-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new yT(n)}return r.set(t,e),this.size=r.size,this}var bT=wT,_T=Pu,xT=lO,kT=cO,ET=dO,ST=pO,OT=bT;function Io(t){var e=this.__data__=new _T(t);this.size=e.size}Io.prototype.clear=xT;Io.prototype.delete=kT;Io.prototype.get=ET;Io.prototype.has=ST;Io.prototype.set=OT;var TT=Io,jT="__lodash_hash_undefined__";function NT(t){return this.__data__.set(t,jT),this}var PT=NT;function AT(t){return this.__data__.has(t)}var CT=AT,RT=U0,IT=PT,LT=CT;function Gl(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new RT;++e<r;)this.add(t[e])}Gl.prototype.add=Gl.prototype.push=IT;Gl.prototype.has=LT;var DT=Gl;function MT(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var $T=MT;function BT(t,e){return t.has(e)}var qT=BT,UT=DT,FT=$T,zT=qT,KT=1,HT=2;function WT(t,e,r,n,i,o){var a=r&KT,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var f=o.get(t),v=o.get(e);if(f&&v)return f==e&&v==t;var d=-1,c=!0,h=r&HT?new UT:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var g=t[d],b=e[d];if(n)var x=a?n(b,g,d,e,t,o):n(g,b,d,t,e,o);if(x!==void 0){if(x)continue;c=!1;break}if(h){if(!FT(e,function(p,m){if(!zT(h,m)&&(g===p||i(g,p,r,n,o)))return h.push(m)})){c=!1;break}}else if(!(g===b||i(g,b,r,n,o))){c=!1;break}}return o.delete(t),o.delete(e),c}var F0=WT,VT=dn,GT=VT.Uint8Array,YT=GT;function QT(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var JT=QT;function XT(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var ZT=XT,im=Ah,om=YT,ej=L0,tj=F0,rj=JT,nj=ZT,ij=1,oj=2,aj="[object Boolean]",sj="[object Date]",lj="[object Error]",uj="[object Map]",cj="[object Number]",fj="[object RegExp]",dj="[object Set]",hj="[object String]",pj="[object Symbol]",vj="[object ArrayBuffer]",mj="[object DataView]",am=im?im.prototype:void 0,Zc=am?am.valueOf:void 0;function yj(t,e,r,n,i,o,a){switch(r){case mj:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case vj:return!(t.byteLength!=e.byteLength||!o(new om(t),new om(e)));case aj:case sj:case cj:return ej(+t,+e);case lj:return t.name==e.name&&t.message==e.message;case fj:case hj:return t==e+"";case uj:var s=rj;case dj:var l=n&ij;if(s||(s=nj),t.size!=e.size&&!l)return!1;var f=a.get(t);if(f)return f==e;n|=oj,a.set(t,e);var v=tj(s(t),s(e),n,i,o,a);return a.delete(t),v;case pj:if(Zc)return Zc.call(t)==Zc.call(e)}return!1}var gj=yj;function wj(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var bj=wj,_j=Array.isArray,Rh=_j,xj=bj,kj=Rh;function Ej(t,e,r){var n=e(t);return kj(t)?n:xj(n,r(t))}var Sj=Ej;function Oj(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}var Tj=Oj;function jj(){return[]}var Nj=jj,Pj=Tj,Aj=Nj,Cj=Object.prototype,Rj=Cj.propertyIsEnumerable,sm=Object.getOwnPropertySymbols,Ij=sm?function(t){return t==null?[]:(t=Object(t),Pj(sm(t),function(e){return Rj.call(t,e)}))}:Aj,Lj=Ij;function Dj(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Mj=Dj;function $j(t){return t!=null&&typeof t=="object"}var Iu=$j,Bj=Au,qj=Iu,Uj="[object Arguments]";function Fj(t){return qj(t)&&Bj(t)==Uj}var zj=Fj,lm=zj,Kj=Iu,z0=Object.prototype,Hj=z0.hasOwnProperty,Wj=z0.propertyIsEnumerable,Vj=lm(function(){return arguments}())?lm:function(t){return Kj(t)&&Hj.call(t,"callee")&&!Wj.call(t,"callee")},Gj=Vj,Yl={exports:{}};function Yj(){return!1}var Qj=Yj;Yl.exports;(function(t,e){var r=dn,n=Qj,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,f=l||n;t.exports=f})(Yl,Yl.exports);var K0=Yl.exports,Jj=9007199254740991,Xj=/^(?:0|[1-9]\d*)$/;function Zj(t,e){var r=typeof t;return e=e==null?Jj:e,!!e&&(r=="number"||r!="symbol"&&Xj.test(t))&&t>-1&&t%1==0&&t<e}var eN=Zj,tN=9007199254740991;function rN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tN}var H0=rN,nN=Au,iN=H0,oN=Iu,aN="[object Arguments]",sN="[object Array]",lN="[object Boolean]",uN="[object Date]",cN="[object Error]",fN="[object Function]",dN="[object Map]",hN="[object Number]",pN="[object Object]",vN="[object RegExp]",mN="[object Set]",yN="[object String]",gN="[object WeakMap]",wN="[object ArrayBuffer]",bN="[object DataView]",_N="[object Float32Array]",xN="[object Float64Array]",kN="[object Int8Array]",EN="[object Int16Array]",SN="[object Int32Array]",ON="[object Uint8Array]",TN="[object Uint8ClampedArray]",jN="[object Uint16Array]",NN="[object Uint32Array]",ft={};ft[_N]=ft[xN]=ft[kN]=ft[EN]=ft[SN]=ft[ON]=ft[TN]=ft[jN]=ft[NN]=!0;ft[aN]=ft[sN]=ft[wN]=ft[lN]=ft[bN]=ft[uN]=ft[cN]=ft[fN]=ft[dN]=ft[hN]=ft[pN]=ft[vN]=ft[mN]=ft[yN]=ft[gN]=!1;function PN(t){return oN(t)&&iN(t.length)&&!!ft[nN(t)]}var AN=PN;function CN(t){return function(e){return t(e)}}var RN=CN,Ql={exports:{}};Ql.exports;(function(t,e){var r=D0,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch(f){}}();t.exports=s})(Ql,Ql.exports);var IN=Ql.exports,LN=AN,DN=RN,um=IN,cm=um&&um.isTypedArray,MN=cm?DN(cm):LN,W0=MN,$N=Mj,BN=Gj,qN=Rh,UN=K0,FN=eN,zN=W0,KN=Object.prototype,HN=KN.hasOwnProperty;function WN(t,e){var r=qN(t),n=!r&&BN(t),i=!r&&!n&&UN(t),o=!r&&!n&&!i&&zN(t),a=r||n||i||o,s=a?$N(t.length,String):[],l=s.length;for(var f in t)(e||HN.call(t,f))&&!(a&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||FN(f,l)))&&s.push(f);return s}var VN=WN,GN=Object.prototype;function YN(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||GN;return t===r}var QN=YN;function JN(t,e){return function(r){return t(e(r))}}var XN=JN,ZN=XN,eP=ZN(Object.keys,Object),tP=eP,rP=QN,nP=tP,iP=Object.prototype,oP=iP.hasOwnProperty;function aP(t){if(!rP(t))return nP(t);var e=[];for(var r in Object(t))oP.call(t,r)&&r!="constructor"&&e.push(r);return e}var sP=aP,lP=B0,uP=H0;function cP(t){return t!=null&&uP(t.length)&&!lP(t)}var fP=cP,dP=VN,hP=sP,pP=fP;function vP(t){return pP(t)?dP(t):hP(t)}var mP=vP,yP=Sj,gP=Lj,wP=mP;function bP(t){return yP(t,wP,gP)}var _P=bP,fm=_P,xP=1,kP=Object.prototype,EP=kP.hasOwnProperty;function SP(t,e,r,n,i,o){var a=r&xP,s=fm(t),l=s.length,f=fm(e),v=f.length;if(l!=v&&!a)return!1;for(var d=l;d--;){var c=s[d];if(!(a?c in e:EP.call(e,c)))return!1}var h=o.get(t),g=o.get(e);if(h&&g)return h==e&&g==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=a;++d<l;){c=s[d];var p=t[c],m=e[c];if(n)var _=a?n(m,p,c,e,t,o):n(p,m,c,t,e,o);if(!(_===void 0?p===m||i(p,m,r,n,o):_)){b=!1;break}x||(x=c=="constructor")}if(b&&!x){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(b=!1)}return o.delete(t),o.delete(e),b}var OP=SP,TP=Ao,jP=dn,NP=TP(jP,"DataView"),PP=NP,AP=Ao,CP=dn,RP=AP(CP,"Promise"),IP=RP,LP=Ao,DP=dn,MP=LP(DP,"Set"),$P=MP,BP=Ao,qP=dn,UP=BP(qP,"WeakMap"),FP=UP,cd=PP,fd=Ch,dd=IP,hd=$P,pd=FP,V0=Au,Lo=q0,dm="[object Map]",zP="[object Object]",hm="[object Promise]",pm="[object Set]",vm="[object WeakMap]",mm="[object DataView]",KP=Lo(cd),HP=Lo(fd),WP=Lo(dd),VP=Lo(hd),GP=Lo(pd),ui=V0;(cd&&ui(new cd(new ArrayBuffer(1)))!=mm||fd&&ui(new fd)!=dm||dd&&ui(dd.resolve())!=hm||hd&&ui(new hd)!=pm||pd&&ui(new pd)!=vm)&&(ui=function(t){var e=V0(t),r=e==zP?t.constructor:void 0,n=r?Lo(r):"";if(n)switch(n){case KP:return mm;case HP:return dm;case WP:return hm;case VP:return pm;case GP:return vm}return e});var YP=ui,ef=TT,QP=F0,JP=gj,XP=OP,ym=YP,gm=Rh,wm=K0,ZP=W0,eA=1,bm="[object Arguments]",_m="[object Array]",Ks="[object Object]",tA=Object.prototype,xm=tA.hasOwnProperty;function rA(t,e,r,n,i,o){var a=gm(t),s=gm(e),l=a?_m:ym(t),f=s?_m:ym(e);l=l==bm?Ks:l,f=f==bm?Ks:f;var v=l==Ks,d=f==Ks,c=l==f;if(c&&wm(t)){if(!wm(e))return!1;a=!0,v=!1}if(c&&!v)return o||(o=new ef),a||ZP(t)?QP(t,e,r,n,i,o):JP(t,e,l,r,n,i,o);if(!(r&eA)){var h=v&&xm.call(t,"__wrapped__"),g=d&&xm.call(e,"__wrapped__");if(h||g){var b=h?t.value():t,x=g?e.value():e;return o||(o=new ef),i(b,x,r,n,o)}}return c?(o||(o=new ef),XP(t,e,r,n,i,o)):!1}var nA=rA,iA=nA,km=Iu;function G0(t,e,r,n,i){return t===e?!0:t==null||e==null||!km(t)&&!km(e)?t!==t&&e!==e:iA(t,e,r,n,G0,i)}var oA=G0,aA=oA;function sA(t,e){return aA(t,e)}var lA=sA,Y0={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,i){t.exports=i()})(typeof self!="undefined"?self:Et,function(){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{configurable:!1,enumerable:!0,get:s})},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),a=i(18),s=i(19),l=i(45),f=i(46),v=i(47),d=i(48),c=i(49),h=i(12),g=i(32),b=i(33),x=i(31),p=i(1),m={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:o.default,Format:a.default,Leaf:s.default,Embed:d.default,Scroll:l.default,Block:v.default,Inline:f.default,Text:c.default,Attributor:{Attribute:h.default,Class:g.default,Style:b.default,Store:x.default}};n.default=m},function(r,n,i){var o=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var _ in m)m.hasOwnProperty(_)&&(p[_]=m[_])};return function(p,m){x(p,m);function _(){this.constructor=p}p.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=function(x){o(p,x);function p(m){var _=this;return m="[Parchment] "+m,_=x.call(this,m)||this,_.message=m,_.name=_.constructor.name,_}return p}(Error);n.ParchmentError=a;var s={},l={},f={},v={};n.DATA_KEY="__blot";var d;(function(x){x[x.TYPE=3]="TYPE",x[x.LEVEL=12]="LEVEL",x[x.ATTRIBUTE=13]="ATTRIBUTE",x[x.BLOT=14]="BLOT",x[x.INLINE=7]="INLINE",x[x.BLOCK=11]="BLOCK",x[x.BLOCK_BLOT=10]="BLOCK_BLOT",x[x.INLINE_BLOT=6]="INLINE_BLOT",x[x.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",x[x.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",x[x.ANY=15]="ANY"})(d=n.Scope||(n.Scope={}));function c(x,p){var m=g(x);if(m==null)throw new a("Unable to create "+x+" blot");var _=m,w=x instanceof Node||x.nodeType===Node.TEXT_NODE?x:_.create(p);return new _(w,p)}n.create=c;function h(x,p){return p===void 0&&(p=!1),x==null?null:x[n.DATA_KEY]!=null?x[n.DATA_KEY].blot:p?h(x.parentNode,p):null}n.find=h;function g(x,p){p===void 0&&(p=d.ANY);var m;if(typeof x=="string")m=v[x]||s[x];else if(x instanceof Text||x.nodeType===Node.TEXT_NODE)m=v.text;else if(typeof x=="number")x&d.LEVEL&d.BLOCK?m=v.block:x&d.LEVEL&d.INLINE&&(m=v.inline);else if(x instanceof HTMLElement){var _=(x.getAttribute("class")||"").split(/\s+/);for(var w in _)if(m=l[_[w]],m)break;m=m||f[x.tagName]}return m==null?null:p&d.LEVEL&m.scope&&p&d.TYPE&m.scope?m:null}n.query=g;function b(){for(var x=[],p=0;p<arguments.length;p++)x[p]=arguments[p];if(x.length>1)return x.map(function(w){return b(w)});var m=x[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new a("Invalid definition");if(m.blotName==="abstract")throw new a("Cannot register abstract class");if(v[m.blotName||m.attrName]=m,typeof m.keyName=="string")s[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(w){return w.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var _=Array.isArray(m.tagName)?m.tagName:[m.tagName];_.forEach(function(w){(f[w]==null||m.className==null)&&(f[w]=m)})}return m}n.register=b},function(r,n,i){var o=i(51),a=i(11),s=i(3),l=i(20),f="\0",v=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};v.prototype.insert=function(d,c){var h={};return d.length===0?this:(h.insert=d,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(h.attributes=c),this.push(h))},v.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},v.prototype.retain=function(d,c){if(d<=0)return this;var h={retain:d};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(h.attributes=c),this.push(h)},v.prototype.push=function(d){var c=this.ops.length,h=this.ops[c-1];if(d=s(!0,{},d),typeof h=="object"){if(typeof d.delete=="number"&&typeof h.delete=="number")return this.ops[c-1]={delete:h.delete+d.delete},this;if(typeof h.delete=="number"&&d.insert!=null&&(c-=1,h=this.ops[c-1],typeof h!="object"))return this.ops.unshift(d),this;if(a(d.attributes,h.attributes)){if(typeof d.insert=="string"&&typeof h.insert=="string")return this.ops[c-1]={insert:h.insert+d.insert},typeof d.attributes=="object"&&(this.ops[c-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof h.retain=="number")return this.ops[c-1]={retain:h.retain+d.retain},typeof d.attributes=="object"&&(this.ops[c-1].attributes=d.attributes),this}}return c===this.ops.length?this.ops.push(d):this.ops.splice(c,0,d),this},v.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},v.prototype.filter=function(d){return this.ops.filter(d)},v.prototype.forEach=function(d){this.ops.forEach(d)},v.prototype.map=function(d){return this.ops.map(d)},v.prototype.partition=function(d){var c=[],h=[];return this.forEach(function(g){var b=d(g)?c:h;b.push(g)}),[c,h]},v.prototype.reduce=function(d,c){return this.ops.reduce(d,c)},v.prototype.changeLength=function(){return this.reduce(function(d,c){return c.insert?d+l.length(c):c.delete?d-c.delete:d},0)},v.prototype.length=function(){return this.reduce(function(d,c){return d+l.length(c)},0)},v.prototype.slice=function(d,c){d=d||0,typeof c!="number"&&(c=1/0);for(var h=[],g=l.iterator(this.ops),b=0;b<c&&g.hasNext();){var x;b<d?x=g.next(d-b):(x=g.next(c-b),h.push(x)),b+=l.length(x)}return new v(h)},v.prototype.compose=function(d){var c=l.iterator(this.ops),h=l.iterator(d.ops),g=[],b=h.peek();if(b!=null&&typeof b.retain=="number"&&b.attributes==null){for(var x=b.retain;c.peekType()==="insert"&&c.peekLength()<=x;)x-=c.peekLength(),g.push(c.next());b.retain-x>0&&h.next(b.retain-x)}for(var p=new v(g);c.hasNext()||h.hasNext();)if(h.peekType()==="insert")p.push(h.next());else if(c.peekType()==="delete")p.push(c.next());else{var m=Math.min(c.peekLength(),h.peekLength()),_=c.next(m),w=h.next(m);if(typeof w.retain=="number"){var S={};typeof _.retain=="number"?S.retain=m:S.insert=_.insert;var I=l.attributes.compose(_.attributes,w.attributes,typeof _.retain=="number");if(I&&(S.attributes=I),p.push(S),!h.hasNext()&&a(p.ops[p.ops.length-1],S)){var j=new v(c.rest());return p.concat(j).chop()}}else typeof w.delete=="number"&&typeof _.retain=="number"&&p.push(w)}return p.chop()},v.prototype.concat=function(d){var c=new v(this.ops.slice());return d.ops.length>0&&(c.push(d.ops[0]),c.ops=c.ops.concat(d.ops.slice(1))),c},v.prototype.diff=function(d,c){if(this.ops===d.ops)return new v;var h=[this,d].map(function(m){return m.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:f;var w=m===d?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),g=new v,b=o(h[0],h[1],c),x=l.iterator(this.ops),p=l.iterator(d.ops);return b.forEach(function(m){for(var _=m[1].length;_>0;){var w=0;switch(m[0]){case o.INSERT:w=Math.min(p.peekLength(),_),g.push(p.next(w));break;case o.DELETE:w=Math.min(_,x.peekLength()),x.next(w),g.delete(w);break;case o.EQUAL:w=Math.min(x.peekLength(),p.peekLength(),_);var S=x.next(w),I=p.next(w);a(S.insert,I.insert)?g.retain(w,l.attributes.diff(S.attributes,I.attributes)):g.push(I).delete(w);break}_-=w}}),g.chop()},v.prototype.eachLine=function(d,c){c=c||`
`;for(var h=l.iterator(this.ops),g=new v,b=0;h.hasNext();){if(h.peekType()!=="insert")return;var x=h.peek(),p=l.length(x)-h.peekLength(),m=typeof x.insert=="string"?x.insert.indexOf(c,p)-p:-1;if(m<0)g.push(h.next());else if(m>0)g.push(h.next(m));else{if(d(g,h.next(1).attributes||{},b)===!1)return;b+=1,g=new v}}g.length()>0&&d(g,{},b)},v.prototype.transform=function(d,c){if(c=!!c,typeof d=="number")return this.transformPosition(d,c);for(var h=l.iterator(this.ops),g=l.iterator(d.ops),b=new v;h.hasNext()||g.hasNext();)if(h.peekType()==="insert"&&(c||g.peekType()!=="insert"))b.retain(l.length(h.next()));else if(g.peekType()==="insert")b.push(g.next());else{var x=Math.min(h.peekLength(),g.peekLength()),p=h.next(x),m=g.next(x);if(p.delete)continue;m.delete?b.push(m):b.retain(x,l.attributes.transform(p.attributes,m.attributes,c))}return b.chop()},v.prototype.transformPosition=function(d,c){c=!!c;for(var h=l.iterator(this.ops),g=0;h.hasNext()&&g<=d;){var b=h.peekLength(),x=h.peekType();if(h.next(),x==="delete"){d-=Math.min(b,d-g);continue}else x==="insert"&&(g<d||!c)&&(d+=b);g+=b}return d},r.exports=v},function(r,n){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},f=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var g=i.call(h,"constructor"),b=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!g&&!b)return!1;var x;for(x in h);return typeof x=="undefined"||i.call(h,x)},v=function(h,g){a&&g.name==="__proto__"?a(h,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):h[g.name]=g.newValue},d=function(h,g){if(g==="__proto__")if(i.call(h,g)){if(s)return s(h,g).value}else return;return h[g]};r.exports=function c(){var h,g,b,x,p,m,_=arguments[0],w=1,S=arguments.length,I=!1;for(typeof _=="boolean"&&(I=_,_=arguments[1]||{},w=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});w<S;++w)if(h=arguments[w],h!=null)for(g in h)b=d(_,g),x=d(h,g),_!==x&&(I&&x&&(f(x)||(p=l(x)))?(p?(p=!1,m=b&&l(b)?b:[]):m=b&&f(b)?b:{},v(_,{name:g,newValue:c(I,m,x)})):typeof x!="undefined"&&v(_,{name:g,newValue:x}));return _}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var o=function(){function R(L,D){for(var F=0;F<D.length;F++){var G=D[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,D,F){return D&&R(L.prototype,D),F&&R(L,F),L}}(),a=function R(L,D,F){L===null&&(L=Function.prototype);var G=Object.getOwnPropertyDescriptor(L,D);if(G===void 0){var V=Object.getPrototypeOf(L);return V===null?void 0:R(V,D,F)}else{if("value"in G)return G.value;var X=G.get;return X===void 0?void 0:X.call(F)}},s=i(3),l=_(s),f=i(2),v=_(f),d=i(0),c=_(d),h=i(16),g=_(h),b=i(6),x=_(b),p=i(7),m=_(p);function _(R){return R&&R.__esModule?R:{default:R}}function w(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")}function S(R,L){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:R}function I(R,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);R.prototype=Object.create(L&&L.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(R,L):R.__proto__=L)}var j=1,T=function(R){I(L,R);function L(){return w(this,L),S(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return o(L,[{key:"attach",value:function(){a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,G){var V=c.default.query(F,c.default.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,G)}},{key:"formatAt",value:function(F,G,V,X){this.format(V,X)}},{key:"insertAt",value:function(F,G,V){if(typeof G=="string"&&G.endsWith(`
`)){var X=c.default.create(M.blotName);this.parent.insertBefore(X,F===0?this:this.next),X.insertAt(0,G.slice(0,-1))}else a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,F,G,V)}}]),L}(c.default.Embed);T.scope=c.default.Scope.BLOCK_BLOT;var M=function(R){I(L,R);function L(D){w(this,L);var F=S(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,D));return F.cache={},F}return o(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(F,G){return G.length()===0?F:F.insert(G.value(),A(G))},new v.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(F,G){a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,F,G),this.cache={}}},{key:"formatAt",value:function(F,G,V,X){G<=0||(c.default.query(V,c.default.Scope.BLOCK)?F+G===this.length()&&this.format(V,X):a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,F,Math.min(G,this.length()-F-1),V,X),this.cache={})}},{key:"insertAt",value:function(F,G,V){if(V!=null)return a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,F,G,V);if(G.length!==0){var X=G.split(`
`),z=X.shift();z.length>0&&(F<this.length()-1||this.children.tail==null?a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),z):this.children.tail.insertAt(this.children.tail.length(),z),this.cache={});var q=this;X.reduce(function(P,N){return q=q.split(P,!0),q.insertAt(0,N),N.length},F+z.length)}}},{key:"insertBefore",value:function(F,G){var V=this.children.head;a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,F,G),V instanceof g.default&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+j),this.cache.length}},{key:"moveChildren",value:function(F,G){a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,F,G),this.cache={}}},{key:"optimize",value:function(F){a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&(F===0||F>=this.length()-j)){var V=this.clone();return F===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}else{var X=a(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,F,G);return this.cache={},X}}}]),L}(c.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[x.default,c.default.Embed,m.default];function A(R){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R==null||(typeof R.formats=="function"&&(L=(0,l.default)(L,R.formats())),R.parent==null||R.parent.blotName=="scroll"||R.parent.statics.scope!==R.statics.scope)?L:A(R.parent,L)}n.bubbleFormats=A,n.BlockEmbed=T,n.default=M},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},a=function(){function q(P,N){var B=[],K=!0,te=!1,W=void 0;try{for(var U=P[Symbol.iterator](),Q;!(K=(Q=U.next()).done)&&(B.push(Q.value),!(N&&B.length===N));K=!0);}catch(ce){te=!0,W=ce}finally{try{!K&&U.return&&U.return()}finally{if(te)throw W}}return B}return function(P,N){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return q(P,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function q(P,N){for(var B=0;B<N.length;B++){var K=N[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(P,K.key,K)}}return function(P,N,B){return N&&q(P.prototype,N),B&&q(P,B),P}}();i(50);var l=i(2),f=A(l),v=i(14),d=A(v),c=i(8),h=A(c),g=i(9),b=A(g),x=i(0),p=A(x),m=i(15),_=A(m),w=i(3),S=A(w),I=i(10),j=A(I),T=i(34),M=A(T);function A(q){return q&&q.__esModule?q:{default:q}}function R(q,P,N){return P in q?Object.defineProperty(q,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):q[P]=N,q}function L(q,P){if(!(q instanceof P))throw new TypeError("Cannot call a class as a function")}var D=(0,j.default)("quill"),F=function(){s(q,null,[{key:"debug",value:function(N){N===!0&&(N="log"),j.default.level(N)}},{key:"find",value:function(N){return N.__quill||p.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&D.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var W=N.attrName||N.blotName;typeof W=="string"?this.register("formats/"+W,N,B):Object.keys(N).forEach(function(U){K.register(U,N[U],B)})}else this.imports[N]!=null&&!te&&D.warn("Overwriting "+N+" with",B),this.imports[N]=B,(N.startsWith("blots/")||N.startsWith("formats/"))&&B.blotName!=="abstract"?p.default.register(B):N.startsWith("modules")&&typeof B.register=="function"&&B.register()}}]);function q(P){var N=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,q),this.options=G(P,B),this.container=this.options.container,this.container==null)return D.error("Invalid Quill container",P);this.options.debug&&q.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(W){W===h.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(W,U){var Q=N.selection.lastRange,ce=Q&&Q.length===0?Q.index:void 0;V.call(N,function(){return N.editor.update(null,U,ce)},W)});var te=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(te),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(q,[{key:"addContainer",value:function(N){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var K=N;N=document.createElement("div"),N.classList.add(K)}return this.container.insertBefore(N,B),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,B,K){var te=this,W=X(N,B,K),U=a(W,4);return N=U[0],B=U[1],K=U[3],V.call(this,function(){return te.editor.deleteText(N,B)},K,N,-1*B)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return V.call(this,function(){var W=K.getSelection(!0),U=new f.default;if(W==null)return U;if(p.default.query(N,p.default.Scope.BLOCK))U=K.editor.formatLine(W.index,W.length,R({},N,B));else{if(W.length===0)return K.selection.format(N,B),U;U=K.editor.formatText(W.index,W.length,R({},N,B))}return K.setSelection(W,h.default.sources.SILENT),U},te)}},{key:"formatLine",value:function(N,B,K,te,W){var U=this,Q=void 0,ce=X(N,B,K,te,W),Z=a(ce,4);return N=Z[0],B=Z[1],Q=Z[2],W=Z[3],V.call(this,function(){return U.editor.formatLine(N,B,Q)},W,N,0)}},{key:"formatText",value:function(N,B,K,te,W){var U=this,Q=void 0,ce=X(N,B,K,te,W),Z=a(ce,4);return N=Z[0],B=Z[1],Q=Z[2],W=Z[3],V.call(this,function(){return U.editor.formatText(N,B,Q)},W,N,0)}},{key:"getBounds",value:function(N){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof N=="number"?K=this.selection.getBounds(N,B):K=this.selection.getBounds(N.index,N.length);var te=this.container.getBoundingClientRect();return{bottom:K.bottom-te.top,height:K.height,left:K.left-te.left,right:K.right-te.left,top:K.top-te.top,width:K.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,K=X(N,B),te=a(K,2);return N=te[0],B=te[1],this.editor.getContents(N,B)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,B):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,B)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,K=X(N,B),te=a(K,2);return N=te[0],B=te[1],this.editor.getText(N,B)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,B,K){var te=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.sources.API;return V.call(this,function(){return te.editor.insertEmbed(N,B,K)},W,N)}},{key:"insertText",value:function(N,B,K,te,W){var U=this,Q=void 0,ce=X(N,0,K,te,W),Z=a(ce,4);return N=Z[0],Q=Z[2],W=Z[3],V.call(this,function(){return U.editor.insertText(N,B,Q)},W,N,B.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,B,K){this.clipboard.dangerouslyPasteHTML(N,B,K)}},{key:"removeFormat",value:function(N,B,K){var te=this,W=X(N,B,K),U=a(W,4);return N=U[0],B=U[1],K=U[3],V.call(this,function(){return te.editor.removeFormat(N,B)},K,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return V.call(this,function(){N=new f.default(N);var te=B.getLength(),W=B.editor.deleteText(0,te),U=B.editor.applyDelta(N),Q=U.ops[U.ops.length-1];Q!=null&&typeof Q.insert=="string"&&Q.insert[Q.insert.length-1]===`
`&&(B.editor.deleteText(B.getLength()-1,1),U.delete(1));var ce=W.compose(U);return ce},K)}},{key:"setSelection",value:function(N,B,K){if(N==null)this.selection.setRange(null,B||q.sources.API);else{var te=X(N,B,K),W=a(te,4);N=W[0],B=W[1],K=W[3],this.selection.setRange(new m.Range(N,B),K),K!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,K=new f.default().insert(N);return this.setContents(K,B)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,B=this.scroll.update(N);return this.selection.update(N),B}},{key:"updateContents",value:function(N){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return V.call(this,function(){return N=new f.default(N),B.editor.applyDelta(N,K)},K,!0)}}]),q}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=h.default.events,F.sources=h.default.sources,F.version="1.3.7",F.imports={delta:f.default,parchment:p.default,"core/module":b.default,"core/theme":M.default};function G(q,P){if(P=(0,S.default)(!0,{container:q,modules:{clipboard:!0,keyboard:!0,history:!0}},P),!P.theme||P.theme===F.DEFAULTS.theme)P.theme=M.default;else if(P.theme=F.import("themes/"+P.theme),P.theme==null)throw new Error("Invalid theme "+P.theme+". Did you register it?");var N=(0,S.default)(!0,{},P.theme.DEFAULTS);[N,P].forEach(function(te){te.modules=te.modules||{},Object.keys(te.modules).forEach(function(W){te.modules[W]===!0&&(te.modules[W]={})})});var B=Object.keys(N.modules).concat(Object.keys(P.modules)),K=B.reduce(function(te,W){var U=F.import("modules/"+W);return U==null?D.error("Cannot load "+W+" module. Are you sure you registered it?"):te[W]=U.DEFAULTS||{},te},{});return P.modules!=null&&P.modules.toolbar&&P.modules.toolbar.constructor!==Object&&(P.modules.toolbar={container:P.modules.toolbar}),P=(0,S.default)(!0,{},F.DEFAULTS,{modules:K},N,P),["bounds","container","scrollingContainer"].forEach(function(te){typeof P[te]=="string"&&(P[te]=document.querySelector(P[te]))}),P.modules=Object.keys(P.modules).reduce(function(te,W){return P.modules[W]&&(te[W]=P.modules[W]),te},{}),P}function V(q,P,N,B){if(this.options.strict&&!this.isEnabled()&&P===h.default.sources.USER)return new f.default;var K=N==null?null:this.getSelection(),te=this.editor.delta,W=q();if(K!=null&&(N===!0&&(N=K.index),B==null?K=z(K,W,P):B!==0&&(K=z(K,N,B,P)),this.setSelection(K,h.default.sources.SILENT)),W.length()>0){var U,Q=[h.default.events.TEXT_CHANGE,W,te,P];if((U=this.emitter).emit.apply(U,[h.default.events.EDITOR_CHANGE].concat(Q)),P!==h.default.sources.SILENT){var ce;(ce=this.emitter).emit.apply(ce,Q)}}return W}function X(q,P,N,B,K){var te={};return typeof q.index=="number"&&typeof q.length=="number"?typeof P!="number"?(K=B,B=N,N=P,P=q.length,q=q.index):(P=q.length,q=q.index):typeof P!="number"&&(K=B,B=N,N=P,P=0),(typeof N=="undefined"?"undefined":o(N))==="object"?(te=N,K=B):typeof N=="string"&&(B!=null?te[N]=B:K=N),K=K||h.default.sources.API,[q,P,te,K]}function z(q,P,N,B){if(q==null)return null;var K=void 0,te=void 0;if(P instanceof f.default){var W=[q.index,q.index+q.length].map(function(Z){return P.transformPosition(Z,B!==h.default.sources.USER)}),U=a(W,2);K=U[0],te=U[1]}else{var Q=[q.index,q.index+q.length].map(function(Z){return Z<P||Z===P&&B===h.default.sources.USER?Z:N>=0?Z+N:Math.max(P,Z+N)}),ce=a(Q,2);K=ce[0],te=ce[1]}return new m.Range(K,te-K)}n.expandConfig=G,n.overload=X,n.default=F},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function x(p,m){for(var _=0;_<m.length;_++){var w=m[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,m,_){return m&&x(p.prototype,m),_&&x(p,_),p}}(),a=function x(p,m,_){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,m);if(w===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:x(S,m,_)}else{if("value"in w)return w.value;var I=w.get;return I===void 0?void 0:I.call(_)}},s=i(7),l=d(s),f=i(0),v=d(f);function d(x){return x&&x.__esModule?x:{default:x}}function c(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function h(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function g(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var b=function(x){g(p,x);function p(){return c(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"formatAt",value:function(_,w,S,I){if(p.compare(this.statics.blotName,S)<0&&v.default.query(S,v.default.Scope.BLOT)){var j=this.isolate(_,w);I&&j.wrap(S,I)}else a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,_,w,S,I)}},{key:"optimize",value:function(_){if(a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,_),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(_,w){var S=p.order.indexOf(_),I=p.order.indexOf(w);return S>=0||I>=0?S-I:_===w?0:_<w?-1:1}}]),p}(v.default.Inline);b.allowedChildren=[b,v.default.Embed,l.default],b.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),a=s(o);function s(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function f(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function v(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=function(c){v(h,c);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(a.default.Text);n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function m(_,w){for(var S=0;S<w.length;S++){var I=w[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,w,S){return w&&m(_.prototype,w),S&&m(_,S),_}}(),a=function m(_,w,S){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,w);if(I===void 0){var j=Object.getPrototypeOf(_);return j===null?void 0:m(j,w,S)}else{if("value"in I)return I.value;var T=I.get;return T===void 0?void 0:T.call(S)}},s=i(54),l=d(s),f=i(10),v=d(f);function d(m){return m&&m.__esModule?m:{default:m}}function c(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function h(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function g(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var b=(0,v.default)("quill:events"),x=["selectionchange","mousedown","mouseup","click"];x.forEach(function(m){document.addEventListener(m,function(){for(var _=arguments.length,w=Array(_),S=0;S<_;S++)w[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(I){if(I.__quill&&I.__quill.emitter){var j;(j=I.__quill.emitter).handleDOM.apply(j,w)}})})});var p=function(m){g(_,m);function _(){c(this,_);var w=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return w.listeners={},w.on("error",b.error),w}return o(_,[{key:"emit",value:function(){b.log.apply(b,arguments),a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var I=arguments.length,j=Array(I>1?I-1:0),T=1;T<I;T++)j[T-1]=arguments[T];(this.listeners[S.type]||[]).forEach(function(M){var A=M.node,R=M.handler;(S.target===A||A.contains(S.target))&&R.apply(void 0,[S].concat(j))})}},{key:"listenDOM",value:function(S,I,j){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:I,handler:j})}}]),_}(l.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function o(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function s(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,s),this.quill=l,this.options=f};a.DEFAULTS={},n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=["error","warn","log","info"],a="warn";function s(f){if(o.indexOf(f)<=o.indexOf(a)){for(var v,d=arguments.length,c=Array(d>1?d-1:0),h=1;h<d;h++)c[h-1]=arguments[h];(v=console)[f].apply(v,c)}}function l(f){return o.reduce(function(v,d){return v[d]=s.bind(console,d,f),v},{})}s.level=l.level=function(f){a=f},n.default=l},function(r,n,i){var o=Array.prototype.slice,a=i(52),s=i(53),l=r.exports=function(c,h,g){return g||(g={}),c===h?!0:c instanceof Date&&h instanceof Date?c.getTime()===h.getTime():!c||!h||typeof c!="object"&&typeof h!="object"?g.strict?c===h:c==h:d(c,h,g)};function f(c){return c==null}function v(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function d(c,h,g){var b,x;if(f(c)||f(h)||c.prototype!==h.prototype)return!1;if(s(c))return s(h)?(c=o.call(c),h=o.call(h),l(c,h,g)):!1;if(v(c)){if(!v(h)||c.length!==h.length)return!1;for(b=0;b<c.length;b++)if(c[b]!==h[b])return!1;return!0}try{var p=a(c),m=a(h)}catch(_){return!1}if(p.length!=m.length)return!1;for(p.sort(),m.sort(),b=p.length-1;b>=0;b--)if(p[b]!=m[b])return!1;for(b=p.length-1;b>=0;b--)if(x=p[b],!l(c[x],h[x],g))return!1;return typeof c==typeof h}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),a=function(){function s(l,f,v){v===void 0&&(v={}),this.attrName=l,this.keyName=f;var d=o.Scope.TYPE&o.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&o.Scope.LEVEL|d:this.scope=o.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return s.keys=function(l){return[].map.call(l.attributes,function(f){return f.name})},s.prototype.add=function(l,f){return this.canAdd(l,f)?(l.setAttribute(this.keyName,f),!0):!1},s.prototype.canAdd=function(l,f){var v=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},s.prototype.remove=function(l){l.removeAttribute(this.keyName)},s.prototype.value=function(l){var f=l.getAttribute(this.keyName);return this.canAdd(l,f)&&f?f:""},s}();n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var o=function(){function T(M,A){var R=[],L=!0,D=!1,F=void 0;try{for(var G=M[Symbol.iterator](),V;!(L=(V=G.next()).done)&&(R.push(V.value),!(A&&R.length===A));L=!0);}catch(X){D=!0,F=X}finally{try{!L&&G.return&&G.return()}finally{if(D)throw F}}return R}return function(M,A){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return T(M,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function T(M,A){for(var R=0;R<A.length;R++){var L=A[R];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,A,R){return A&&T(M.prototype,A),R&&T(M,R),M}}(),s=function T(M,A,R){M===null&&(M=Function.prototype);var L=Object.getOwnPropertyDescriptor(M,A);if(L===void 0){var D=Object.getPrototypeOf(M);return D===null?void 0:T(D,A,R)}else{if("value"in L)return L.value;var F=L.get;return F===void 0?void 0:F.call(R)}},l=i(2),f=m(l),v=i(0),d=m(v),c=i(4),h=m(c),g=i(6),b=m(g),x=i(7),p=m(x);function m(T){return T&&T.__esModule?T:{default:T}}function _(T,M){if(!(T instanceof M))throw new TypeError("Cannot call a class as a function")}function w(T,M){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:T}function S(T,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);T.prototype=Object.create(M&&M.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(T,M):T.__proto__=M)}var I=function(T){S(M,T);function M(){return _(this,M),w(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M}(b.default);I.blotName="code",I.tagName="CODE";var j=function(T){S(M,T);function M(){return _(this,M),w(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return a(M,[{key:"delta",value:function(){var R=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(D,F){return D.insert(F).insert(`
`,R.formats())},new f.default)}},{key:"format",value:function(R,L){if(!(R===this.statics.blotName&&L)){var D=this.descendant(p.default,this.length()-1),F=o(D,1),G=F[0];G!=null&&G.deleteAt(G.length()-1,1),s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,R,L)}}},{key:"formatAt",value:function(R,L,D,F){if(L!==0&&!(d.default.query(D,d.default.Scope.BLOCK)==null||D===this.statics.blotName&&F===this.statics.formats(this.domNode))){var G=this.newlineIndex(R);if(!(G<0||G>=R+L)){var V=this.newlineIndex(R,!0)+1,X=G-V+1,z=this.isolate(V,X),q=z.next;z.format(D,F),q instanceof M&&q.formatAt(0,R-V+L-X,D,F)}}}},{key:"insertAt",value:function(R,L,D){if(D==null){var F=this.descendant(p.default,R),G=o(F,2),V=G[0],X=G[1];V.insertAt(X,L)}}},{key:"length",value:function(){var R=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?R:R+1}},{key:"newlineIndex",value:function(R){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,R).lastIndexOf(`
`);var D=this.domNode.textContent.slice(R).indexOf(`
`);return D>-1?R+D:-1}},{key:"optimize",value:function(R){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,R);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(R),L.moveChildren(this),L.remove())}},{key:"replace",value:function(R){s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,R),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var D=d.default.find(L);D==null?L.parentNode.removeChild(L):D instanceof d.default.Embed?D.remove():D.unwrap()})}}],[{key:"create",value:function(R){var L=s(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,R);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),M}(h.default);j.blotName="code-block",j.tagName="PRE",j.TAB="  ",n.Code=I,n.default=j},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},a=function(){function q(P,N){var B=[],K=!0,te=!1,W=void 0;try{for(var U=P[Symbol.iterator](),Q;!(K=(Q=U.next()).done)&&(B.push(Q.value),!(N&&B.length===N));K=!0);}catch(ce){te=!0,W=ce}finally{try{!K&&U.return&&U.return()}finally{if(te)throw W}}return B}return function(P,N){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return q(P,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function q(P,N){for(var B=0;B<N.length;B++){var K=N[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(P,K.key,K)}}return function(P,N,B){return N&&q(P.prototype,N),B&&q(P,B),P}}(),l=i(2),f=L(l),v=i(20),d=L(v),c=i(0),h=L(c),g=i(13),b=L(g),x=i(24),p=L(x),m=i(4),_=L(m),w=i(16),S=L(w),I=i(21),j=L(I),T=i(11),M=L(T),A=i(3),R=L(A);function L(q){return q&&q.__esModule?q:{default:q}}function D(q,P,N){return P in q?Object.defineProperty(q,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):q[P]=N,q}function F(q,P){if(!(q instanceof P))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,V=function(){function q(P){F(this,q),this.scroll=P,this.delta=this.getDelta()}return s(q,[{key:"applyDelta",value:function(N){var B=this,K=!1;this.scroll.update();var te=this.scroll.length();return this.scroll.batchStart(),N=z(N),N.reduce(function(W,U){var Q=U.retain||U.delete||U.insert.length||1,ce=U.attributes||{};if(U.insert!=null){if(typeof U.insert=="string"){var Z=U.insert;Z.endsWith(`
`)&&K&&(K=!1,Z=Z.slice(0,-1)),W>=te&&!Z.endsWith(`
`)&&(K=!0),B.scroll.insertAt(W,Z);var ve=B.scroll.line(W),Ne=a(ve,2),Se=Ne[0],Be=Ne[1],Fe=(0,R.default)({},(0,m.bubbleFormats)(Se));if(Se instanceof _.default){var Ke=Se.descendant(h.default.Leaf,Be),Ge=a(Ke,1),at=Ge[0];Fe=(0,R.default)(Fe,(0,m.bubbleFormats)(at))}ce=d.default.attributes.diff(Fe,ce)||{}}else if(o(U.insert)==="object"){var pe=Object.keys(U.insert)[0];if(pe==null)return W;B.scroll.insertAt(W,pe,U.insert[pe])}te+=Q}return Object.keys(ce).forEach(function(ge){B.scroll.formatAt(W,Q,ge,ce[ge])}),W+Q},0),N.reduce(function(W,U){return typeof U.delete=="number"?(B.scroll.deleteAt(W,U.delete),W):W+(U.retain||U.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,B){return this.scroll.deleteAt(N,B),this.update(new f.default().retain(N).delete(B))}},{key:"formatLine",value:function(N,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(te).forEach(function(W){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[W])){var U=K.scroll.lines(N,Math.max(B,1)),Q=B;U.forEach(function(ce){var Z=ce.length();if(!(ce instanceof b.default))ce.format(W,te[W]);else{var ve=N-ce.offset(K.scroll),Ne=ce.newlineIndex(ve+Q)-ve+1;ce.formatAt(ve,Ne,W,te[W])}Q-=Z})}}),this.scroll.optimize(),this.update(new f.default().retain(N).retain(B,(0,j.default)(te)))}},{key:"formatText",value:function(N,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(te).forEach(function(W){K.scroll.formatAt(N,B,W,te[W])}),this.update(new f.default().retain(N).retain(B,(0,j.default)(te)))}},{key:"getContents",value:function(N,B){return this.delta.slice(N,N+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,B){return N.concat(B.delta())},new f.default)}},{key:"getFormat",value:function(N){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],te=[];B===0?this.scroll.path(N).forEach(function(U){var Q=a(U,1),ce=Q[0];ce instanceof _.default?K.push(ce):ce instanceof h.default.Leaf&&te.push(ce)}):(K=this.scroll.lines(N,B),te=this.scroll.descendants(h.default.Leaf,N,B));var W=[K,te].map(function(U){if(U.length===0)return{};for(var Q=(0,m.bubbleFormats)(U.shift());Object.keys(Q).length>0;){var ce=U.shift();if(ce==null)return Q;Q=X((0,m.bubbleFormats)(ce),Q)}return Q});return R.default.apply(R.default,W)}},{key:"getText",value:function(N,B){return this.getContents(N,B).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(N,B,K){return this.scroll.insertAt(N,B,K),this.update(new f.default().retain(N).insert(D({},B,K)))}},{key:"insertText",value:function(N,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,B),Object.keys(te).forEach(function(W){K.scroll.formatAt(N,B.length,W,te[W])}),this.update(new f.default().retain(N).insert(B,(0,j.default)(te)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==_.default.blotName||N.children.length>1?!1:N.children.head instanceof S.default}},{key:"removeFormat",value:function(N,B){var K=this.getText(N,B),te=this.scroll.line(N+B),W=a(te,2),U=W[0],Q=W[1],ce=0,Z=new f.default;U!=null&&(U instanceof b.default?ce=U.newlineIndex(Q)-Q+1:ce=U.length()-Q,Z=U.delta().slice(Q,Q+ce-1).insert(`
`));var ve=this.getContents(N,B+ce),Ne=ve.diff(new f.default().insert(K).concat(Z)),Se=new f.default().retain(N).concat(Ne);return this.applyDelta(Se)}},{key:"update",value:function(N){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,te=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(G)&&h.default.find(B[0].target)){var W=h.default.find(B[0].target),U=(0,m.bubbleFormats)(W),Q=W.offset(this.scroll),ce=B[0].oldValue.replace(p.default.CONTENTS,""),Z=new f.default().insert(ce),ve=new f.default().insert(W.value()),Ne=new f.default().retain(Q).concat(Z.diff(ve,K));N=Ne.reduce(function(Se,Be){return Be.insert?Se.insert(Be.insert,U):Se.push(Be)},new f.default),this.delta=te.compose(N)}else this.delta=this.getDelta(),(!N||!(0,M.default)(te.compose(N),this.delta))&&(N=te.diff(this.delta,K));return N}}]),q}();function X(q,P){return Object.keys(P).reduce(function(N,B){return q[B]==null||(P[B]===q[B]?N[B]=P[B]:Array.isArray(P[B])?P[B].indexOf(q[B])<0&&(N[B]=P[B].concat([q[B]])):N[B]=[P[B],q[B]]),N},{})}function z(q){return q.reduce(function(P,N){if(N.insert===1){var B=(0,j.default)(N.attributes);return delete B.image,P.insert({image:N.attributes.image},B)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,j.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var K=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return P.insert(K,N.attributes)}return P.push(N)},new f.default)}n.default=V},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var o=function(){function T(M,A){var R=[],L=!0,D=!1,F=void 0;try{for(var G=M[Symbol.iterator](),V;!(L=(V=G.next()).done)&&(R.push(V.value),!(A&&R.length===A));L=!0);}catch(X){D=!0,F=X}finally{try{!L&&G.return&&G.return()}finally{if(D)throw F}}return R}return function(M,A){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return T(M,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function T(M,A){for(var R=0;R<A.length;R++){var L=A[R];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,A,R){return A&&T(M.prototype,A),R&&T(M,R),M}}(),s=i(0),l=p(s),f=i(21),v=p(f),d=i(11),c=p(d),h=i(8),g=p(h),b=i(10),x=p(b);function p(T){return T&&T.__esModule?T:{default:T}}function m(T){if(Array.isArray(T)){for(var M=0,A=Array(T.length);M<T.length;M++)A[M]=T[M];return A}else return Array.from(T)}function _(T,M){if(!(T instanceof M))throw new TypeError("Cannot call a class as a function")}var w=(0,x.default)("quill:selection"),S=function T(M){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,T),this.index=M,this.length=A},I=function(){function T(M,A){var R=this;_(this,T),this.emitter=A,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){R.mouseDown||setTimeout(R.update.bind(R,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(L,D){L===g.default.events.TEXT_CHANGE&&D.length()>0&&R.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(R.hasFocus()){var L=R.getNativeRange();L!=null&&L.start.node!==R.cursor.textNode&&R.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{R.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch(D){}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(L,D){if(D.range){var F=D.range,G=F.startNode,V=F.startOffset,X=F.endNode,z=F.endOffset;R.setNativeRange(G,V,X,z)}}),this.update(g.default.sources.SILENT)}return a(T,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var R=A.cursor.restore();if(!R)return;setTimeout(function(){A.setNativeRange(R.startNode,R.startOffset,R.endNode,R.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,R){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||l.default.query(A,l.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var D=l.default.find(L.start.node,!1);if(D==null)return;if(D instanceof l.default.Leaf){var F=D.split(L.start.offset);D.parent.insertBefore(this.cursor,F)}else D.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(A,R),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();A=Math.min(A,L-1),R=Math.min(A+R,L-1)-A;var D=void 0,F=this.scroll.leaf(A),G=o(F,2),V=G[0],X=G[1];if(V==null)return null;var z=V.position(X,!0),q=o(z,2);D=q[0],X=q[1];var P=document.createRange();if(R>0){P.setStart(D,X);var N=this.scroll.leaf(A+R),B=o(N,2);if(V=B[0],X=B[1],V==null)return null;var K=V.position(X,!0),te=o(K,2);return D=te[0],X=te[1],P.setEnd(D,X),P.getBoundingClientRect()}else{var W="left",U=void 0;return D instanceof Text?(X<D.data.length?(P.setStart(D,X),P.setEnd(D,X+1)):(P.setStart(D,X-1),P.setEnd(D,X),W="right"),U=P.getBoundingClientRect()):(U=V.domNode.getBoundingClientRect(),X>0&&(W="right")),{bottom:U.top+U.height,height:U.height,left:U[W],right:U[W],top:U.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var R=A.getRangeAt(0);if(R==null)return null;var L=this.normalizeNative(R);return w.info("getNativeRange",L),L}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var R=this.normalizedToRange(A);return[R,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var R=this,L=[[A.start.node,A.start.offset]];A.native.collapsed||L.push([A.end.node,A.end.offset]);var D=L.map(function(V){var X=o(V,2),z=X[0],q=X[1],P=l.default.find(z,!0),N=P.offset(R.scroll);return q===0?N:P instanceof l.default.Container?N+P.length():N+P.index(z,q)}),F=Math.min(Math.max.apply(Math,m(D)),this.scroll.length()-1),G=Math.min.apply(Math,[F].concat(m(D)));return new S(G,F-G)}},{key:"normalizeNative",value:function(A){if(!j(this.root,A.startContainer)||!A.collapsed&&!j(this.root,A.endContainer))return null;var R={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[R.start,R.end].forEach(function(L){for(var D=L.node,F=L.offset;!(D instanceof Text)&&D.childNodes.length>0;)if(D.childNodes.length>F)D=D.childNodes[F],F=0;else if(D.childNodes.length===F)D=D.lastChild,F=D instanceof Text?D.data.length:D.childNodes.length+1;else break;L.node=D,L.offset=F}),R}},{key:"rangeToNative",value:function(A){var R=this,L=A.collapsed?[A.index]:[A.index,A.index+A.length],D=[],F=this.scroll.length();return L.forEach(function(G,V){G=Math.min(F-1,G);var X=void 0,z=R.scroll.leaf(G),q=o(z,2),P=q[0],N=q[1],B=P.position(N,V!==0),K=o(B,2);X=K[0],N=K[1],D.push(X,N)}),D.length<2&&(D=D.concat(D)),D}},{key:"scrollIntoView",value:function(A){var R=this.lastRange;if(R!=null){var L=this.getBounds(R.index,R.length);if(L!=null){var D=this.scroll.length()-1,F=this.scroll.line(Math.min(R.index,D)),G=o(F,1),V=G[0],X=V;if(R.length>0){var z=this.scroll.line(Math.min(R.index+R.length,D)),q=o(z,1);X=q[0]}if(!(V==null||X==null)){var P=A.getBoundingClientRect();L.top<P.top?A.scrollTop-=P.top-L.top:L.bottom>P.bottom&&(A.scrollTop+=L.bottom-P.bottom)}}}}},{key:"setNativeRange",value:function(A,R){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",A,R,L,D),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||L.parentNode==null))){var G=document.getSelection();if(G!=null)if(A!=null){this.hasFocus()||this.root.focus();var V=(this.getNativeRange()||{}).native;if(V==null||F||A!==V.startContainer||R!==V.startOffset||L!==V.endContainer||D!==V.endOffset){A.tagName=="BR"&&(R=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),L.tagName=="BR"&&(D=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var X=document.createRange();X.setStart(A,R),X.setEnd(L,D),G.removeAllRanges(),G.addRange(X)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof R=="string"&&(L=R,R=!1),w.info("setRange",A),A!=null){var D=this.rangeToNative(A);this.setNativeRange.apply(this,m(D).concat([R]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,R=this.lastRange,L=this.getRange(),D=o(L,2),F=D[0],G=D[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,c.default)(R,this.lastRange)){var V;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var X=[g.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(R),A];if((V=this.emitter).emit.apply(V,[g.default.events.EDITOR_CHANGE].concat(X)),A!==g.default.sources.SILENT){var z;(z=this.emitter).emit.apply(z,X)}}}}]),T}();function j(T,M){try{M.parentNode}catch(A){return!1}return M instanceof Text&&(M=M.parentNode),T.contains(M)}n.Range=S,n.default=I},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(b,x){for(var p=0;p<x.length;p++){var m=x[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(b,m.key,m)}}return function(b,x,p){return x&&g(b.prototype,x),p&&g(b,p),b}}(),a=function g(b,x,p){b===null&&(b=Function.prototype);var m=Object.getOwnPropertyDescriptor(b,x);if(m===void 0){var _=Object.getPrototypeOf(b);return _===null?void 0:g(_,x,p)}else{if("value"in m)return m.value;var w=m.get;return w===void 0?void 0:w.call(p)}},s=i(0),l=f(s);function f(g){return g&&g.__esModule?g:{default:g}}function v(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function d(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function c(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var h=function(g){c(b,g);function b(){return v(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"insertInto",value:function(p,m){p.children.length===0?a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertInto",this).call(this,p,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),b}(l.default.Embed);h.blotName="break",h.tagName="BR",n.default=h},function(r,n,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])};return function(c,h){d(c,h);function g(){this.constructor=c}c.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(44),s=i(30),l=i(1),f=function(d){o(c,d);function c(h){var g=d.call(this,h)||this;return g.build(),g}return c.prototype.appendChild=function(h){this.insertBefore(h)},c.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},c.prototype.build=function(){var h=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var b=v(g);h.insertBefore(b,h.children.head||void 0)}catch(x){if(x instanceof l.ParchmentError)return;throw x}})},c.prototype.deleteAt=function(h,g){if(h===0&&g===this.length())return this.remove();this.children.forEachAt(h,g,function(b,x,p){b.deleteAt(x,p)})},c.prototype.descendant=function(h,g){var b=this.children.find(g),x=b[0],p=b[1];return h.blotName==null&&h(x)||h.blotName!=null&&x instanceof h?[x,p]:x instanceof c?x.descendant(h,p):[null,-1]},c.prototype.descendants=function(h,g,b){g===void 0&&(g=0),b===void 0&&(b=Number.MAX_VALUE);var x=[],p=b;return this.children.forEachAt(g,b,function(m,_,w){(h.blotName==null&&h(m)||h.blotName!=null&&m instanceof h)&&x.push(m),m instanceof c&&(x=x.concat(m.descendants(h,_,p))),p-=w}),x},c.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),d.prototype.detach.call(this)},c.prototype.formatAt=function(h,g,b,x){this.children.forEachAt(h,g,function(p,m,_){p.formatAt(m,_,b,x)})},c.prototype.insertAt=function(h,g,b){var x=this.children.find(h),p=x[0],m=x[1];if(p)p.insertAt(m,g,b);else{var _=b==null?l.create("text",g):l.create(g,b);this.appendChild(_)}},c.prototype.insertBefore=function(h,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(b){return h instanceof b}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,g)},c.prototype.length=function(){return this.children.reduce(function(h,g){return h+g.length()},0)},c.prototype.moveChildren=function(h,g){this.children.forEach(function(b){h.insertBefore(b,g)})},c.prototype.optimize=function(h){if(d.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var g=l.create(this.statics.defaultChild);this.appendChild(g),g.optimize(h)}else this.remove()},c.prototype.path=function(h,g){g===void 0&&(g=!1);var b=this.children.find(h,g),x=b[0],p=b[1],m=[[this,h]];return x instanceof c?m.concat(x.path(p,g)):(x!=null&&m.push([x,p]),m)},c.prototype.removeChild=function(h){this.children.remove(h)},c.prototype.replace=function(h){h instanceof c&&h.moveChildren(this),d.prototype.replace.call(this,h)},c.prototype.split=function(h,g){if(g===void 0&&(g=!1),!g){if(h===0)return this;if(h===this.length())return this.next}var b=this.clone();return this.parent.insertBefore(b,this.next),this.children.forEachAt(h,this.length(),function(x,p,m){x=x.split(p,g),b.appendChild(x)}),b},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(h,g){var b=this,x=[],p=[];h.forEach(function(m){m.target===b.domNode&&m.type==="childList"&&(x.push.apply(x,m.addedNodes),p.push.apply(p,m.removedNodes))}),p.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(m);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===b.domNode)&&_.detach()}}),x.filter(function(m){return m.parentNode==b.domNode}).sort(function(m,_){return m===_?0:m.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var _=null;m.nextSibling!=null&&(_=l.find(m.nextSibling));var w=v(m);(w.next!=_||w.next==null)&&(w.parent!=null&&w.parent.removeChild(b),b.insertBefore(w,_||void 0))})},c}(s.default);function v(d){var c=l.find(d);if(c==null)try{c=l.create(d)}catch(h){c=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(g){c.domNode.appendChild(g)}),d.parentNode&&d.parentNode.replaceChild(c.domNode,d),c.attach()}return c}n.default=f},function(r,n,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])};return function(c,h){d(c,h);function g(){this.constructor=c}c.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),s=i(31),l=i(17),f=i(1),v=function(d){o(c,d);function c(h){var g=d.call(this,h)||this;return g.attributes=new s.default(g.domNode),g}return c.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},c.prototype.format=function(h,g){var b=f.query(h);b instanceof a.default?this.attributes.attribute(b,g):g&&b!=null&&(h!==this.statics.blotName||this.formats()[h]!==g)&&this.replaceWith(h,g)},c.prototype.formats=function(){var h=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(h[this.statics.blotName]=g),h},c.prototype.replaceWith=function(h,g){var b=d.prototype.replaceWith.call(this,h,g);return this.attributes.copy(b),b},c.prototype.update=function(h,g){var b=this;d.prototype.update.call(this,h,g),h.some(function(x){return x.target===b.domNode&&x.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(h,g){var b=d.prototype.wrap.call(this,h,g);return b instanceof c&&b.statics.scope===this.statics.scope&&this.attributes.move(b),b},c}(l.default);n.default=v},function(r,n,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var c in d)d.hasOwnProperty(c)&&(v[c]=d[c])};return function(v,d){f(v,d);function c(){this.constructor=v}v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(30),s=i(1),l=function(f){o(v,f);function v(){return f!==null&&f.apply(this,arguments)||this}return v.value=function(d){return!0},v.prototype.index=function(d,c){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},v.prototype.position=function(d,c){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(h+=1),[this.parent.domNode,h]},v.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},v.scope=s.Scope.INLINE_BLOT,v}(a.default);n.default=l},function(r,n,i){var o=i(11),a=i(3),s={attributes:{compose:function(f,v,d){typeof f!="object"&&(f={}),typeof v!="object"&&(v={});var c=a(!0,{},v);d||(c=Object.keys(c).reduce(function(g,b){return c[b]!=null&&(g[b]=c[b]),g},{}));for(var h in f)f[h]!==void 0&&v[h]===void 0&&(c[h]=f[h]);return Object.keys(c).length>0?c:void 0},diff:function(f,v){typeof f!="object"&&(f={}),typeof v!="object"&&(v={});var d=Object.keys(f).concat(Object.keys(v)).reduce(function(c,h){return o(f[h],v[h])||(c[h]=v[h]===void 0?null:v[h]),c},{});return Object.keys(d).length>0?d:void 0},transform:function(f,v,d){if(typeof f!="object")return v;if(typeof v=="object"){if(!d)return v;var c=Object.keys(v).reduce(function(h,g){return f[g]===void 0&&(h[g]=v[g]),h},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(f){return new l(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function l(f){this.ops=f,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(f){f||(f=1/0);var v=this.ops[this.index];if(v){var d=this.offset,c=s.length(v);if(f>=c-d?(f=c-d,this.index+=1,this.offset=0):this.offset+=f,typeof v.delete=="number")return{delete:f};var h={};return v.attributes&&(h.attributes=v.attributes),typeof v.retain=="number"?h.retain=f:typeof v.insert=="string"?h.insert=v.insert.substr(d,f):h.insert=v.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,v=this.index,d=this.next(),c=this.ops.slice(this.index);return this.offset=f,this.index=v,[d].concat(c)}else return[]},r.exports=s},function(r,n){var i=function(){function o(b,x){return x!=null&&b instanceof x}var a;try{a=Map}catch(b){a=function(){}}var s;try{s=Set}catch(b){s=function(){}}var l;try{l=Promise}catch(b){l=function(){}}function f(b,x,p,m,_){typeof x=="object"&&(p=x.depth,m=x.prototype,_=x.includeNonEnumerable,x=x.circular);var w=[],S=[],I=typeof Buffer!="undefined";typeof x=="undefined"&&(x=!0),typeof p=="undefined"&&(p=1/0);function j(T,M){if(T===null)return null;if(M===0)return T;var A,R;if(typeof T!="object")return T;if(o(T,a))A=new a;else if(o(T,s))A=new s;else if(o(T,l))A=new l(function(P,N){T.then(function(B){P(j(B,M-1))},function(B){N(j(B,M-1))})});else if(f.__isArray(T))A=[];else if(f.__isRegExp(T))A=new RegExp(T.source,g(T)),T.lastIndex&&(A.lastIndex=T.lastIndex);else if(f.__isDate(T))A=new Date(T.getTime());else{if(I&&Buffer.isBuffer(T))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(T.length):A=new Buffer(T.length),T.copy(A),A;o(T,Error)?A=Object.create(T):typeof m=="undefined"?(R=Object.getPrototypeOf(T),A=Object.create(R)):(A=Object.create(m),R=m)}if(x){var L=w.indexOf(T);if(L!=-1)return S[L];w.push(T),S.push(A)}o(T,a)&&T.forEach(function(P,N){var B=j(N,M-1),K=j(P,M-1);A.set(B,K)}),o(T,s)&&T.forEach(function(P){var N=j(P,M-1);A.add(N)});for(var D in T){var F;R&&(F=Object.getOwnPropertyDescriptor(R,D)),!(F&&F.set==null)&&(A[D]=j(T[D],M-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(T),D=0;D<G.length;D++){var V=G[D],X=Object.getOwnPropertyDescriptor(T,V);X&&!X.enumerable&&!_||(A[V]=j(T[V],M-1),X.enumerable||Object.defineProperty(A,V,{enumerable:!1}))}if(_)for(var z=Object.getOwnPropertyNames(T),D=0;D<z.length;D++){var q=z[D],X=Object.getOwnPropertyDescriptor(T,q);X&&X.enumerable||(A[q]=j(T[q],M-1),Object.defineProperty(A,q,{enumerable:!1}))}return A}return j(b,p)}f.clonePrototype=function(x){if(x===null)return null;var p=function(){};return p.prototype=x,new p};function v(b){return Object.prototype.toString.call(b)}f.__objToStr=v;function d(b){return typeof b=="object"&&v(b)==="[object Date]"}f.__isDate=d;function c(b){return typeof b=="object"&&v(b)==="[object Array]"}f.__isArray=c;function h(b){return typeof b=="object"&&v(b)==="[object RegExp]"}f.__isRegExp=h;function g(b){var x="";return b.global&&(x+="g"),b.ignoreCase&&(x+="i"),b.multiline&&(x+="m"),x}return f.__getRegExpFlags=g,f}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function A(R,L){var D=[],F=!0,G=!1,V=void 0;try{for(var X=R[Symbol.iterator](),z;!(F=(z=X.next()).done)&&(D.push(z.value),!(L&&D.length===L));F=!0);}catch(q){G=!0,V=q}finally{try{!F&&X.return&&X.return()}finally{if(G)throw V}}return D}return function(R,L){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return A(R,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function A(R,L){for(var D=0;D<L.length;D++){var F=L[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}}return function(R,L,D){return L&&A(R.prototype,L),D&&A(R,D),R}}(),s=function A(R,L,D){R===null&&(R=Function.prototype);var F=Object.getOwnPropertyDescriptor(R,L);if(F===void 0){var G=Object.getPrototypeOf(R);return G===null?void 0:A(G,L,D)}else{if("value"in F)return F.value;var V=F.get;return V===void 0?void 0:V.call(D)}},l=i(0),f=w(l),v=i(8),d=w(v),c=i(4),h=w(c),g=i(16),b=w(g),x=i(13),p=w(x),m=i(25),_=w(m);function w(A){return A&&A.__esModule?A:{default:A}}function S(A,R){if(!(A instanceof R))throw new TypeError("Cannot call a class as a function")}function I(A,R){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:A}function j(A,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);A.prototype=Object.create(R&&R.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(A,R):A.__proto__=R)}function T(A){return A instanceof h.default||A instanceof c.BlockEmbed}var M=function(A){j(R,A);function R(L,D){S(this,R);var F=I(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,L));return F.emitter=D.emitter,Array.isArray(D.whitelist)&&(F.whitelist=D.whitelist.reduce(function(G,V){return G[V]=!0,G},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return a(R,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(D,F){var G=this.line(D),V=o(G,2),X=V[0],z=V[1],q=this.line(D+F),P=o(q,1),N=P[0];if(s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,D,F),N!=null&&X!==N&&z>0){if(X instanceof c.BlockEmbed||N instanceof c.BlockEmbed){this.optimize();return}if(X instanceof p.default){var B=X.newlineIndex(X.length(),!0);if(B>-1&&(X=X.split(B+1),X===N)){this.optimize();return}}else if(N instanceof p.default){var K=N.newlineIndex(0);K>-1&&N.split(K+1)}var te=N.children.head instanceof b.default?null:N.children.head;X.moveChildren(N,te),X.remove()}this.optimize()}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",D)}},{key:"formatAt",value:function(D,F,G,V){this.whitelist!=null&&!this.whitelist[G]||(s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,D,F,G,V),this.optimize())}},{key:"insertAt",value:function(D,F,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[F])){if(D>=this.length())if(G==null||f.default.query(F,f.default.Scope.BLOCK)==null){var V=f.default.create(this.statics.defaultChild);this.appendChild(V),G==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),V.insertAt(0,F,G)}else{var X=f.default.create(F,G);this.appendChild(X)}else s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,D,F,G);this.optimize()}}},{key:"insertBefore",value:function(D,F){if(D.statics.scope===f.default.Scope.INLINE_BLOT){var G=f.default.create(this.statics.defaultChild);G.appendChild(D),D=G}s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,D,F)}},{key:"leaf",value:function(D){return this.path(D).pop()||[null,-1]}},{key:"line",value:function(D){return D===this.length()?this.line(D-1):this.descendant(T,D)}},{key:"lines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function V(X,z,q){var P=[],N=q;return X.children.forEachAt(z,q,function(B,K,te){T(B)?P.push(B):B instanceof f.default.Container&&(P=P.concat(V(B,K,N))),N-=te}),P};return G(this,D,F)}},{key:"optimize",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,D,F),D.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,D,F))}},{key:"path",value:function(D){return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,D).slice(1)}},{key:"update",value:function(D){if(this.batch!==!0){var F=d.default.sources.USER;typeof D=="string"&&(F=D),Array.isArray(D)||(D=this.observer.takeRecords()),D.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,F,D),s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"update",this).call(this,D.concat([])),D.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,F,D)}}}]),R}(f.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[h.default,c.BlockEmbed,_.default],n.default=M},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},a=function(){function U(Q,ce){var Z=[],ve=!0,Ne=!1,Se=void 0;try{for(var Be=Q[Symbol.iterator](),Fe;!(ve=(Fe=Be.next()).done)&&(Z.push(Fe.value),!(ce&&Z.length===ce));ve=!0);}catch(Ke){Ne=!0,Se=Ke}finally{try{!ve&&Be.return&&Be.return()}finally{if(Ne)throw Se}}return Z}return function(Q,ce){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return U(Q,ce);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function U(Q,ce){for(var Z=0;Z<ce.length;Z++){var ve=ce[Z];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(Q,ve.key,ve)}}return function(Q,ce,Z){return ce&&U(Q.prototype,ce),Z&&U(Q,Z),Q}}(),l=i(21),f=A(l),v=i(11),d=A(v),c=i(3),h=A(c),g=i(2),b=A(g),x=i(20),p=A(x),m=i(0),_=A(m),w=i(5),S=A(w),I=i(10),j=A(I),T=i(9),M=A(T);function A(U){return U&&U.__esModule?U:{default:U}}function R(U,Q,ce){return Q in U?Object.defineProperty(U,Q,{value:ce,enumerable:!0,configurable:!0,writable:!0}):U[Q]=ce,U}function L(U,Q){if(!(U instanceof Q))throw new TypeError("Cannot call a class as a function")}function D(U,Q){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:U}function F(U,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);U.prototype=Object.create(Q&&Q.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(U,Q):U.__proto__=Q)}var G=(0,j.default)("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",X=function(U){F(Q,U),s(Q,null,[{key:"match",value:function(Z,ve){return ve=W(ve),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ne){return!!ve[Ne]!==Z[Ne]&&ve[Ne]!==null})?!1:ve.key===(Z.which||Z.keyCode)}}]);function Q(ce,Z){L(this,Q);var ve=D(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ce,Z));return ve.bindings={},Object.keys(ve.options.bindings).forEach(function(Ne){Ne==="list autofill"&&ce.scroll.whitelist!=null&&!ce.scroll.whitelist.list||ve.options.bindings[Ne]&&ve.addBinding(ve.options.bindings[Ne])}),ve.addBinding({key:Q.keys.ENTER,shiftKey:null},B),ve.addBinding({key:Q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ve.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0},q),ve.addBinding({key:Q.keys.DELETE},{collapsed:!0},P)):(ve.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),ve.addBinding({key:Q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},P)),ve.addBinding({key:Q.keys.BACKSPACE},{collapsed:!1},N),ve.addBinding({key:Q.keys.DELETE},{collapsed:!1},N),ve.addBinding({key:Q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),ve.listen(),ve}return s(Q,[{key:"addBinding",value:function(Z){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Se=W(Z);if(Se==null||Se.key==null)return G.warn("Attempted to add invalid keyboard binding",Se);typeof ve=="function"&&(ve={handler:ve}),typeof Ne=="function"&&(Ne={handler:Ne}),Se=(0,h.default)(Se,ve,Ne),this.bindings[Se.key]=this.bindings[Se.key]||[],this.bindings[Se.key].push(Se)}},{key:"listen",value:function(){var Z=this;this.quill.root.addEventListener("keydown",function(ve){if(!ve.defaultPrevented){var Ne=ve.which||ve.keyCode,Se=(Z.bindings[Ne]||[]).filter(function(ht){return Q.match(ve,ht)});if(Se.length!==0){var Be=Z.quill.getSelection();if(!(Be==null||!Z.quill.hasFocus())){var Fe=Z.quill.getLine(Be.index),Ke=a(Fe,2),Ge=Ke[0],at=Ke[1],pe=Z.quill.getLeaf(Be.index),ge=a(pe,2),_e=ge[0],be=ge[1],me=Be.length===0?[_e,be]:Z.quill.getLeaf(Be.index+Be.length),De=a(me,2),qe=De[0],Ue=De[1],yt=_e instanceof _.default.Text?_e.value().slice(0,be):"",Ot=qe instanceof _.default.Text?qe.value().slice(Ue):"",nt={collapsed:Be.length===0,empty:Be.length===0&&Ge.length()<=1,format:Z.quill.getFormat(Be),offset:at,prefix:yt,suffix:Ot},Gr=Se.some(function(ht){if(ht.collapsed!=null&&ht.collapsed!==nt.collapsed||ht.empty!=null&&ht.empty!==nt.empty||ht.offset!=null&&ht.offset!==nt.offset)return!1;if(Array.isArray(ht.format)){if(ht.format.every(function(cr){return nt.format[cr]==null}))return!1}else if(o(ht.format)==="object"&&!Object.keys(ht.format).every(function(cr){return ht.format[cr]===!0?nt.format[cr]!=null:ht.format[cr]===!1?nt.format[cr]==null:(0,d.default)(ht.format[cr],nt.format[cr])}))return!1;return ht.prefix!=null&&!ht.prefix.test(nt.prefix)||ht.suffix!=null&&!ht.suffix.test(nt.suffix)?!1:ht.handler.call(Z,Be,nt)!==!0});Gr&&ve.preventDefault()}}}})}}]),Q}(M.default);X.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},X.DEFAULTS={bindings:{bold:te("bold"),italic:te("italic"),underline:te("underline"),indent:{key:X.keys.TAB,format:["blockquote","indent","list"],handler:function(Q,ce){if(ce.collapsed&&ce.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:X.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Q,ce){if(ce.collapsed&&ce.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:X.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Q,ce){ce.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):ce.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:X.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Q){this.quill.deleteText(Q.index-1,1,S.default.sources.USER)}},tab:{key:X.keys.TAB,handler:function(Q){this.quill.history.cutoff();var ce=new b.default().retain(Q.index).delete(Q.length).insert("	");this.quill.updateContents(ce,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index+1,S.default.sources.SILENT)}},"list empty enter":{key:X.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Q,ce){this.quill.format("list",!1,S.default.sources.USER),ce.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:X.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Q){var ce=this.quill.getLine(Q.index),Z=a(ce,2),ve=Z[0],Ne=Z[1],Se=(0,h.default)({},ve.formats(),{list:"checked"}),Be=new b.default().retain(Q.index).insert(`
`,Se).retain(ve.length()-Ne-1).retain(1,{list:"unchecked"});this.quill.updateContents(Be,S.default.sources.USER),this.quill.setSelection(Q.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:X.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Q,ce){var Z=this.quill.getLine(Q.index),ve=a(Z,2),Ne=ve[0],Se=ve[1],Be=new b.default().retain(Q.index).insert(`
`,ce.format).retain(Ne.length()-Se-1).retain(1,{header:null});this.quill.updateContents(Be,S.default.sources.USER),this.quill.setSelection(Q.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Q,ce){var Z=ce.prefix.length,ve=this.quill.getLine(Q.index),Ne=a(ve,2),Se=Ne[0],Be=Ne[1];if(Be>Z)return!0;var Fe=void 0;switch(ce.prefix.trim()){case"[]":case"[ ]":Fe="unchecked";break;case"[x]":Fe="checked";break;case"-":case"*":Fe="bullet";break;default:Fe="ordered"}this.quill.insertText(Q.index," ",S.default.sources.USER),this.quill.history.cutoff();var Ke=new b.default().retain(Q.index-Be).delete(Z+1).retain(Se.length()-2-Be).retain(1,{list:Fe});this.quill.updateContents(Ke,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index-Z,S.default.sources.SILENT)}},"code exit":{key:X.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Q){var ce=this.quill.getLine(Q.index),Z=a(ce,2),ve=Z[0],Ne=Z[1],Se=new b.default().retain(Q.index+ve.length()-Ne-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Se,S.default.sources.USER)}},"embed left":z(X.keys.LEFT,!1),"embed left shift":z(X.keys.LEFT,!0),"embed right":z(X.keys.RIGHT,!1),"embed right shift":z(X.keys.RIGHT,!0)}};function z(U,Q){var ce,Z=U===X.keys.LEFT?"prefix":"suffix";return ce={key:U,shiftKey:Q,altKey:null},R(ce,Z,/^$/),R(ce,"handler",function(Ne){var Se=Ne.index;U===X.keys.RIGHT&&(Se+=Ne.length+1);var Be=this.quill.getLeaf(Se),Fe=a(Be,1),Ke=Fe[0];return Ke instanceof _.default.Embed?(U===X.keys.LEFT?Q?this.quill.setSelection(Ne.index-1,Ne.length+1,S.default.sources.USER):this.quill.setSelection(Ne.index-1,S.default.sources.USER):Q?this.quill.setSelection(Ne.index,Ne.length+1,S.default.sources.USER):this.quill.setSelection(Ne.index+Ne.length+1,S.default.sources.USER),!1):!0}),ce}function q(U,Q){if(!(U.index===0||this.quill.getLength()<=1)){var ce=this.quill.getLine(U.index),Z=a(ce,1),ve=Z[0],Ne={};if(Q.offset===0){var Se=this.quill.getLine(U.index-1),Be=a(Se,1),Fe=Be[0];if(Fe!=null&&Fe.length()>1){var Ke=ve.formats(),Ge=this.quill.getFormat(U.index-1,1);Ne=p.default.attributes.diff(Ke,Ge)||{}}}var at=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Q.prefix)?2:1;this.quill.deleteText(U.index-at,at,S.default.sources.USER),Object.keys(Ne).length>0&&this.quill.formatLine(U.index-at,at,Ne,S.default.sources.USER),this.quill.focus()}}function P(U,Q){var ce=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Q.suffix)?2:1;if(!(U.index>=this.quill.getLength()-ce)){var Z={},ve=0,Ne=this.quill.getLine(U.index),Se=a(Ne,1),Be=Se[0];if(Q.offset>=Be.length()-1){var Fe=this.quill.getLine(U.index+1),Ke=a(Fe,1),Ge=Ke[0];if(Ge){var at=Be.formats(),pe=this.quill.getFormat(U.index,1);Z=p.default.attributes.diff(at,pe)||{},ve=Ge.length()}}this.quill.deleteText(U.index,ce,S.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(U.index+ve-1,ce,Z,S.default.sources.USER)}}function N(U){var Q=this.quill.getLines(U),ce={};if(Q.length>1){var Z=Q[0].formats(),ve=Q[Q.length-1].formats();ce=p.default.attributes.diff(ve,Z)||{}}this.quill.deleteText(U,S.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(U.index,1,ce,S.default.sources.USER),this.quill.setSelection(U.index,S.default.sources.SILENT),this.quill.focus()}function B(U,Q){var ce=this;U.length>0&&this.quill.scroll.deleteAt(U.index,U.length);var Z=Object.keys(Q.format).reduce(function(ve,Ne){return _.default.query(Ne,_.default.Scope.BLOCK)&&!Array.isArray(Q.format[Ne])&&(ve[Ne]=Q.format[Ne]),ve},{});this.quill.insertText(U.index,`
`,Z,S.default.sources.USER),this.quill.setSelection(U.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(Q.format).forEach(function(ve){Z[ve]==null&&(Array.isArray(Q.format[ve])||ve!=="link"&&ce.quill.format(ve,Q.format[ve],S.default.sources.USER))})}function K(U){return{key:X.keys.TAB,shiftKey:!U,format:{"code-block":!0},handler:function(ce){var Z=_.default.query("code-block"),ve=ce.index,Ne=ce.length,Se=this.quill.scroll.descendant(Z,ve),Be=a(Se,2),Fe=Be[0],Ke=Be[1];if(Fe!=null){var Ge=this.quill.getIndex(Fe),at=Fe.newlineIndex(Ke,!0)+1,pe=Fe.newlineIndex(Ge+Ke+Ne),ge=Fe.domNode.textContent.slice(at,pe).split(`
`);Ke=0,ge.forEach(function(_e,be){U?(Fe.insertAt(at+Ke,Z.TAB),Ke+=Z.TAB.length,be===0?ve+=Z.TAB.length:Ne+=Z.TAB.length):_e.startsWith(Z.TAB)&&(Fe.deleteAt(at+Ke,Z.TAB.length),Ke-=Z.TAB.length,be===0?ve-=Z.TAB.length:Ne-=Z.TAB.length),Ke+=_e.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(ve,Ne,S.default.sources.SILENT)}}}}function te(U){return{key:U[0].toUpperCase(),shortKey:!0,handler:function(ce,Z){this.quill.format(U,!Z.format[U],S.default.sources.USER)}}}function W(U){if(typeof U=="string"||typeof U=="number")return W({key:U});if((typeof U=="undefined"?"undefined":o(U))==="object"&&(U=(0,f.default)(U,!1)),typeof U.key=="string")if(X.keys[U.key.toUpperCase()]!=null)U.key=X.keys[U.key.toUpperCase()];else if(U.key.length===1)U.key=U.key.toUpperCase().charCodeAt(0);else return null;return U.shortKey&&(U[V]=U.shortKey,delete U.shortKey),U}n.default=X,n.SHORTKEY=V},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function p(m,_){var w=[],S=!0,I=!1,j=void 0;try{for(var T=m[Symbol.iterator](),M;!(S=(M=T.next()).done)&&(w.push(M.value),!(_&&w.length===_));S=!0);}catch(A){I=!0,j=A}finally{try{!S&&T.return&&T.return()}finally{if(I)throw j}}return w}return function(m,_){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return p(m,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function p(m,_,w){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var I=Object.getPrototypeOf(m);return I===null?void 0:p(I,_,w)}else{if("value"in S)return S.value;var j=S.get;return j===void 0?void 0:j.call(w)}},s=function(){function p(m,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,w){return _&&p(m.prototype,_),w&&p(m,w),m}}(),l=i(0),f=c(l),v=i(7),d=c(v);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function g(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function b(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var x=function(p){b(m,p),s(m,null,[{key:"value",value:function(){}}]);function m(_,w){h(this,m);var S=g(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return S.selection=w,S.textNode=document.createTextNode(m.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return s(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,S){if(this._length!==0)return a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,w,S);for(var I=this,j=0;I!=null&&I.statics.scope!==f.default.Scope.BLOCK_BLOT;)j+=I.offset(I.parent),I=I.parent;I!=null&&(this._length=m.CONTENTS.length,I.optimize(),I.formatAt(j,m.CONTENTS.length,w,S),this._length=0)}},{key:"index",value:function(w,S){return w===this.textNode?0:a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,w,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,S=this.selection.getNativeRange(),I=void 0,j=void 0,T=void 0;if(S!=null&&S.start.node===w&&S.end.node===w){var M=[w,S.start.offset,S.end.offset];I=M[0],j=M[1],T=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var A=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof d.default?(I=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=m.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),j!=null){var R=[j,T].map(function(D){return Math.max(0,Math.min(I.data.length,D-1))}),L=o(R,2);return j=L[0],T=L[1],{startNode:I,startOffset:j,endNode:I,endOffset:T}}}}},{key:"update",value:function(w,S){var I=this;if(w.some(function(T){return T.type==="characterData"&&T.target===I.textNode})){var j=this.restore();j&&(S.range=j)}}},{key:"value",value:function(){return""}}]),m}(f.default.Embed);x.blotName="cursor",x.className="ql-cursor",x.tagName="span",x.CONTENTS="\uFEFF",n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),a=f(o),s=i(4),l=f(s);function f(g){return g&&g.__esModule?g:{default:g}}function v(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function d(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function c(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var h=function(g){c(b,g);function b(){return v(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return b}(a.default.Container);h.allowedChildren=[l.default,s.BlockEmbed,h],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var o=function(){function x(p,m){for(var _=0;_<m.length;_++){var w=m[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,m,_){return m&&x(p.prototype,m),_&&x(p,_),p}}(),a=function x(p,m,_){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,m);if(w===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:x(S,m,_)}else{if("value"in w)return w.value;var I=w.get;return I===void 0?void 0:I.call(_)}},s=i(0),l=f(s);function f(x){return x&&x.__esModule?x:{default:x}}function v(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function d(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function c(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var h=function(x){c(p,x);function p(){return v(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(_){var w=a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,_);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):w}}]),p}(l.default.Attributor.Style),g=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),b=new h("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=h,n.ColorClass=g,n.ColorStyle=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var o=function(){function b(x,p){for(var m=0;m<p.length;m++){var _=p[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(x,_.key,_)}}return function(x,p,m){return p&&b(x.prototype,p),m&&b(x,m),x}}(),a=function b(x,p,m){x===null&&(x=Function.prototype);var _=Object.getOwnPropertyDescriptor(x,p);if(_===void 0){var w=Object.getPrototypeOf(x);return w===null?void 0:b(w,p,m)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(m)}},s=i(6),l=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function v(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function d(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function c(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var h=function(b){c(x,b);function x(){return v(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"format",value:function(m,_){if(m!==this.statics.blotName||!_)return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,m,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(m){var _=a(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,m);return m=this.sanitize(m),_.setAttribute("href",m),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return g(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),x}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(b,x){var p=document.createElement("a");p.href=b;var m=p.href.slice(0,p.href.indexOf(":"));return x.indexOf(m)>-1}n.default=h,n.sanitize=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},a=function(){function x(p,m){for(var _=0;_<m.length;_++){var w=m[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,m,_){return m&&x(p.prototype,m),_&&x(p,_),p}}(),s=i(23),l=d(s),f=i(107),v=d(f);function d(x){return x&&x.__esModule?x:{default:x}}function c(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}var h=0;function g(x,p){x.setAttribute(p,x.getAttribute(p)!=="true")}var b=function(){function x(p){var m=this;c(this,x),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(x,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var _=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),m.hasAttribute("value")&&w.setAttribute("data-value",m.getAttribute("value")),m.textContent&&w.setAttribute("data-label",m.textContent),w.addEventListener("click",function(){_.selectItem(w,!0)}),w.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:_.selectItem(w,!0),S.preventDefault();break;case l.default.keys.ESCAPE:_.escape(),S.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=v.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(w){var S=m.buildItem(w);_.appendChild(S),w.selected===!0&&m.selectItem(S)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(_){m.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(m!==w&&(w!=null&&w.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":o(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var w=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),x}();n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),a=G(o),s=i(5),l=G(s),f=i(4),v=G(f),d=i(16),c=G(d),h=i(25),g=G(h),b=i(24),x=G(b),p=i(35),m=G(p),_=i(6),w=G(_),S=i(22),I=G(S),j=i(7),T=G(j),M=i(55),A=G(M),R=i(42),L=G(R),D=i(23),F=G(D);function G(V){return V&&V.__esModule?V:{default:V}}l.default.register({"blots/block":v.default,"blots/block/embed":f.BlockEmbed,"blots/break":c.default,"blots/container":g.default,"blots/cursor":x.default,"blots/embed":m.default,"blots/inline":w.default,"blots/scroll":I.default,"blots/text":T.default,"modules/clipboard":A.default,"modules/history":L.default,"modules/keyboard":F.default}),a.default.register(v.default,c.default,x.default,w.default,I.default,T.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),a=function(){function s(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?f=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?f=document.createElement(l):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},s.prototype.deleteAt=function(l,f){var v=this.isolate(l,f);v.remove()},s.prototype.formatAt=function(l,f,v,d){var c=this.isolate(l,f);if(o.query(v,o.Scope.BLOT)!=null&&d)c.wrap(v,d);else if(o.query(v,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);c.wrap(h),h.format(v,d)}},s.prototype.insertAt=function(l,f,v){var d=v==null?o.create("text",f):o.create(f,v),c=this.split(l);this.parent.insertBefore(d,c)},s.prototype.insertInto=function(l,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var v=null;l.children.insertBefore(this,f),f!=null&&(v=f.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=v)&&l.domNode.insertBefore(this.domNode,v),this.parent=l,this.attach()},s.prototype.isolate=function(l,f){var v=this.split(l);return v.split(f),v},s.prototype.length=function(){return 1},s.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},s.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},s.prototype.replaceWith=function(l,f){var v=typeof l=="string"?o.create(l,f):l;return v.replace(this),v},s.prototype.split=function(l,f){return l===0?this:this.next},s.prototype.update=function(l,f){},s.prototype.wrap=function(l,f){var v=typeof l=="string"?o.create(l,f):l;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},s.blotName="abstract",s}();n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),a=i(32),s=i(33),l=i(1),f=function(){function v(d){this.attributes={},this.domNode=d,this.build()}return v.prototype.attribute=function(d,c){c?d.add(this.domNode,c)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},v.prototype.build=function(){var d=this;this.attributes={};var c=o.default.keys(this.domNode),h=a.default.keys(this.domNode),g=s.default.keys(this.domNode);c.concat(h).concat(g).forEach(function(b){var x=l.query(b,l.Scope.ATTRIBUTE);x instanceof o.default&&(d.attributes[x.attrName]=x)})},v.prototype.copy=function(d){var c=this;Object.keys(this.attributes).forEach(function(h){var g=c.attributes[h].value(c.domNode);d.format(h,g)})},v.prototype.move=function(d){var c=this;this.copy(d),Object.keys(this.attributes).forEach(function(h){c.attributes[h].remove(c.domNode)}),this.attributes={}},v.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(c,h){return c[h]=d.attributes[h].value(d.domNode),c},{})},v}();n.default=f},function(r,n,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var c in d)d.hasOwnProperty(c)&&(v[c]=d[c])};return function(v,d){f(v,d);function c(){this.constructor=v}v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12);function s(f,v){var d=f.getAttribute("class")||"";return d.split(/\s+/).filter(function(c){return c.indexOf(v+"-")===0})}var l=function(f){o(v,f);function v(){return f!==null&&f.apply(this,arguments)||this}return v.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},v.prototype.add=function(d,c){return this.canAdd(d,c)?(this.remove(d),d.classList.add(this.keyName+"-"+c),!0):!1},v.prototype.remove=function(d){var c=s(d,this.keyName);c.forEach(function(h){d.classList.remove(h)}),d.classList.length===0&&d.removeAttribute("class")},v.prototype.value=function(d){var c=s(d,this.keyName)[0]||"",h=c.slice(this.keyName.length+1);return this.canAdd(d,h)?h:""},v}(a.default);n.default=l},function(r,n,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var c in d)d.hasOwnProperty(c)&&(v[c]=d[c])};return function(v,d){f(v,d);function c(){this.constructor=v}v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(12);function s(f){var v=f.split("-"),d=v.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return v[0]+d}var l=function(f){o(v,f);function v(){return f!==null&&f.apply(this,arguments)||this}return v.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(c){var h=c.split(":");return h[0].trim()})},v.prototype.add=function(d,c){return this.canAdd(d,c)?(d.style[s(this.keyName)]=c,!0):!1},v.prototype.remove=function(d){d.style[s(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},v.prototype.value=function(d){var c=d.style[s(this.keyName)];return this.canAdd(d,c)?c:""},v}(a.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function l(f,v){for(var d=0;d<v.length;d++){var c=v[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(f,v,d){return v&&l(f.prototype,v),d&&l(f,d),f}}();function a(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(f,v){a(this,l),this.quill=f,this.options=v,this.modules={}}return o(l,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(d){v.modules[d]==null&&v.addModule(d)})}},{key:"addModule",value:function(v){var d=this.quill.constructor.import("modules/"+v);return this.modules[v]=new d(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),l}();s.DEFAULTS={modules:{}},s.themes={default:s},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function p(m,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,w){return _&&p(m.prototype,_),w&&p(m,w),m}}(),a=function p(m,_,w){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var I=Object.getPrototypeOf(m);return I===null?void 0:p(I,_,w)}else{if("value"in S)return S.value;var j=S.get;return j===void 0?void 0:j.call(w)}},s=i(0),l=d(s),f=i(7),v=d(f);function d(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function g(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var b="\uFEFF",x=function(p){g(m,p);function m(_){c(this,m);var w=h(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(S){w.contentNode.appendChild(S)}),w.leftGuard=document.createTextNode(b),w.rightGuard=document.createTextNode(b),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return o(m,[{key:"index",value:function(w,S){return w===this.leftGuard?0:w===this.rightGuard?1:a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,w,S)}},{key:"restore",value:function(w){var S=void 0,I=void 0,j=w.data.split(b).join("");if(w===this.leftGuard)if(this.prev instanceof v.default){var T=this.prev.length();this.prev.insertAt(T,j),S={startNode:this.prev.domNode,startOffset:T+j.length}}else I=document.createTextNode(j),this.parent.insertBefore(l.default.create(I),this),S={startNode:I,startOffset:j.length};else w===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,j),S={startNode:this.next.domNode,startOffset:j.length}):(I=document.createTextNode(j),this.parent.insertBefore(l.default.create(I),this.next),S={startNode:I,startOffset:j.length}));return w.data=b,S}},{key:"update",value:function(w,S){var I=this;w.forEach(function(j){if(j.type==="characterData"&&(j.target===I.leftGuard||j.target===I.rightGuard)){var T=I.restore(j.target);T&&(S.range=T)}})}}]),m}(l.default.Embed);n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var o=i(0),a=s(o);function s(c){return c&&c.__esModule?c:{default:c}}var l={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new a.default.Attributor.Attribute("align","align",l),v=new a.default.Attributor.Class("align","ql-align",l),d=new a.default.Attributor.Style("align","text-align",l);n.AlignAttribute=f,n.AlignClass=v,n.AlignStyle=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var o=i(0),a=l(o),s=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var f=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),v=new s.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});n.BackgroundClass=f,n.BackgroundStyle=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var o=i(0),a=s(o);function s(c){return c&&c.__esModule?c:{default:c}}var l={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},f=new a.default.Attributor.Attribute("direction","dir",l),v=new a.default.Attributor.Class("direction","ql-direction",l),d=new a.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=f,n.DirectionClass=v,n.DirectionStyle=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var o=function(){function p(m,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,w){return _&&p(m.prototype,_),w&&p(m,w),m}}(),a=function p(m,_,w){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var I=Object.getPrototypeOf(m);return I===null?void 0:p(I,_,w)}else{if("value"in S)return S.value;var j=S.get;return j===void 0?void 0:j.call(w)}},s=i(0),l=f(s);function f(p){return p&&p.__esModule?p:{default:p}}function v(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new l.default.Attributor.Class("font","ql-font",h),b=function(p){c(m,p);function m(){return v(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(w){return a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),x=new b("font","font-family",h);n.FontStyle=x,n.FontClass=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var o=i(0),a=s(o);function s(v){return v&&v.__esModule?v:{default:v}}var l=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=f},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var o=function(){function _(w,S){for(var I=0;I<S.length;I++){var j=S[I];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,S,I){return S&&_(w.prototype,S),I&&_(w,I),w}}(),a=i(0),s=c(a),l=i(5),f=c(l),v=i(9),d=c(v);function c(_){return _&&_.__esModule?_:{default:_}}function h(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function g(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function b(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var x=function(_){b(w,_);function w(S,I){h(this,w);var j=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S,I));return j.lastRecorded=0,j.ignoreChange=!1,j.clear(),j.quill.on(f.default.events.EDITOR_CHANGE,function(T,M,A,R){T!==f.default.events.TEXT_CHANGE||j.ignoreChange||(!j.options.userOnly||R===f.default.sources.USER?j.record(M,A):j.transform(M))}),j.quill.keyboard.addBinding({key:"Z",shortKey:!0},j.undo.bind(j)),j.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},j.redo.bind(j)),/Win/i.test(navigator.platform)&&j.quill.keyboard.addBinding({key:"Y",shortKey:!0},j.redo.bind(j)),j}return o(w,[{key:"change",value:function(I,j){if(this.stack[I].length!==0){var T=this.stack[I].pop();this.stack[j].push(T),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(T[I],f.default.sources.USER),this.ignoreChange=!1;var M=m(T[I]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(I,j){if(I.ops.length!==0){this.stack.redo=[];var T=this.quill.getContents().diff(j),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var A=this.stack.undo.pop();T=T.compose(A.undo),I=A.redo.compose(I)}else this.lastRecorded=M;this.stack.undo.push({redo:I,undo:T}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(I){this.stack.undo.forEach(function(j){j.undo=I.transform(j.undo,!0),j.redo=I.transform(j.redo,!0)}),this.stack.redo.forEach(function(j){j.undo=I.transform(j.undo,!0),j.redo=I.transform(j.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(d.default);x.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(_){var w=_.ops[_.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(S){return s.default.query(S,s.default.Scope.BLOCK)!=null}):!1}function m(_){var w=_.reduce(function(I,j){return I+=j.delete||0,I},0),S=_.length()-w;return p(_)&&(S-=1),S}n.default=x,n.getLastChangeIndex=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var o=function(){function B(K,te){for(var W=0;W<te.length;W++){var U=te[W];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(K,U.key,U)}}return function(K,te,W){return te&&B(K.prototype,te),W&&B(K,W),K}}(),a=function B(K,te,W){K===null&&(K=Function.prototype);var U=Object.getOwnPropertyDescriptor(K,te);if(U===void 0){var Q=Object.getPrototypeOf(K);return Q===null?void 0:B(Q,te,W)}else{if("value"in U)return U.value;var ce=U.get;return ce===void 0?void 0:ce.call(W)}},s=i(3),l=M(s),f=i(2),v=M(f),d=i(8),c=M(d),h=i(23),g=M(h),b=i(34),x=M(b),p=i(59),m=M(p),_=i(60),w=M(_),S=i(28),I=M(S),j=i(61),T=M(j);function M(B){return B&&B.__esModule?B:{default:B}}function A(B,K){if(!(B instanceof K))throw new TypeError("Cannot call a class as a function")}function R(B,K){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:B}function L(B,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);B.prototype=Object.create(K&&K.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(B,K):B.__proto__=K)}var D=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],V=["1","2","3",!1],X=["small",!1,"large","huge"],z=function(B){L(K,B);function K(te,W){A(this,K);var U=R(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,te,W)),Q=function ce(Z){if(!document.body.contains(te.root))return document.body.removeEventListener("click",ce);U.tooltip!=null&&!U.tooltip.root.contains(Z.target)&&document.activeElement!==U.tooltip.textbox&&!U.quill.hasFocus()&&U.tooltip.hide(),U.pickers!=null&&U.pickers.forEach(function(ve){ve.container.contains(Z.target)||ve.close()})};return te.emitter.listenDOM("click",document.body,Q),U}return o(K,[{key:"addModule",value:function(W){var U=a(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar(U),U}},{key:"buildButtons",value:function(W,U){W.forEach(function(Q){var ce=Q.getAttribute("class")||"";ce.split(/\s+/).forEach(function(Z){if(Z.startsWith("ql-")&&(Z=Z.slice(3),U[Z]!=null))if(Z==="direction")Q.innerHTML=U[Z][""]+U[Z].rtl;else if(typeof U[Z]=="string")Q.innerHTML=U[Z];else{var ve=Q.value||"";ve!=null&&U[Z][ve]&&(Q.innerHTML=U[Z][ve])}})})}},{key:"buildPickers",value:function(W,U){var Q=this;this.pickers=W.map(function(Z){if(Z.classList.contains("ql-align"))return Z.querySelector("option")==null&&N(Z,D),new w.default(Z,U.align);if(Z.classList.contains("ql-background")||Z.classList.contains("ql-color")){var ve=Z.classList.contains("ql-background")?"background":"color";return Z.querySelector("option")==null&&N(Z,F,ve==="background"?"#ffffff":"#000000"),new m.default(Z,U[ve])}else return Z.querySelector("option")==null&&(Z.classList.contains("ql-font")?N(Z,G):Z.classList.contains("ql-header")?N(Z,V):Z.classList.contains("ql-size")&&N(Z,X)),new I.default(Z)});var ce=function(){Q.pickers.forEach(function(ve){ve.update()})};this.quill.on(c.default.events.EDITOR_CHANGE,ce)}}]),K}(x.default);z.DEFAULTS=(0,l.default)(!0,{},x.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,te=this.container.querySelector("input.ql-image[type=file]");te==null&&(te=document.createElement("input"),te.setAttribute("type","file"),te.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),te.classList.add("ql-image"),te.addEventListener("change",function(){if(te.files!=null&&te.files[0]!=null){var W=new FileReader;W.onload=function(U){var Q=K.quill.getSelection(!0);K.quill.updateContents(new v.default().retain(Q.index).delete(Q.length).insert({image:U.target.result}),c.default.sources.USER),K.quill.setSelection(Q.index+1,c.default.sources.SILENT),te.value=""},W.readAsDataURL(te.files[0])}}),this.container.appendChild(te)),te.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var q=function(B){L(K,B);function K(te,W){A(this,K);var U=R(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,te,W));return U.textbox=U.root.querySelector('input[type="text"]'),U.listen(),U}return o(K,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function(U){g.default.match(U,"enter")?(W.save(),U.preventDefault()):g.default.match(U,"escape")&&(W.cancel(),U.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),U!=null?this.textbox.value=U:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var U=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,c.default.sources.USER)),this.quill.root.scrollTop=U;break}case"video":W=P(W);case"formula":{if(!W)break;var Q=this.quill.getSelection(!0);if(Q!=null){var ce=Q.index+Q.length;this.quill.insertEmbed(ce,this.root.getAttribute("data-mode"),W,c.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ce+1," ",c.default.sources.USER),this.quill.setSelection(ce+2,c.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K}(T.default);function P(B){var K=B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":B}function N(B,K){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(W){var U=document.createElement("option");W===te?U.setAttribute("selected","selected"):U.setAttribute("value",W),B.appendChild(U)})}n.BaseTooltip=q,n.default=z},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},a.prototype.contains=function(s){for(var l,f=this.iterator();l=f();)if(l===s)return!0;return!1},a.prototype.insertBefore=function(s,l){s&&(s.next=l,l!=null?(s.prev=l.prev,l.prev!=null&&(l.prev.next=s),l.prev=s,l===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},a.prototype.offset=function(s){for(var l=0,f=this.head;f!=null;){if(f===s)return l;l+=f.length(),f=f.next}return-1},a.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},a.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var l=s;return s!=null&&(s=s.next),l}},a.prototype.find=function(s,l){l===void 0&&(l=!1);for(var f,v=this.iterator();f=v();){var d=f.length();if(s<d||l&&s===d&&(f.next==null||f.next.length()!==0))return[f,s];s-=d}return[null,0]},a.prototype.forEach=function(s){for(var l,f=this.iterator();l=f();)s(l)},a.prototype.forEachAt=function(s,l,f){if(!(l<=0))for(var v=this.find(s),d=v[0],c=v[1],h,g=s-c,b=this.iterator(d);(h=b())&&g<s+l;){var x=h.length();s>g?f(h,s-g,Math.min(l,g+x-s)):f(h,0,Math.min(x,s+l-g)),g+=x}},a.prototype.map=function(s){return this.reduce(function(l,f){return l.push(s(f)),l},[])},a.prototype.reduce=function(s,l){for(var f,v=this.iterator();f=v();)l=s(l,f);return l},a}();n.default=o},function(r,n,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])};return function(c,h){d(c,h);function g(){this.constructor=c}c.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),s=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,v=function(d){o(c,d);function c(h){var g=d.call(this,h)||this;return g.scroll=g,g.observer=new MutationObserver(function(b){g.update(b)}),g.observer.observe(g.domNode,l),g.attach(),g}return c.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(h,g){this.update(),h===0&&g===this.length()?this.children.forEach(function(b){b.remove()}):d.prototype.deleteAt.call(this,h,g)},c.prototype.formatAt=function(h,g,b,x){this.update(),d.prototype.formatAt.call(this,h,g,b,x)},c.prototype.insertAt=function(h,g,b){this.update(),d.prototype.insertAt.call(this,h,g,b)},c.prototype.optimize=function(h,g){var b=this;h===void 0&&(h=[]),g===void 0&&(g={}),d.prototype.optimize.call(this,g);for(var x=[].slice.call(this.observer.takeRecords());x.length>0;)h.push(x.pop());for(var p=function(S,I){I===void 0&&(I=!0),!(S==null||S===b)&&S.domNode.parentNode!=null&&(S.domNode[s.DATA_KEY].mutations==null&&(S.domNode[s.DATA_KEY].mutations=[]),I&&p(S.parent))},m=function(S){S.domNode[s.DATA_KEY]==null||S.domNode[s.DATA_KEY].mutations==null||(S instanceof a.default&&S.children.forEach(m),S.optimize(g))},_=h,w=0;_.length>0;w+=1){if(w>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(S){var I=s.find(S.target,!0);I!=null&&(I.domNode===S.target&&(S.type==="childList"?(p(s.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(j){var T=s.find(j,!1);p(T,!1),T instanceof a.default&&T.children.forEach(function(M){p(M,!1)})})):S.type==="attributes"&&p(I.prev)),p(I))}),this.children.forEach(m),_=[].slice.call(this.observer.takeRecords()),x=_.slice();x.length>0;)h.push(x.pop())}},c.prototype.update=function(h,g){var b=this;g===void 0&&(g={}),h=h||this.observer.takeRecords(),h.map(function(x){var p=s.find(x.target,!0);return p==null?null:p.domNode[s.DATA_KEY].mutations==null?(p.domNode[s.DATA_KEY].mutations=[x],p):(p.domNode[s.DATA_KEY].mutations.push(x),null)}).forEach(function(x){x==null||x===b||x.domNode[s.DATA_KEY]==null||x.update(x.domNode[s.DATA_KEY].mutations||[],g)}),this.domNode[s.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,g),this.optimize(h,g)},c.blotName="scroll",c.defaultChild="block",c.scope=s.Scope.BLOCK_BLOT,c.tagName="DIV",c}(a.default);n.default=v},function(r,n,i){var o=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var h in c)c.hasOwnProperty(h)&&(d[h]=c[h])};return function(d,c){v(d,c);function h(){this.constructor=d}d.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(18),s=i(1);function l(v,d){if(Object.keys(v).length!==Object.keys(d).length)return!1;for(var c in v)if(v[c]!==d[c])return!1;return!0}var f=function(v){o(d,v);function d(){return v!==null&&v.apply(this,arguments)||this}return d.formats=function(c){if(c.tagName!==d.tagName)return v.formats.call(this,c)},d.prototype.format=function(c,h){var g=this;c===this.statics.blotName&&!h?(this.children.forEach(function(b){b instanceof a.default||(b=b.wrap(d.blotName,!0)),g.attributes.copy(b)}),this.unwrap()):v.prototype.format.call(this,c,h)},d.prototype.formatAt=function(c,h,g,b){if(this.formats()[g]!=null||s.query(g,s.Scope.ATTRIBUTE)){var x=this.isolate(c,h);x.format(g,b)}else v.prototype.formatAt.call(this,c,h,g,b)},d.prototype.optimize=function(c){v.prototype.optimize.call(this,c);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var g=this.next;g instanceof d&&g.prev===this&&l(h,g.formats())&&(g.moveChildren(this),g.remove())},d.blotName="inline",d.scope=s.Scope.INLINE_BLOT,d.tagName="SPAN",d}(a.default);n.default=f},function(r,n,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var c in d)d.hasOwnProperty(c)&&(v[c]=d[c])};return function(v,d){f(v,d);function c(){this.constructor=v}v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(18),s=i(1),l=function(f){o(v,f);function v(){return f!==null&&f.apply(this,arguments)||this}return v.formats=function(d){var c=s.query(v.blotName).tagName;if(d.tagName!==c)return f.formats.call(this,d)},v.prototype.format=function(d,c){s.query(d,s.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!c?this.replaceWith(v.blotName):f.prototype.format.call(this,d,c))},v.prototype.formatAt=function(d,c,h,g){s.query(h,s.Scope.BLOCK)!=null?this.format(h,g):f.prototype.formatAt.call(this,d,c,h,g)},v.prototype.insertAt=function(d,c,h){if(h==null||s.query(c,s.Scope.INLINE)!=null)f.prototype.insertAt.call(this,d,c,h);else{var g=this.split(d),b=s.create(c,h);g.parent.insertBefore(b,g)}},v.prototype.update=function(d,c){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,d,c)},v.blotName="block",v.scope=s.Scope.BLOCK_BLOT,v.tagName="P",v}(a.default);n.default=l},function(r,n,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var d in v)v.hasOwnProperty(d)&&(f[d]=v[d])};return function(f,v){l(f,v);function d(){this.constructor=f}f.prototype=v===null?Object.create(v):(d.prototype=v.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(19),s=function(l){o(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.formats=function(v){},f.prototype.format=function(v,d){l.prototype.formatAt.call(this,0,this.length(),v,d)},f.prototype.formatAt=function(v,d,c,h){v===0&&d===this.length()?this.format(c,h):l.prototype.formatAt.call(this,v,d,c,h)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(a.default);n.default=s},function(r,n,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var c in d)d.hasOwnProperty(c)&&(v[c]=d[c])};return function(v,d){f(v,d);function c(){this.constructor=v}v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=i(19),s=i(1),l=function(f){o(v,f);function v(d){var c=f.call(this,d)||this;return c.text=c.statics.value(c.domNode),c}return v.create=function(d){return document.createTextNode(d)},v.value=function(d){var c=d.data;return c.normalize&&(c=c.normalize()),c},v.prototype.deleteAt=function(d,c){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+c)},v.prototype.index=function(d,c){return this.domNode===d?c:-1},v.prototype.insertAt=function(d,c,h){h==null?(this.text=this.text.slice(0,d)+c+this.text.slice(d),this.domNode.data=this.text):f.prototype.insertAt.call(this,d,c,h)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(d){f.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(d,c){return[this.domNode,d]},v.prototype.split=function(d,c){if(c===void 0&&(c=!1),!c){if(d===0)return this;if(d===this.length())return this.next}var h=s.create(this.domNode.splitText(d));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},v.prototype.update=function(d,c){var h=this;d.some(function(g){return g.type==="characterData"&&g.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=s.Scope.INLINE_BLOT,v}(a.default);n.default=l},function(r,n,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,l){return arguments.length>1&&!this.contains(s)==!l?l:a.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,l){return l=l||0,this.substr(l,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,l){var f=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>f.length)&&(l=f.length),l-=s.length;var v=f.indexOf(s,l);return v!==-1&&v===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),v=f.length>>>0,d=arguments[1],c,h=0;h<v;h++)if(c=f[h],l.call(d,c,h,f))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,o=1,a=0;function s(w,S,I){if(w==S)return w?[[a,w]]:[];(I<0||w.length<I)&&(I=null);var j=d(w,S),T=w.substring(0,j);w=w.substring(j),S=S.substring(j),j=c(w,S);var M=w.substring(w.length-j);w=w.substring(0,w.length-j),S=S.substring(0,S.length-j);var A=l(w,S);return T&&A.unshift([a,T]),M&&A.push([a,M]),g(A),I!=null&&(A=p(A,I)),A=m(A),A}function l(w,S){var I;if(!w)return[[o,S]];if(!S)return[[i,w]];var j=w.length>S.length?w:S,T=w.length>S.length?S:w,M=j.indexOf(T);if(M!=-1)return I=[[o,j.substring(0,M)],[a,T],[o,j.substring(M+T.length)]],w.length>S.length&&(I[0][0]=I[2][0]=i),I;if(T.length==1)return[[i,w],[o,S]];var A=h(w,S);if(A){var R=A[0],L=A[1],D=A[2],F=A[3],G=A[4],V=s(R,D),X=s(L,F);return V.concat([[a,G]],X)}return f(w,S)}function f(w,S){for(var I=w.length,j=S.length,T=Math.ceil((I+j)/2),M=T,A=2*T,R=new Array(A),L=new Array(A),D=0;D<A;D++)R[D]=-1,L[D]=-1;R[M+1]=0,L[M+1]=0;for(var F=I-j,G=F%2!=0,V=0,X=0,z=0,q=0,P=0;P<T;P++){for(var N=-P+V;N<=P-X;N+=2){var B=M+N,K;N==-P||N!=P&&R[B-1]<R[B+1]?K=R[B+1]:K=R[B-1]+1;for(var te=K-N;K<I&&te<j&&w.charAt(K)==S.charAt(te);)K++,te++;if(R[B]=K,K>I)X+=2;else if(te>j)V+=2;else if(G){var W=M+F-N;if(W>=0&&W<A&&L[W]!=-1){var U=I-L[W];if(K>=U)return v(w,S,K,te)}}}for(var Q=-P+z;Q<=P-q;Q+=2){var W=M+Q,U;Q==-P||Q!=P&&L[W-1]<L[W+1]?U=L[W+1]:U=L[W-1]+1;for(var ce=U-Q;U<I&&ce<j&&w.charAt(I-U-1)==S.charAt(j-ce-1);)U++,ce++;if(L[W]=U,U>I)q+=2;else if(ce>j)z+=2;else if(!G){var B=M+F-Q;if(B>=0&&B<A&&R[B]!=-1){var K=R[B],te=M+K-B;if(U=I-U,K>=U)return v(w,S,K,te)}}}}return[[i,w],[o,S]]}function v(w,S,I,j){var T=w.substring(0,I),M=S.substring(0,j),A=w.substring(I),R=S.substring(j),L=s(T,M),D=s(A,R);return L.concat(D)}function d(w,S){if(!w||!S||w.charAt(0)!=S.charAt(0))return 0;for(var I=0,j=Math.min(w.length,S.length),T=j,M=0;I<T;)w.substring(M,T)==S.substring(M,T)?(I=T,M=I):j=T,T=Math.floor((j-I)/2+I);return T}function c(w,S){if(!w||!S||w.charAt(w.length-1)!=S.charAt(S.length-1))return 0;for(var I=0,j=Math.min(w.length,S.length),T=j,M=0;I<T;)w.substring(w.length-T,w.length-M)==S.substring(S.length-T,S.length-M)?(I=T,M=I):j=T,T=Math.floor((j-I)/2+I);return T}function h(w,S){var I=w.length>S.length?w:S,j=w.length>S.length?S:w;if(I.length<4||j.length*2<I.length)return null;function T(X,z,q){for(var P=X.substring(q,q+Math.floor(X.length/4)),N=-1,B="",K,te,W,U;(N=z.indexOf(P,N+1))!=-1;){var Q=d(X.substring(q),z.substring(N)),ce=c(X.substring(0,q),z.substring(0,N));B.length<ce+Q&&(B=z.substring(N-ce,N)+z.substring(N,N+Q),K=X.substring(0,q-ce),te=X.substring(q+Q),W=z.substring(0,N-ce),U=z.substring(N+Q))}return B.length*2>=X.length?[K,te,W,U,B]:null}var M=T(I,j,Math.ceil(I.length/4)),A=T(I,j,Math.ceil(I.length/2)),R;if(!M&&!A)return null;A?M?R=M[4].length>A[4].length?M:A:R=A:R=M;var L,D,F,G;w.length>S.length?(L=R[0],D=R[1],F=R[2],G=R[3]):(F=R[0],G=R[1],L=R[2],D=R[3]);var V=R[4];return[L,D,F,G,V]}function g(w){w.push([a,""]);for(var S=0,I=0,j=0,T="",M="",A;S<w.length;)switch(w[S][0]){case o:j++,M+=w[S][1],S++;break;case i:I++,T+=w[S][1],S++;break;case a:I+j>1?(I!==0&&j!==0&&(A=d(M,T),A!==0&&(S-I-j>0&&w[S-I-j-1][0]==a?w[S-I-j-1][1]+=M.substring(0,A):(w.splice(0,0,[a,M.substring(0,A)]),S++),M=M.substring(A),T=T.substring(A)),A=c(M,T),A!==0&&(w[S][1]=M.substring(M.length-A)+w[S][1],M=M.substring(0,M.length-A),T=T.substring(0,T.length-A))),I===0?w.splice(S-j,I+j,[o,M]):j===0?w.splice(S-I,I+j,[i,T]):w.splice(S-I-j,I+j,[i,T],[o,M]),S=S-I-j+(I?1:0)+(j?1:0)+1):S!==0&&w[S-1][0]==a?(w[S-1][1]+=w[S][1],w.splice(S,1)):S++,j=0,I=0,T="",M="";break}w[w.length-1][1]===""&&w.pop();var R=!1;for(S=1;S<w.length-1;)w[S-1][0]==a&&w[S+1][0]==a&&(w[S][1].substring(w[S][1].length-w[S-1][1].length)==w[S-1][1]?(w[S][1]=w[S-1][1]+w[S][1].substring(0,w[S][1].length-w[S-1][1].length),w[S+1][1]=w[S-1][1]+w[S+1][1],w.splice(S-1,1),R=!0):w[S][1].substring(0,w[S+1][1].length)==w[S+1][1]&&(w[S-1][1]+=w[S+1][1],w[S][1]=w[S][1].substring(w[S+1][1].length)+w[S+1][1],w.splice(S+1,1),R=!0)),S++;R&&g(w)}var b=s;b.INSERT=o,b.DELETE=i,b.EQUAL=a,r.exports=b;function x(w,S){if(S===0)return[a,w];for(var I=0,j=0;j<w.length;j++){var T=w[j];if(T[0]===i||T[0]===a){var M=I+T[1].length;if(S===M)return[j+1,w];if(S<M){w=w.slice();var A=S-I,R=[T[0],T[1].slice(0,A)],L=[T[0],T[1].slice(A)];return w.splice(j,1,R,L),[j+1,w]}else I=M}}throw new Error("cursor_pos is out of bounds!")}function p(w,S){var I=x(w,S),j=I[1],T=I[0],M=j[T],A=j[T+1];if(M==null)return w;if(M[0]!==a)return w;if(A!=null&&M[1]+A[1]===A[1]+M[1])return j.splice(T,2,A,M),_(j,T,2);if(A!=null&&A[1].indexOf(M[1])===0){j.splice(T,2,[A[0],M[1]],[0,M[1]]);var R=A[1].slice(M[1].length);return R.length>0&&j.splice(T+2,0,[A[0],R]),_(j,T,3)}else return w}function m(w){for(var S=!1,I=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},j=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},T=2;T<w.length;T+=1)w[T-2][0]===a&&j(w[T-2][1])&&w[T-1][0]===i&&I(w[T-1][1])&&w[T][0]===o&&I(w[T][1])&&(S=!0,w[T-1][1]=w[T-2][1].slice(-1)+w[T-1][1],w[T][1]=w[T-2][1].slice(-1)+w[T][1],w[T-2][1]=w[T-2][1].slice(0,-1));if(!S)return w;for(var M=[],T=0;T<w.length;T+=1)w[T][1].length>0&&M.push(w[T]);return M}function _(w,S,I){for(var j=S+I-1;j>=0&&j>=S-1;j--)if(j+1<w.length){var T=w[j],M=w[j+1];T[0]===M[1]&&w.splice(j,2,[T[0],T[1]+M[1]])}return w}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(o){var a=[];for(var s in o)a.push(s);return a}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?o:a,n.supported=o;function o(s){return Object.prototype.toString.call(s)=="[object Arguments]"}n.unsupported=a;function a(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,o="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(o=!1));function s(f,v,d){this.fn=f,this.context=v,this.once=d||!1}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var v=[],d,c;if(this._eventsCount===0)return v;for(c in d=this._events)i.call(d,c)&&v.push(o?c.slice(1):c);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(d)):v},l.prototype.listeners=function(v,d){var c=o?o+v:v,h=this._events[c];if(d)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var g=0,b=h.length,x=new Array(b);g<b;g++)x[g]=h[g].fn;return x},l.prototype.emit=function(v,d,c,h,g,b){var x=o?o+v:v;if(!this._events[x])return!1;var p=this._events[x],m=arguments.length,_,w;if(p.fn){switch(p.once&&this.removeListener(v,p.fn,void 0,!0),m){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,c),!0;case 4:return p.fn.call(p.context,d,c,h),!0;case 5:return p.fn.call(p.context,d,c,h,g),!0;case 6:return p.fn.call(p.context,d,c,h,g,b),!0}for(w=1,_=new Array(m-1);w<m;w++)_[w-1]=arguments[w];p.fn.apply(p.context,_)}else{var S=p.length,I;for(w=0;w<S;w++)switch(p[w].once&&this.removeListener(v,p[w].fn,void 0,!0),m){case 1:p[w].fn.call(p[w].context);break;case 2:p[w].fn.call(p[w].context,d);break;case 3:p[w].fn.call(p[w].context,d,c);break;case 4:p[w].fn.call(p[w].context,d,c,h);break;default:if(!_)for(I=1,_=new Array(m-1);I<m;I++)_[I-1]=arguments[I];p[w].fn.apply(p[w].context,_)}}return!0},l.prototype.on=function(v,d,c){var h=new s(d,c||this),g=o?o+v:v;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],h]:this._events[g].push(h):(this._events[g]=h,this._eventsCount++),this},l.prototype.once=function(v,d,c){var h=new s(d,c||this,!0),g=o?o+v:v;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],h]:this._events[g].push(h):(this._events[g]=h,this._eventsCount++),this},l.prototype.removeListener=function(v,d,c,h){var g=o?o+v:v;if(!this._events[g])return this;if(!d)return--this._eventsCount===0?this._events=new a:delete this._events[g],this;var b=this._events[g];if(b.fn)b.fn===d&&(!h||b.once)&&(!c||b.context===c)&&(--this._eventsCount===0?this._events=new a:delete this._events[g]);else{for(var x=0,p=[],m=b.length;x<m;x++)(b[x].fn!==d||h&&!b[x].once||c&&b[x].context!==c)&&p.push(b[x]);p.length?this._events[g]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new a:delete this._events[g]}return this},l.prototype.removeAllListeners=function(v){var d;return v?(d=o?o+v:v,this._events[d]&&(--this._eventsCount===0?this._events=new a:delete this._events[d])):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof r!="undefined"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},a=function(){function pe(ge,_e){var be=[],me=!0,De=!1,qe=void 0;try{for(var Ue=ge[Symbol.iterator](),yt;!(me=(yt=Ue.next()).done)&&(be.push(yt.value),!(_e&&be.length===_e));me=!0);}catch(Ot){De=!0,qe=Ot}finally{try{!me&&Ue.return&&Ue.return()}finally{if(De)throw qe}}return be}return function(ge,_e){if(Array.isArray(ge))return ge;if(Symbol.iterator in Object(ge))return pe(ge,_e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function pe(ge,_e){for(var be=0;be<_e.length;be++){var me=_e[be];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(ge,me.key,me)}}return function(ge,_e,be){return _e&&pe(ge.prototype,_e),be&&pe(ge,be),ge}}(),l=i(3),f=L(l),v=i(2),d=L(v),c=i(0),h=L(c),g=i(5),b=L(g),x=i(10),p=L(x),m=i(9),_=L(m),w=i(36),S=i(37),I=i(13),j=L(I),T=i(26),M=i(38),A=i(39),R=i(40);function L(pe){return pe&&pe.__esModule?pe:{default:pe}}function D(pe,ge,_e){return ge in pe?Object.defineProperty(pe,ge,{value:_e,enumerable:!0,configurable:!0,writable:!0}):pe[ge]=_e,pe}function F(pe,ge){if(!(pe instanceof ge))throw new TypeError("Cannot call a class as a function")}function G(pe,ge){if(!pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ge&&(typeof ge=="object"||typeof ge=="function")?ge:pe}function V(pe,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ge);pe.prototype=Object.create(ge&&ge.prototype,{constructor:{value:pe,enumerable:!1,writable:!0,configurable:!0}}),ge&&(Object.setPrototypeOf?Object.setPrototypeOf(pe,ge):pe.__proto__=ge)}var X=(0,p.default)("quill:clipboard"),z="__ql-matcher",q=[[Node.TEXT_NODE,at],[Node.TEXT_NODE,Fe],["br",Ne],[Node.ELEMENT_NODE,Fe],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,Ke],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,Ge],["li",Be],["b",ce.bind(ce,"bold")],["i",ce.bind(ce,"italic")],["style",Se]],P=[w.AlignAttribute,M.DirectionAttribute].reduce(function(pe,ge){return pe[ge.keyName]=ge,pe},{}),N=[w.AlignStyle,S.BackgroundStyle,T.ColorStyle,M.DirectionStyle,A.FontStyle,R.SizeStyle].reduce(function(pe,ge){return pe[ge.keyName]=ge,pe},{}),B=function(pe){V(ge,pe);function ge(_e,be){F(this,ge);var me=G(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this,_e,be));return me.quill.root.addEventListener("paste",me.onPaste.bind(me)),me.container=me.quill.addContainer("ql-clipboard"),me.container.setAttribute("contenteditable",!0),me.container.setAttribute("tabindex",-1),me.matchers=[],q.concat(me.options.matchers).forEach(function(De){var qe=a(De,2),Ue=qe[0],yt=qe[1];!be.matchVisual&&yt===Ke||me.addMatcher(Ue,yt)}),me}return s(ge,[{key:"addMatcher",value:function(be,me){this.matchers.push([be,me])}},{key:"convert",value:function(be){if(typeof be=="string")return this.container.innerHTML=be.replace(/\>\r?\n +\</g,"><"),this.convert();var me=this.quill.getFormat(this.quill.selection.savedRange.index);if(me[j.default.blotName]){var De=this.container.innerText;return this.container.innerHTML="",new d.default().insert(De,D({},j.default.blotName,me[j.default.blotName]))}var qe=this.prepareMatching(),Ue=a(qe,2),yt=Ue[0],Ot=Ue[1],nt=Q(this.container,yt,Ot);return W(nt,`
`)&&nt.ops[nt.ops.length-1].attributes==null&&(nt=nt.compose(new d.default().retain(nt.length()-1).delete(1))),X.log("convert",this.container.innerHTML,nt),this.container.innerHTML="",nt}},{key:"dangerouslyPasteHTML",value:function(be,me){var De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof be=="string")this.quill.setContents(this.convert(be),me),this.quill.setSelection(0,b.default.sources.SILENT);else{var qe=this.convert(me);this.quill.updateContents(new d.default().retain(be).concat(qe),De),this.quill.setSelection(be+qe.length(),b.default.sources.SILENT)}}},{key:"onPaste",value:function(be){var me=this;if(!(be.defaultPrevented||!this.quill.isEnabled())){var De=this.quill.getSelection(),qe=new d.default().retain(De.index),Ue=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(b.default.sources.SILENT),setTimeout(function(){qe=qe.concat(me.convert()).delete(De.length),me.quill.updateContents(qe,b.default.sources.USER),me.quill.setSelection(qe.length()-De.length,b.default.sources.SILENT),me.quill.scrollingContainer.scrollTop=Ue,me.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var be=this,me=[],De=[];return this.matchers.forEach(function(qe){var Ue=a(qe,2),yt=Ue[0],Ot=Ue[1];switch(yt){case Node.TEXT_NODE:De.push(Ot);break;case Node.ELEMENT_NODE:me.push(Ot);break;default:[].forEach.call(be.container.querySelectorAll(yt),function(nt){nt[z]=nt[z]||[],nt[z].push(Ot)});break}}),[me,De]}}]),ge}(_.default);B.DEFAULTS={matchers:[],matchVisual:!0};function K(pe,ge,_e){return(typeof ge=="undefined"?"undefined":o(ge))==="object"?Object.keys(ge).reduce(function(be,me){return K(be,me,ge[me])},pe):pe.reduce(function(be,me){return me.attributes&&me.attributes[ge]?be.push(me):be.insert(me.insert,(0,f.default)({},D({},ge,_e),me.attributes))},new d.default)}function te(pe){if(pe.nodeType!==Node.ELEMENT_NODE)return{};var ge="__ql-computed-style";return pe[ge]||(pe[ge]=window.getComputedStyle(pe))}function W(pe,ge){for(var _e="",be=pe.ops.length-1;be>=0&&_e.length<ge.length;--be){var me=pe.ops[be];if(typeof me.insert!="string")break;_e=me.insert+_e}return _e.slice(-1*ge.length)===ge}function U(pe){if(pe.childNodes.length===0)return!1;var ge=te(pe);return["block","list-item"].indexOf(ge.display)>-1}function Q(pe,ge,_e){return pe.nodeType===pe.TEXT_NODE?_e.reduce(function(be,me){return me(pe,be)},new d.default):pe.nodeType===pe.ELEMENT_NODE?[].reduce.call(pe.childNodes||[],function(be,me){var De=Q(me,ge,_e);return me.nodeType===pe.ELEMENT_NODE&&(De=ge.reduce(function(qe,Ue){return Ue(me,qe)},De),De=(me[z]||[]).reduce(function(qe,Ue){return Ue(me,qe)},De)),be.concat(De)},new d.default):new d.default}function ce(pe,ge,_e){return K(_e,pe,!0)}function Z(pe,ge){var _e=h.default.Attributor.Attribute.keys(pe),be=h.default.Attributor.Class.keys(pe),me=h.default.Attributor.Style.keys(pe),De={};return _e.concat(be).concat(me).forEach(function(qe){var Ue=h.default.query(qe,h.default.Scope.ATTRIBUTE);Ue!=null&&(De[Ue.attrName]=Ue.value(pe),De[Ue.attrName])||(Ue=P[qe],Ue!=null&&(Ue.attrName===qe||Ue.keyName===qe)&&(De[Ue.attrName]=Ue.value(pe)||void 0),Ue=N[qe],Ue!=null&&(Ue.attrName===qe||Ue.keyName===qe)&&(Ue=N[qe],De[Ue.attrName]=Ue.value(pe)||void 0))}),Object.keys(De).length>0&&(ge=K(ge,De)),ge}function ve(pe,ge){var _e=h.default.query(pe);if(_e==null)return ge;if(_e.prototype instanceof h.default.Embed){var be={},me=_e.value(pe);me!=null&&(be[_e.blotName]=me,ge=new d.default().insert(be,_e.formats(pe)))}else typeof _e.formats=="function"&&(ge=K(ge,_e.blotName,_e.formats(pe)));return ge}function Ne(pe,ge){return W(ge,`
`)||ge.insert(`
`),ge}function Se(){return new d.default}function Be(pe,ge){var _e=h.default.query(pe);if(_e==null||_e.blotName!=="list-item"||!W(ge,`
`))return ge;for(var be=-1,me=pe.parentNode;!me.classList.contains("ql-clipboard");)(h.default.query(me)||{}).blotName==="list"&&(be+=1),me=me.parentNode;return be<=0?ge:ge.compose(new d.default().retain(ge.length()-1).retain(1,{indent:be}))}function Fe(pe,ge){return W(ge,`
`)||(U(pe)||ge.length()>0&&pe.nextSibling&&U(pe.nextSibling))&&ge.insert(`
`),ge}function Ke(pe,ge){if(U(pe)&&pe.nextElementSibling!=null&&!W(ge,`

`)){var _e=pe.offsetHeight+parseFloat(te(pe).marginTop)+parseFloat(te(pe).marginBottom);pe.nextElementSibling.offsetTop>pe.offsetTop+_e*1.5&&ge.insert(`
`)}return ge}function Ge(pe,ge){var _e={},be=pe.style||{};return be.fontStyle&&te(pe).fontStyle==="italic"&&(_e.italic=!0),be.fontWeight&&(te(pe).fontWeight.startsWith("bold")||parseInt(te(pe).fontWeight)>=700)&&(_e.bold=!0),Object.keys(_e).length>0&&(ge=K(ge,_e)),parseFloat(be.textIndent||0)>0&&(ge=new d.default().insert("	").concat(ge)),ge}function at(pe,ge){var _e=pe.data;if(pe.parentNode.tagName==="O:P")return ge.insert(_e.trim());if(_e.trim().length===0&&pe.parentNode.classList.contains("ql-clipboard"))return ge;if(!te(pe.parentNode).whiteSpace.startsWith("pre")){var be=function(De,qe){return qe=qe.replace(/[^\u00a0]/g,""),qe.length<1&&De?" ":qe};_e=_e.replace(/\r\n/g," ").replace(/\n/g," "),_e=_e.replace(/\s\s+/g,be.bind(be,!0)),(pe.previousSibling==null&&U(pe.parentNode)||pe.previousSibling!=null&&U(pe.previousSibling))&&(_e=_e.replace(/^\s+/,be.bind(be,!1))),(pe.nextSibling==null&&U(pe.parentNode)||pe.nextSibling!=null&&U(pe.nextSibling))&&(_e=_e.replace(/\s+$/,be.bind(be,!1)))}return ge.insert(_e)}n.default=B,n.matchAttributor=Z,n.matchBlot=ve,n.matchNewline=Fe,n.matchSpacing=Ke,n.matchText=at},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(b,x){for(var p=0;p<x.length;p++){var m=x[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(b,m.key,m)}}return function(b,x,p){return x&&g(b.prototype,x),p&&g(b,p),b}}(),a=function g(b,x,p){b===null&&(b=Function.prototype);var m=Object.getOwnPropertyDescriptor(b,x);if(m===void 0){var _=Object.getPrototypeOf(b);return _===null?void 0:g(_,x,p)}else{if("value"in m)return m.value;var w=m.get;return w===void 0?void 0:w.call(p)}},s=i(6),l=f(s);function f(g){return g&&g.__esModule?g:{default:g}}function v(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function d(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function c(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var h=function(g){c(b,g);function b(){return v(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"optimize",value:function(p){a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),b}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var o=function(){function R(L,D){var F=[],G=!0,V=!1,X=void 0;try{for(var z=L[Symbol.iterator](),q;!(G=(q=z.next()).done)&&(F.push(q.value),!(D&&F.length===D));G=!0);}catch(P){V=!0,X=P}finally{try{!G&&z.return&&z.return()}finally{if(V)throw X}}return F}return function(L,D){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return R(L,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function R(L,D){for(var F=0;F<D.length;F++){var G=D[F];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,D,F){return D&&R(L.prototype,D),F&&R(L,F),L}}(),s=i(2),l=p(s),f=i(0),v=p(f),d=i(5),c=p(d),h=i(10),g=p(h),b=i(9),x=p(b);function p(R){return R&&R.__esModule?R:{default:R}}function m(R,L,D){return L in R?Object.defineProperty(R,L,{value:D,enumerable:!0,configurable:!0,writable:!0}):R[L]=D,R}function _(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")}function w(R,L){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:R}function S(R,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);R.prototype=Object.create(L&&L.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(R,L):R.__proto__=L)}var I=(0,g.default)("quill:toolbar"),j=function(R){S(L,R);function L(D,F){_(this,L);var G=w(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,D,F));if(Array.isArray(G.options.container)){var V=document.createElement("div");M(V,G.options.container),D.container.parentNode.insertBefore(V,D.container),G.container=V}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var X;return X=I.error("Container required for toolbar",G.options),w(G,X)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(z){G.addHandler(z,G.options.handlers[z])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(z){G.attach(z)}),G.quill.on(c.default.events.EDITOR_CHANGE,function(z,q){z===c.default.events.SELECTION_CHANGE&&G.update(q)}),G.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var z=G.quill.selection.getRange(),q=o(z,1),P=q[0];G.update(P)}),G}return a(L,[{key:"addHandler",value:function(F,G){this.handlers[F]=G}},{key:"attach",value:function(F){var G=this,V=[].find.call(F.classList,function(z){return z.indexOf("ql-")===0});if(V){if(V=V.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[V]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[V]==null){I.warn("ignoring attaching to disabled format",V,F);return}if(v.default.query(V)==null){I.warn("ignoring attaching to nonexistent format",V,F);return}}var X=F.tagName==="SELECT"?"change":"click";F.addEventListener(X,function(z){var q=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var P=F.options[F.selectedIndex];P.hasAttribute("selected")?q=!1:q=P.value||!1}else F.classList.contains("ql-active")?q=!1:q=F.value||!F.hasAttribute("value"),z.preventDefault();G.quill.focus();var N=G.quill.selection.getRange(),B=o(N,1),K=B[0];if(G.handlers[V]!=null)G.handlers[V].call(G,q);else if(v.default.query(V).prototype instanceof v.default.Embed){if(q=prompt("Enter "+V),!q)return;G.quill.updateContents(new l.default().retain(K.index).delete(K.length).insert(m({},V,q)),c.default.sources.USER)}else G.quill.format(V,q,c.default.sources.USER);G.update(K)}),this.controls.push([V,F])}}},{key:"update",value:function(F){var G=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(V){var X=o(V,2),z=X[0],q=X[1];if(q.tagName==="SELECT"){var P=void 0;if(F==null)P=null;else if(G[z]==null)P=q.querySelector("option[selected]");else if(!Array.isArray(G[z])){var N=G[z];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),P=q.querySelector('option[value="'+N+'"]')}P==null?(q.value="",q.selectedIndex=-1):P.selected=!0}else if(F==null)q.classList.remove("ql-active");else if(q.hasAttribute("value")){var B=G[z]===q.getAttribute("value")||G[z]!=null&&G[z].toString()===q.getAttribute("value")||G[z]==null&&!q.getAttribute("value");q.classList.toggle("ql-active",B)}else q.classList.toggle("ql-active",G[z]!=null)})}}]),L}(x.default);j.DEFAULTS={};function T(R,L,D){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+L),D!=null&&(F.value=D),R.appendChild(F)}function M(R,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(D){var F=document.createElement("span");F.classList.add("ql-formats"),D.forEach(function(G){if(typeof G=="string")T(F,G);else{var V=Object.keys(G)[0],X=G[V];Array.isArray(X)?A(F,V,X):T(F,V,X)}}),R.appendChild(F)})}function A(R,L,D){var F=document.createElement("select");F.classList.add("ql-"+L),D.forEach(function(G){var V=document.createElement("option");G!==!1?V.setAttribute("value",G):V.setAttribute("selected","selected"),F.appendChild(V)}),R.appendChild(F)}j.DEFAULTS={container:null,handlers:{clean:function(){var L=this,D=this.quill.getSelection();if(D!=null)if(D.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(G){v.default.query(G,v.default.Scope.INLINE)!=null&&L.quill.format(G,!1)})}else this.quill.removeFormat(D,c.default.sources.USER)},direction:function(L){var D=this.quill.getFormat().align;L==="rtl"&&D==null?this.quill.format("align","right",c.default.sources.USER):!L&&D==="right"&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",L,c.default.sources.USER)},indent:function(L){var D=this.quill.getSelection(),F=this.quill.getFormat(D),G=parseInt(F.indent||0);if(L==="+1"||L==="-1"){var V=L==="+1"?1:-1;F.direction==="rtl"&&(V*=-1),this.quill.format("indent",G+V,c.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,c.default.sources.USER)},list:function(L){var D=this.quill.getSelection(),F=this.quill.getFormat(D);L==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",L,c.default.sources.USER)}}},n.default=j,n.addControls=M},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(b,x){for(var p=0;p<x.length;p++){var m=x[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(b,m.key,m)}}return function(b,x,p){return x&&g(b.prototype,x),p&&g(b,p),b}}(),a=function g(b,x,p){b===null&&(b=Function.prototype);var m=Object.getOwnPropertyDescriptor(b,x);if(m===void 0){var _=Object.getPrototypeOf(b);return _===null?void 0:g(_,x,p)}else{if("value"in m)return m.value;var w=m.get;return w===void 0?void 0:w.call(p)}},s=i(28),l=f(s);function f(g){return g&&g.__esModule?g:{default:g}}function v(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function d(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function c(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var h=function(g){c(b,g);function b(x,p){v(this,b);var m=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x));return m.label.innerHTML=p,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),m}return o(b,[{key:"buildItem",value:function(p){var m=a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildItem",this).call(this,p);return m.style.backgroundColor=p.getAttribute("value")||"",m}},{key:"selectItem",value:function(p,m){a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,p,m);var _=this.label.querySelector(".ql-color-label"),w=p&&p.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=w:_.style.fill=w)}}]),b}(l.default);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(b,x){for(var p=0;p<x.length;p++){var m=x[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(b,m.key,m)}}return function(b,x,p){return x&&g(b.prototype,x),p&&g(b,p),b}}(),a=function g(b,x,p){b===null&&(b=Function.prototype);var m=Object.getOwnPropertyDescriptor(b,x);if(m===void 0){var _=Object.getPrototypeOf(b);return _===null?void 0:g(_,x,p)}else{if("value"in m)return m.value;var w=m.get;return w===void 0?void 0:w.call(p)}},s=i(28),l=f(s);function f(g){return g&&g.__esModule?g:{default:g}}function v(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function d(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function c(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var h=function(g){c(b,g);function b(x,p){v(this,b);var m=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=p[_.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return o(b,[{key:"selectItem",value:function(p,m){a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,p,m),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),b}(l.default);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function l(f,v){for(var d=0;d<v.length;d++){var c=v[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(f,v,d){return v&&l(f.prototype,v),d&&l(f,d),f}}();function a(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(f,v){var d=this;a(this,l),this.quill=f,this.boundsContainer=v||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var d=v.left+v.width/2-this.root.offsetWidth/2,c=v.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),b=0;if(g.right>h.right&&(b=h.right-g.right,this.root.style.left=d+b+"px"),g.left<h.left&&(b=h.left-g.left,this.root.style.left=d+b+"px"),g.bottom>h.bottom){var x=g.bottom-g.top,p=v.bottom-v.top+x;this.root.style.top=c-p+"px",this.root.classList.add("ql-flip")}return b}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function A(R,L){var D=[],F=!0,G=!1,V=void 0;try{for(var X=R[Symbol.iterator](),z;!(F=(z=X.next()).done)&&(D.push(z.value),!(L&&D.length===L));F=!0);}catch(q){G=!0,V=q}finally{try{!F&&X.return&&X.return()}finally{if(G)throw V}}return D}return function(R,L){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return A(R,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function A(R,L,D){R===null&&(R=Function.prototype);var F=Object.getOwnPropertyDescriptor(R,L);if(F===void 0){var G=Object.getPrototypeOf(R);return G===null?void 0:A(G,L,D)}else{if("value"in F)return F.value;var V=F.get;return V===void 0?void 0:V.call(D)}},s=function(){function A(R,L){for(var D=0;D<L.length;D++){var F=L[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}}return function(R,L,D){return L&&A(R.prototype,L),D&&A(R,D),R}}(),l=i(3),f=_(l),v=i(8),d=_(v),c=i(43),h=_(c),g=i(27),b=_(g),x=i(15),p=i(41),m=_(p);function _(A){return A&&A.__esModule?A:{default:A}}function w(A,R){if(!(A instanceof R))throw new TypeError("Cannot call a class as a function")}function S(A,R){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:A}function I(A,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);A.prototype=Object.create(R&&R.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(A,R):A.__proto__=R)}var j=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],T=function(A){I(R,A);function R(L,D){w(this,R),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=j);var F=S(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,L,D));return F.quill.container.classList.add("ql-snow"),F}return s(R,[{key:"extendToolbar",value:function(D){D.container.classList.add("ql-snow"),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),m.default),this.tooltip=new M(this.quill,this.options.bounds),D.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,G){D.handlers.link.call(D,!G.format.link)})}}]),R}(h.default);T.DEFAULTS=(0,f.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){if(R){var L=this.quill.getSelection();if(L==null||L.length==0)return;var D=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(D)&&D.indexOf("mailto:")!==0&&(D="mailto:"+D);var F=this.quill.theme.tooltip;F.edit("link",D)}else this.quill.format("link",!1)}}}}});var M=function(A){I(R,A);function R(L,D){w(this,R);var F=S(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,L,D));return F.preview=F.root.querySelector("a.ql-preview"),F}return s(R,[{key:"listen",value:function(){var D=this;a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){D.root.classList.contains("ql-editing")?D.save():D.edit("link",D.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(D.linkRange!=null){var G=D.linkRange;D.restoreFocus(),D.quill.formatText(G,"link",!1,d.default.sources.USER),delete D.linkRange}F.preventDefault(),D.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(F,G,V){if(F!=null){if(F.length===0&&V===d.default.sources.USER){var X=D.quill.scroll.descendant(b.default,F.index),z=o(X,2),q=z[0],P=z[1];if(q!=null){D.linkRange=new x.Range(F.index-P,q.length());var N=b.default.formats(q.domNode);D.preview.textContent=N,D.preview.setAttribute("href",N),D.show(),D.position(D.quill.getBounds(D.linkRange));return}}else delete D.linkRange;D.hide()}})}},{key:"show",value:function(){a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),R}(c.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=T},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(29),a=me(o),s=i(36),l=i(38),f=i(64),v=i(65),d=me(v),c=i(66),h=me(c),g=i(67),b=me(g),x=i(37),p=i(26),m=i(39),_=i(40),w=i(56),S=me(w),I=i(68),j=me(I),T=i(27),M=me(T),A=i(69),R=me(A),L=i(70),D=me(L),F=i(71),G=me(F),V=i(72),X=me(V),z=i(73),q=me(z),P=i(13),N=me(P),B=i(74),K=me(B),te=i(75),W=me(te),U=i(57),Q=me(U),ce=i(41),Z=me(ce),ve=i(28),Ne=me(ve),Se=i(59),Be=me(Se),Fe=i(60),Ke=me(Fe),Ge=i(61),at=me(Ge),pe=i(108),ge=me(pe),_e=i(62),be=me(_e);function me(De){return De&&De.__esModule?De:{default:De}}a.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":x.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":x.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":_.SizeStyle},!0),a.default.register({"formats/align":s.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":f.IndentClass,"formats/background":x.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":m.FontClass,"formats/size":_.SizeClass,"formats/blockquote":d.default,"formats/code-block":N.default,"formats/header":h.default,"formats/list":b.default,"formats/bold":S.default,"formats/code":P.Code,"formats/italic":j.default,"formats/link":M.default,"formats/script":R.default,"formats/strike":D.default,"formats/underline":G.default,"formats/image":X.default,"formats/video":q.default,"formats/list/item":g.ListItem,"modules/formula":K.default,"modules/syntax":W.default,"modules/toolbar":Q.default,"themes/bubble":ge.default,"themes/snow":be.default,"ui/icons":Z.default,"ui/picker":Ne.default,"ui/icon-picker":Ke.default,"ui/color-picker":Be.default,"ui/tooltip":at.default},!0),n.default=a.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var o=function(){function b(x,p){for(var m=0;m<p.length;m++){var _=p[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(x,_.key,_)}}return function(x,p,m){return p&&b(x.prototype,p),m&&b(x,m),x}}(),a=function b(x,p,m){x===null&&(x=Function.prototype);var _=Object.getOwnPropertyDescriptor(x,p);if(_===void 0){var w=Object.getPrototypeOf(x);return w===null?void 0:b(w,p,m)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(m)}},s=i(0),l=f(s);function f(b){return b&&b.__esModule?b:{default:b}}function v(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function d(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function c(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var h=function(b){c(x,b);function x(){return v(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"add",value:function(m,_){if(_==="+1"||_==="-1"){var w=this.value(m)||0;_=_==="+1"?w+1:w-1}return _===0?(this.remove(m),!0):a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"add",this).call(this,m,_)}},{key:"canAdd",value:function(m,_){return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,m,_)||a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,m,parseInt(_))}},{key:"value",value:function(m){return parseInt(a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,m))||void 0}}]),x}(l.default.Attributor.Class),g=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(4),a=s(o);function s(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function f(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function v(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=function(c){v(h,c);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(a.default);d.blotName="blockquote",d.tagName="blockquote",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function h(g,b){for(var x=0;x<b.length;x++){var p=b[x];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,p.key,p)}}return function(g,b,x){return b&&h(g.prototype,b),x&&h(g,x),g}}(),a=i(4),s=l(a);function l(h){return h&&h.__esModule?h:{default:h}}function f(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function v(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:h}function d(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}var c=function(h){d(g,h);function g(){return f(this,g),v(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"formats",value:function(x){return this.tagName.indexOf(x.tagName)+1}}]),g}(s.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],n.default=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var o=function(){function w(S,I){for(var j=0;j<I.length;j++){var T=I[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}return function(S,I,j){return I&&w(S.prototype,I),j&&w(S,j),S}}(),a=function w(S,I,j){S===null&&(S=Function.prototype);var T=Object.getOwnPropertyDescriptor(S,I);if(T===void 0){var M=Object.getPrototypeOf(S);return M===null?void 0:w(M,I,j)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(j)}},s=i(0),l=h(s),f=i(4),v=h(f),d=i(25),c=h(d);function h(w){return w&&w.__esModule?w:{default:w}}function g(w,S,I){return S in w?Object.defineProperty(w,S,{value:I,enumerable:!0,configurable:!0,writable:!0}):w[S]=I,w}function b(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function x(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function p(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var m=function(w){p(S,w);function S(){return b(this,S),x(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"format",value:function(j,T){j===_.blotName&&!T?this.replaceWith(l.default.create(this.statics.scope)):a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,j,T)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(j,T){return this.parent.isolate(this.offset(this.parent),this.length()),j===this.parent.statics.blotName?(this.parent.replaceWith(j,T),this):(this.parent.unwrap(),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,j,T))}}],[{key:"formats",value:function(j){return j.tagName===this.tagName?void 0:a(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,j)}}]),S}(v.default);m.blotName="list-item",m.tagName="LI";var _=function(w){p(S,w),o(S,null,[{key:"create",value:function(j){var T=j==="ordered"?"OL":"UL",M=a(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,T);return(j==="checked"||j==="unchecked")&&M.setAttribute("data-checked",j==="checked"),M}},{key:"formats",value:function(j){if(j.tagName==="OL")return"ordered";if(j.tagName==="UL")return j.hasAttribute("data-checked")?j.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(I){b(this,S);var j=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,I)),T=function(A){if(A.target.parentNode===I){var R=j.statics.formats(I),L=l.default.find(A.target);R==="checked"?L.format("list","unchecked"):R==="unchecked"&&L.format("list","checked")}};return I.addEventListener("touchstart",T),I.addEventListener("mousedown",T),j}return o(S,[{key:"format",value:function(j,T){this.children.length>0&&this.children.tail.format(j,T)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(j,T){if(j instanceof m)a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,j,T);else{var M=T==null?this.length():T.offset(this),A=this.split(M);A.parent.insertBefore(j,A)}}},{key:"optimize",value:function(j){a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,j);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&T.domNode.tagName===this.domNode.tagName&&T.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(T.moveChildren(this),T.remove())}},{key:"replace",value:function(j){if(j.statics.blotName!==this.statics.blotName){var T=l.default.create(this.statics.defaultChild);j.moveChildren(T),this.appendChild(T)}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,j)}}]),S}(c.default);_.blotName="list",_.scope=l.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[m],n.ListItem=m,n.default=_},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(56),a=s(o);function s(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function f(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function v(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=function(c){v(h,c);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(a.default);d.blotName="italic",d.tagName=["EM","I"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(b,x){for(var p=0;p<x.length;p++){var m=x[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(b,m.key,m)}}return function(b,x,p){return x&&g(b.prototype,x),p&&g(b,p),b}}(),a=function g(b,x,p){b===null&&(b=Function.prototype);var m=Object.getOwnPropertyDescriptor(b,x);if(m===void 0){var _=Object.getPrototypeOf(b);return _===null?void 0:g(_,x,p)}else{if("value"in m)return m.value;var w=m.get;return w===void 0?void 0:w.call(p)}},s=i(6),l=f(s);function f(g){return g&&g.__esModule?g:{default:g}}function v(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function d(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function c(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var h=function(g){c(b,g);function b(){return v(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),b}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),a=s(o);function s(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function f(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function v(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=function(c){v(h,c);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(a.default);d.blotName="strike",d.tagName="S",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),a=s(o);function s(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function f(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function v(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=function(c){v(h,c);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(a.default);d.blotName="underline",d.tagName="U",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function x(p,m){for(var _=0;_<m.length;_++){var w=m[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,m,_){return m&&x(p.prototype,m),_&&x(p,_),p}}(),a=function x(p,m,_){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,m);if(w===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:x(S,m,_)}else{if("value"in w)return w.value;var I=w.get;return I===void 0?void 0:I.call(_)}},s=i(0),l=v(s),f=i(27);function v(x){return x&&x.__esModule?x:{default:x}}function d(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function c(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function h(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var g=["alt","height","width"],b=function(x){h(p,x);function p(){return d(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(_,w){g.indexOf(_)>-1?w?this.domNode.setAttribute(_,w):this.domNode.removeAttribute(_):a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,_,w)}}],[{key:"create",value:function(_){var w=a(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,_);return typeof _=="string"&&w.setAttribute("src",this.sanitize(_)),w}},{key:"formats",value:function(_){return g.reduce(function(w,S){return _.hasAttribute(S)&&(w[S]=_.getAttribute(S)),w},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,f.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),p}(l.default.Embed);b.blotName="image",b.tagName="IMG",n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function x(p,m){for(var _=0;_<m.length;_++){var w=m[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,m,_){return m&&x(p.prototype,m),_&&x(p,_),p}}(),a=function x(p,m,_){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,m);if(w===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:x(S,m,_)}else{if("value"in w)return w.value;var I=w.get;return I===void 0?void 0:I.call(_)}},s=i(4),l=i(27),f=v(l);function v(x){return x&&x.__esModule?x:{default:x}}function d(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function c(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function h(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var g=["height","width"],b=function(x){h(p,x);function p(){return d(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(_,w){g.indexOf(_)>-1?w?this.domNode.setAttribute(_,w):this.domNode.removeAttribute(_):a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,_,w)}}],[{key:"create",value:function(_){var w=a(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,_);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(_)),w}},{key:"formats",value:function(_){return g.reduce(function(w,S){return _.hasAttribute(S)&&(w[S]=_.getAttribute(S)),w},{})}},{key:"sanitize",value:function(_){return f.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),p}(s.BlockEmbed);b.blotName="video",b.className="ql-video",b.tagName="IFRAME",n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var o=function(){function _(w,S){for(var I=0;I<S.length;I++){var j=S[I];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,S,I){return S&&_(w.prototype,S),I&&_(w,I),w}}(),a=function _(w,S,I){w===null&&(w=Function.prototype);var j=Object.getOwnPropertyDescriptor(w,S);if(j===void 0){var T=Object.getPrototypeOf(w);return T===null?void 0:_(T,S,I)}else{if("value"in j)return j.value;var M=j.get;return M===void 0?void 0:M.call(I)}},s=i(35),l=h(s),f=i(5),v=h(f),d=i(9),c=h(d);function h(_){return _&&_.__esModule?_:{default:_}}function g(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function b(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function x(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var p=function(_){x(w,_);function w(){return g(this,w),b(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,null,[{key:"create",value:function(I){var j=a(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,I);return typeof I=="string"&&(window.katex.render(I,j,{throwOnError:!1,errorColor:"#f00"}),j.setAttribute("data-value",I)),j}},{key:"value",value:function(I){return I.getAttribute("data-value")}}]),w}(l.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var m=function(_){x(w,_),o(w,null,[{key:"register",value:function(){v.default.register(p,!0)}}]);function w(){g(this,w);var S=b(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return w}(c.default);n.FormulaBlot=p,n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var o=function(){function I(j,T){for(var M=0;M<T.length;M++){var A=T[M];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,A.key,A)}}return function(j,T,M){return T&&I(j.prototype,T),M&&I(j,M),j}}(),a=function I(j,T,M){j===null&&(j=Function.prototype);var A=Object.getOwnPropertyDescriptor(j,T);if(A===void 0){var R=Object.getPrototypeOf(j);return R===null?void 0:I(R,T,M)}else{if("value"in A)return A.value;var L=A.get;return L===void 0?void 0:L.call(M)}},s=i(0),l=b(s),f=i(5),v=b(f),d=i(9),c=b(d),h=i(13),g=b(h);function b(I){return I&&I.__esModule?I:{default:I}}function x(I,j){if(!(I instanceof j))throw new TypeError("Cannot call a class as a function")}function p(I,j){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:I}function m(I,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);I.prototype=Object.create(j&&j.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(I,j):I.__proto__=j)}var _=function(I){m(j,I);function j(){return x(this,j),p(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return o(j,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),a(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),j}(g.default);_.className="ql-syntax";var w=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=function(I){m(j,I),o(j,null,[{key:"register",value:function(){v.default.register(w,!0),v.default.register(_,!0)}}]);function j(T,M){x(this,j);var A=p(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,T,M));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var R=null;return A.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(R),R=setTimeout(function(){A.highlight(),R=null},A.options.interval)}),A.highlight(),A}return o(j,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(R){R.highlight(M.options.highlight)}),this.quill.update(v.default.sources.SILENT),A!=null&&this.quill.setSelection(A,v.default.sources.SILENT)}}}]),j}(c.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(I){var j=window.hljs.highlightAuto(I);return j.value}}(),interval:1e3},n.CodeBlock=_,n.CodeToken=w,n.default=S},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var o=function j(T,M,A){T===null&&(T=Function.prototype);var R=Object.getOwnPropertyDescriptor(T,M);if(R===void 0){var L=Object.getPrototypeOf(T);return L===null?void 0:j(L,M,A)}else{if("value"in R)return R.value;var D=R.get;return D===void 0?void 0:D.call(A)}},a=function(){function j(T,M){for(var A=0;A<M.length;A++){var R=M[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}}return function(T,M,A){return M&&j(T.prototype,M),A&&j(T,A),T}}(),s=i(3),l=x(s),f=i(8),v=x(f),d=i(43),c=x(d),h=i(15),g=i(41),b=x(g);function x(j){return j&&j.__esModule?j:{default:j}}function p(j,T){if(!(j instanceof T))throw new TypeError("Cannot call a class as a function")}function m(j,T){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:j}function _(j,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);j.prototype=Object.create(T&&T.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(j,T):j.__proto__=T)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(j){_(T,j);function T(M,A){p(this,T),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=w);var R=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,M,A));return R.quill.container.classList.add("ql-bubble"),R}return a(T,[{key:"extendToolbar",value:function(A){this.tooltip=new I(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),b.default)}}]),T}(c.default);S.DEFAULTS=(0,l.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var I=function(j){_(T,j);function T(M,A){p(this,T);var R=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,M,A));return R.quill.on(v.default.events.EDITOR_CHANGE,function(L,D,F,G){if(L===v.default.events.SELECTION_CHANGE)if(D!=null&&D.length>0&&G===v.default.sources.USER){R.show(),R.root.style.left="0px",R.root.style.width="",R.root.style.width=R.root.offsetWidth+"px";var V=R.quill.getLines(D.index,D.length);if(V.length===1)R.position(R.quill.getBounds(D));else{var X=V[V.length-1],z=R.quill.getIndex(X),q=Math.min(X.length()-1,D.index+D.length-z),P=R.quill.getBounds(new h.Range(z,q));R.position(P)}}else document.activeElement!==R.textbox&&R.quill.hasFocus()&&R.hide()}),R}return a(T,[{key:"listen",value:function(){var A=this;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var R=A.quill.getSelection();R!=null&&A.position(A.quill.getBounds(R))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var R=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"position",this).call(this,A),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",R===0)return R;L.style.marginLeft=-1*R-L.offsetWidth/2+"px"}}]),T}(d.BaseTooltip);I.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=I,n.default=S},function(r,n,i){r.exports=i(63)}]).default})})(Y0);var uA=Y0.exports,cA=Et&&Et.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jl=Et&&Et.__assign||function(){return Jl=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jl.apply(this,arguments)},fA=Et&&Et.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n},Lu=Et&&Et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},qr=Lu(he),dA=Lu(h0),aa=Lu(lA),Em=Lu(uA),hA=function(t){cA(e,t);function e(r){var n=t.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(o,a,s,l){var f,v,d,c;o==="text-change"?(v=(f=n).onEditorChangeText)===null||v===void 0||v.call(f,n.editor.root.innerHTML,a,l,n.unprivilegedEditor):o==="selection-change"&&((c=(d=n).onEditorChangeSelection)===null||c===void 0||c.call(d,a,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i!=null?i:"",n}return e.prototype.validateProps=function(r){var n;if(qr.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(qr.default.Children.count(r.children)){var i=qr.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(r,n){var i=this,o;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var a=this.getEditorContents(),s=(o=r.value,o!=null?o:"");this.isEqualValue(s,a)||this.setEditorContents(this.editor,s)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),fA(this.cleanProps,this.dirtyProps).some(function(l){return!aa.default(r[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!aa.default(r[i],n.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var o=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var s=this.regenerationSnapshot,o=s.delta,l=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var f=this.editor;f.setContents(o),Sm(function(){return i.setEditorSelection(f,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(r,n){var i=new Em.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(r){return r&&r.ops},e.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?aa.default(r.ops,n.ops):aa.default(r,n)},e.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var o=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),Sm(function(){return i.setEditorSelection(r,o)})},e.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},e.prototype.setEditorTabIndex=function(r,n){var i,o;!((o=(i=r)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(r.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},e.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=dA.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},e.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,o=n.preserveWhitespace,a=this.state.generation,s={key:a,ref:function(l){r.editingArea=l}};return qr.default.Children.count(i)?qr.default.cloneElement(qr.default.Children.only(i),s):o?qr.default.createElement("pre",Jl({},s)):qr.default.createElement("div",Jl({},s))},e.prototype.render=function(){var r;return qr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r!=null?r:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(r,n,i,o){var a,s;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(s=(a=this.props).onChange)===null||s===void 0||s.call(a,r,n,i,o))}},e.prototype.onEditorChangeSelection=function(r,n,i){var o,a,s,l,f,v;if(this.editor){var d=this.getEditorSelection(),c=!d&&r,h=d&&!r;aa.default(r,d)||(this.selection=r,(a=(o=this.props).onChangeSelection)===null||a===void 0||a.call(o,r,n,i),c?(l=(s=this.props).onFocus)===null||l===void 0||l.call(s,r,n,i):h&&((v=(f=this.props).onBlur)===null||v===void 0||v.call(f,d,n,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=Em.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(qr.default.Component);function Sm(t){Promise.resolve().then(t)}var pA=hA;const vA=lu(pA);function Om(t,e,r,n,i,o,a){try{var s=t[o](a),l=s.value}catch(f){r(f);return}s.done?e(l):Promise.resolve(l).then(n,i)}function mA(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(l){Om(o,n,i,a,s,"next",l)}function s(l){Om(o,n,i,a,s,"throw",l)}a(void 0)})}}function ki(){return ki=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ki.apply(this,arguments)}var Q0={exports:{}};(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o,a=typeof Symbol=="function"?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function v(z,q,P){return Object.defineProperty(z,q,{value:P,enumerable:!0,configurable:!0,writable:!0}),z[q]}try{v({},"")}catch(z){v=function(q,P,N){return q[P]=N}}function d(z,q,P,N){var B=q&&q.prototype instanceof m?q:m,K=Object.create(B.prototype),te=new G(N||[]);return K._invoke=R(z,P,te),K}r.wrap=d;function c(z,q,P){try{return{type:"normal",arg:z.call(q,P)}}catch(N){return{type:"throw",arg:N}}}var h="suspendedStart",g="suspendedYield",b="executing",x="completed",p={};function m(){}function _(){}function w(){}var S={};v(S,s,function(){return this});var I=Object.getPrototypeOf,j=I&&I(I(V([])));j&&j!==n&&i.call(j,s)&&(S=j);var T=w.prototype=m.prototype=Object.create(S);_.prototype=w,v(T,"constructor",w),v(w,"constructor",_),_.displayName=v(w,f,"GeneratorFunction");function M(z){["next","throw","return"].forEach(function(q){v(z,q,function(P){return this._invoke(q,P)})})}r.isGeneratorFunction=function(z){var q=typeof z=="function"&&z.constructor;return q?q===_||(q.displayName||q.name)==="GeneratorFunction":!1},r.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,w):(z.__proto__=w,v(z,f,"GeneratorFunction")),z.prototype=Object.create(T),z},r.awrap=function(z){return{__await:z}};function A(z,q){function P(K,te,W,U){var Q=c(z[K],z,te);if(Q.type==="throw")U(Q.arg);else{var ce=Q.arg,Z=ce.value;return Z&&typeof Z=="object"&&i.call(Z,"__await")?q.resolve(Z.__await).then(function(ve){P("next",ve,W,U)},function(ve){P("throw",ve,W,U)}):q.resolve(Z).then(function(ve){ce.value=ve,W(ce)},function(ve){return P("throw",ve,W,U)})}}var N;function B(K,te){function W(){return new q(function(U,Q){P(K,te,U,Q)})}return N=N?N.then(W,W):W()}this._invoke=B}M(A.prototype),v(A.prototype,l,function(){return this}),r.AsyncIterator=A,r.async=function(z,q,P,N,B){B===void 0&&(B=Promise);var K=new A(d(z,q,P,N),B);return r.isGeneratorFunction(q)?K:K.next().then(function(te){return te.done?te.value:K.next()})};function R(z,q,P){var N=h;return function(K,te){if(N===b)throw new Error("Generator is already running");if(N===x){if(K==="throw")throw te;return X()}for(P.method=K,P.arg=te;;){var W=P.delegate;if(W){var U=L(W,P);if(U){if(U===p)continue;return U}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(N===h)throw N=x,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);N=b;var Q=c(z,q,P);if(Q.type==="normal"){if(N=P.done?x:g,Q.arg===p)continue;return{value:Q.arg,done:P.done}}else Q.type==="throw"&&(N=x,P.method="throw",P.arg=Q.arg)}}}function L(z,q){var P=z.iterator[q.method];if(P===o){if(q.delegate=null,q.method==="throw"){if(z.iterator.return&&(q.method="return",q.arg=o,L(z,q),q.method==="throw"))return p;q.method="throw",q.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var N=c(P,z.iterator,q.arg);if(N.type==="throw")return q.method="throw",q.arg=N.arg,q.delegate=null,p;var B=N.arg;if(!B)return q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,p;if(B.done)q[z.resultName]=B.value,q.next=z.nextLoc,q.method!=="return"&&(q.method="next",q.arg=o);else return B;return q.delegate=null,p}M(T),v(T,f,"Generator"),v(T,s,function(){return this}),v(T,"toString",function(){return"[object Generator]"});function D(z){var q={tryLoc:z[0]};1 in z&&(q.catchLoc=z[1]),2 in z&&(q.finallyLoc=z[2],q.afterLoc=z[3]),this.tryEntries.push(q)}function F(z){var q=z.completion||{};q.type="normal",delete q.arg,z.completion=q}function G(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(D,this),this.reset(!0)}r.keys=function(z){var q=[];for(var P in z)q.push(P);return q.reverse(),function N(){for(;q.length;){var B=q.pop();if(B in z)return N.value=B,N.done=!1,N}return N.done=!0,N}};function V(z){if(z){var q=z[s];if(q)return q.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var P=-1,N=function B(){for(;++P<z.length;)if(i.call(z,P))return B.value=z[P],B.done=!1,B;return B.value=o,B.done=!0,B};return N.next=N}}return{next:X}}r.values=V;function X(){return{value:o,done:!0}}return G.prototype={constructor:G,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(F),!z)for(var q in this)q.charAt(0)==="t"&&i.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=o)},stop:function(){this.done=!0;var z=this.tryEntries[0],q=z.completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var q=this;function P(U,Q){return K.type="throw",K.arg=z,q.next=U,Q&&(q.method="next",q.arg=o),!!Q}for(var N=this.tryEntries.length-1;N>=0;--N){var B=this.tryEntries[N],K=B.completion;if(B.tryLoc==="root")return P("end");if(B.tryLoc<=this.prev){var te=i.call(B,"catchLoc"),W=i.call(B,"finallyLoc");if(te&&W){if(this.prev<B.catchLoc)return P(B.catchLoc,!0);if(this.prev<B.finallyLoc)return P(B.finallyLoc)}else if(te){if(this.prev<B.catchLoc)return P(B.catchLoc,!0)}else if(W){if(this.prev<B.finallyLoc)return P(B.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(z,q){for(var P=this.tryEntries.length-1;P>=0;--P){var N=this.tryEntries[P];if(N.tryLoc<=this.prev&&i.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var B=N;break}}B&&(z==="break"||z==="continue")&&B.tryLoc<=q&&q<=B.finallyLoc&&(B=null);var K=B?B.completion:{};return K.type=z,K.arg=q,B?(this.method="next",this.next=B.finallyLoc,p):this.complete(K)},complete:function(z,q){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&q&&(this.next=q),p},finish:function(z){for(var q=this.tryEntries.length-1;q>=0;--q){var P=this.tryEntries[q];if(P.finallyLoc===z)return this.complete(P.completion,P.afterLoc),F(P),p}},catch:function(z){for(var q=this.tryEntries.length-1;q>=0;--q){var P=this.tryEntries[q];if(P.tryLoc===z){var N=P.completion;if(N.type==="throw"){var B=N.arg;F(P)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(z,q,P){return this.delegate={iterator:V(z),resultName:q,nextLoc:P},this.method==="next"&&(this.arg=o),p}},r}(t.exports);try{regeneratorRuntime=e}catch(r){typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Q0);var Tm=Q0.exports,J0=function(e){var r=e.paths,n=e.id,i=e.strokeWidth,o=e.strokeColor,a=e.command,s=a===void 0?X0:a;if(r.length===1){var l=r[0],f=l.x,v=l.y,d=i/2;return he.createElement("circle",{key:n,id:n,cx:f,cy:v,r:d,stroke:o,fill:o})}var c=r.reduce(function(h,g,b,x){return b===0?"M "+g.x+","+g.y:h+" "+s(g,b,x)},"");return he.createElement("path",{key:n,id:n,d:c,fill:"none",strokeLinecap:"round",stroke:o,strokeWidth:i})},yA=function(e,r){var n=r.x-e.x,i=r.y-e.y;return{length:Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),angle:Math.atan2(i,n)}},Hs=function(e){var r=e.current,n=e.next,i=e.previous,o=e.reverse,a=i||r,s=n||r,l=.2,f=yA(a,s),v=f.angle+(o?Math.PI:0),d=f.length*l,c=r.x+Math.cos(v)*d,h=r.y+Math.sin(v)*d;return[c,h]},X0=function(e,r,n){var i=null,o=null;switch(r){case 0:var a=Hs({current:e});i=a[0],o=a[1];break;case 1:var s=Hs({current:n[r-1],next:e});i=s[0],o=s[1];break;default:var l=Hs({current:n[r-1],previous:n[r-2],next:e});i=l[0],o=l[1];break}var f=Hs({current:e,previous:n[r-1],next:n[r+1],reverse:!0}),v=f[0],d=f[1];return"C "+i+","+o+" "+v+","+d+" "+e.x+", "+e.y},gA=function(e){var r=e.id,n=e.paths;return he.createElement(he.Fragment,null,n.map(function(i,o){return he.createElement(J0,{key:r+"__"+o,paths:i.paths,id:r+"__"+o,strokeWidth:i.strokeWidth,strokeColor:i.strokeColor,command:X0})}))},jm=function(e){return new Promise(function(r,n){var i=new Image;i.addEventListener("load",function(){i.width>0&&r(i),n("Image not found")}),i.addEventListener("error",function(o){return n(o)}),i.src=e,i.setAttribute("crossorigin","anonymous")})};function Nm(t){var e,r=(e=t.firstChild)==null?void 0:e.cloneNode(!0),n=t.offsetWidth,i=t.offsetHeight;return r.setAttribute("viewBox","0 0 "+n+" "+i),r.setAttribute("width",n.toString()),r.setAttribute("height",i.toString()),{svgCanvas:r,width:n,height:i}}var wA=he.forwardRef(function(t,e){var r=t.paths,n=t.isDrawing,i=t.onPointerDown,o=t.onPointerMove,a=t.onPointerUp,s=t.id,l=s===void 0?"react-sketch-canvas":s,f=t.width,v=f===void 0?"100%":f,d=t.height,c=d===void 0?"100%":d,h=t.className,g=h===void 0?"react-sketch-canvas":h,b=t.canvasColor,x=b===void 0?"red":b,p=t.backgroundImage,m=p===void 0?"":p,_=t.exportWithBackgroundImage,w=_===void 0?!1:_,S=t.preserveBackgroundImageAspectRatio,I=S===void 0?"none":S,j=t.allowOnlyPointerType,T=j===void 0?"all":j,M=t.style,A=M===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:M,R=t.svgStyle,L=R===void 0?{}:R,D=he.useRef(null),F=function(B){var K,te,W,U=(K=D.current)==null?void 0:K.getBoundingClientRect(),Q=(te=window.scrollX)!=null?te:0,ce=(W=window.scrollY)!=null?W:0;if(!U)return{x:0,y:0};var Z={x:B.pageX-U.left-Q,y:B.pageY-U.top-ce};return Z},G=function(B){if(!(T!=="all"&&B.pointerType!==T)&&!(B.pointerType==="mouse"&&B.button!==0)){var K=F(B);i(K)}},V=function(B){if(n&&!(T!=="all"&&B.pointerType!==T)){var K=F(B);o(K)}},X=function(B){B.pointerType==="mouse"&&B.button!==0||T!=="all"&&B.pointerType!==T||a()};he.useImperativeHandle(e,function(){return{exportImage:function(B){return new Promise(function(){var K=mA(Tm.mark(function te(W,U){var Q,ce,Z,ve,Ne,Se,Be,Fe;return Tm.wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:if(Ge.prev=0,Q=D.current,Q){Ge.next=4;break}throw Error("Canvas not rendered yet");case 4:return ce=Nm(Q),Z=ce.svgCanvas,ve=ce.width,Ne=ce.height,Se="data:image/svg+xml;base64,"+btoa(Z.outerHTML),Ge.next=8,jm(Se);case 8:if(Ge.t0=Ge.sent,Be=[Ge.t0],!w){Ge.next=21;break}return Ge.prev=11,Ge.next=14,jm(m);case 14:Fe=Ge.sent,Be.push(Fe),Ge.next=21;break;case 18:Ge.prev=18,Ge.t1=Ge.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(Be).then(function(at){var pe=document.createElement("canvas");pe.setAttribute("width",ve.toString()),pe.setAttribute("height",Ne.toString());var ge=pe.getContext("2d");if(!ge)throw Error("Canvas not rendered yet");at.reverse().forEach(function(_e){ge.drawImage(_e,0,0)}),W(pe.toDataURL("image/"+B))}).catch(function(at){throw at}),Ge.next=27;break;case 24:Ge.prev=24,Ge.t2=Ge.catch(0),U(Ge.t2);case 27:case"end":return Ge.stop()}},te,null,[[0,24],[11,18]])}));return function(te,W){return K.apply(this,arguments)}}())},exportSvg:function(){return new Promise(function(B,K){try{var te,W=(te=D.current)!=null?te:null;if(W!==null){var U,Q,ce=Nm(W),Z=ce.svgCanvas;if(w){B(Z.outerHTML);return}(U=Z.querySelector("#"+l+"__background"))==null||U.remove(),(Q=Z.querySelector("#"+l+"__canvas-background"))==null||Q.setAttribute("fill",x),B(Z.outerHTML)}K(new Error("Canvas not loaded"))}catch(ve){K(ve)}})}}}),he.useEffect(function(){return document.addEventListener("pointerup",X),function(){document.removeEventListener("pointerup",X)}},[X]);var z=r.filter(function(N){return!N.drawMode}),q=0,P=r.reduce(function(N,B){return B.drawMode?(N[q]===void 0&&(N[q]=[]),N[q].push(B),N):(q+=1,N)},[[]]);return he.createElement("div",{role:"presentation",ref:D,className:g,style:ki({touchAction:"none",width:v,height:c},A),"touch-action":"none",onPointerDown:G,onPointerMove:V,onPointerUp:X},he.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:ki({width:"100%",height:"100%"},L),id:l},he.createElement("g",{id:l+"__eraser-stroke-group",display:"none"},he.createElement("rect",{id:l+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),z.map(function(N,B){return he.createElement(J0,{key:l+"__eraser-"+B,id:l+"__eraser-"+B,paths:N.paths,strokeColor:"#000000",strokeWidth:N.strokeWidth})})),he.createElement("defs",null,m&&he.createElement("pattern",{id:l+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},he.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:m,preserveAspectRatio:I})),z.map(function(N,B){return he.createElement("mask",{id:l+"__eraser-mask-"+B,key:l+"__eraser-mask-"+B,maskUnits:"userSpaceOnUse"},he.createElement("use",{href:"#"+l+"__mask-background"}),Array.from({length:z.length-B},function(K,te){return te+B}).map(function(K){return he.createElement("use",{key:K.toString(),href:"#"+l+"__eraser-"+K.toString()})}))})),he.createElement("g",{id:l+"__canvas-background-group"},he.createElement("rect",{id:l+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:m?"url(#"+l+"__background)":x})),P.map(function(N,B){return he.createElement("g",{id:l+"__stroke-group-"+B,key:l+"__stroke-group-"+B,mask:"url(#"+l+"__eraser-mask-"+B+")"},he.createElement(gA,{id:l,paths:N}))})))}),bA=he.forwardRef(function(t,e){var r=t.id,n=r===void 0?"react-sketch-canvas":r,i=t.width,o=i===void 0?"100%":i,a=t.height,s=a===void 0?"100%":a,l=t.className,f=l===void 0?"":l,v=t.canvasColor,d=v===void 0?"white":v,c=t.strokeColor,h=c===void 0?"red":c,g=t.backgroundImage,b=g===void 0?"":g,x=t.exportWithBackgroundImage,p=x===void 0?!1:x,m=t.preserveBackgroundImageAspectRatio,_=m===void 0?"none":m,w=t.strokeWidth,S=w===void 0?4:w,I=t.eraserWidth,j=I===void 0?8:I,T=t.allowOnlyPointerType,M=T===void 0?"all":T,A=t.style,R=A===void 0?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:A,L=t.svgStyle,D=L===void 0?{}:L,F=t.onChange,G=F===void 0?function(_e){}:F,V=t.onStroke,X=V===void 0?function(_e,be){}:V,z=t.withTimestamp,q=z===void 0?!1:z,P=he.createRef(),N=he.useState(!0),B=N[0],K=N[1],te=he.useState(!1),W=te[0],U=te[1],Q=he.useState([]),ce=Q[0],Z=Q[1],ve=he.useState([]),Ne=ve[0],Se=ve[1],Be=he.useState([]),Fe=Be[0],Ke=Be[1],Ge=he.useCallback(function(){var _e,be,me=(_e=(be=Fe.slice(-1))==null?void 0:be[0])!=null?_e:null;if(me===null){console.warn("No stroke found!");return}X(me,!me.drawMode)},[W]);he.useEffect(function(){Ge()},[W]),he.useEffect(function(){G(Fe)},[Fe]),he.useImperativeHandle(e,function(){return{eraseMode:function(be){K(!be)},clearCanvas:function(){Z([].concat(Fe)),Ke([])},undo:function(){if(ce.length!==0){Ke([].concat(ce)),Z([]);return}Se(function(be){return[].concat(be,Fe.slice(-1))}),Ke(function(be){return be.slice(0,-1)})},redo:function(){Ne.length!==0&&(Ke(function(be){return[].concat(be,Ne.slice(-1))}),Se(function(be){return be.slice(0,-1)}))},exportImage:function(be){var me,De=(me=P.current)==null?void 0:me.exportImage;if(De)return De(be);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise(function(be,me){var De,qe=(De=P.current)==null?void 0:De.exportSvg;qe?qe().then(function(Ue){be(Ue)}).catch(function(Ue){me(Ue)}):me(Error("Export function called before canvas loaded"))})},exportPaths:function(){return new Promise(function(be,me){try{be(Fe)}catch(De){me(De)}})},loadPaths:function(be){Ke(function(me){return[].concat(me,be)})},getSketchingTime:function(){return new Promise(function(be,me){q||me(new Error("Set 'withTimestamp' prop to get sketching time"));try{var De=Fe.reduce(function(qe,Ue){var yt,Ot,nt=(yt=Ue.startTimestamp)!=null?yt:0,Gr=(Ot=Ue.endTimestamp)!=null?Ot:0;return qe+(Gr-nt)},0);be(De)}catch(qe){me(qe)}})},resetCanvas:function(){Z([]),Se([]),Ke([])}}});var at=function(be){U(!0),Se([]);var me={drawMode:B,strokeColor:B?h:"#000000",strokeWidth:B?S:j,paths:[be]};q&&(me=ki({},me,{startTimestamp:Date.now(),endTimestamp:0})),Ke(function(De){return[].concat(De,[me])})},pe=function(be){if(W){var me=Fe.slice(-1)[0],De=ki({},me,{paths:[].concat(me.paths,[be])});Ke(function(qe){return[].concat(qe.slice(0,-1),[De])})}},ge=function(){var be,me;if(W&&(U(!1),!!q)){var De=(be=(me=Fe.slice(-1))==null?void 0:me[0])!=null?be:null;if(De!==null){var qe=ki({},De,{endTimestamp:Date.now()});Ke(function(Ue){return[].concat(Ue.slice(0,-1),[qe])})}}};return he.createElement(wA,{ref:P,id:n,width:o,height:s,className:f,canvasColor:d,backgroundImage:b,exportWithBackgroundImage:p,preserveBackgroundImageAspectRatio:_,allowOnlyPointerType:M,style:R,svgStyle:D,paths:Fe,isDrawing:W,onPointerDown:at,onPointerMove:pe,onPointerUp:ge})});const _A=["#ef5350","#ec407a","#ab47bc","#7e57c2","#5c6bc0","#42a5f5","#29b6f6","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043"],xA=["Never","Daily","Weekly","Bi-weekly","Monthly"],Pm=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],tf={event:"#26a69a",task:"#42a5f5",habit:"#ab47bc"},kA=({onAdd:t,onDelete:e,currentDate:r,initialData:n,onBack:i})=>{const o=(n==null?void 0:n.category)||"event",[a,s]=he.useState(o),[l,f]=he.useState(Ce({category:o,subject:"",type:"",building:"",room:"",teacher:"",repeat:"Weekly",repeatDay:r?Pm[r.getDay()===0?6:r.getDay()-1]:"Monday",startTime:"08:30",endTime:"09:15",duration:60,deadline:"",priority:"Medium",preferredWindow:"09:00",flexible:!0,color:tf[o]||tf.event,reminders:[],links:[],notes:{text:"",drawing:null},date:(n==null?void 0:n.date)||(r?r.toISOString().split("T")[0]:new Date().toISOString().split("T")[0])},n)),[v,d]=he.useState(!1),[c,h]=he.useState(!1),[g,b]=he.useState(""),[x,p]=he.useState(!1),[m,_]=he.useState(!1),[w,S]=he.useState(""),[I,j]=he.useState("text"),T=he.useRef(null),M=he.useRef(null),[A,R]=he.useState("details"),L=()=>{if(!g||isNaN(g)){Ze.error("Please enter a valid number");return}f(P=>We(Ce({},P),{reminders:[...P.reminders,{label:`${g} min before`,time:parseInt(g)}]})),b(""),h(!1)},D=P=>{f(N=>We(Ce({},N),{reminders:N.reminders.filter((B,K)=>K!==P)}))},F=()=>{w&&(f(P=>We(Ce({},P),{links:[...P.links,w]})),S(""),_(!1))},G=P=>{f(N=>We(Ce({},N),{notes:We(Ce({},N.notes),{text:P})}))},V=()=>Y(void 0,null,function*(){if(T.current){const P=yield T.current.exportPaths();f(N=>We(Ce({},N),{notes:We(Ce({},N.notes),{drawing:P})}))}}),X=()=>{n&&e&&e(n.id)},z=P=>{const{name:N,value:B,type:K,checked:te}=P.target;f(W=>We(Ce({},W),{[N]:K==="checkbox"?te:B}))},q=P=>{if(P.preventDefault(),!l.subject.trim()){Ze.error("Please enter a subject");return}t(l,n==null?void 0:n.id)};return E.jsxs("div",{className:"flex flex-col h-full bg-background animate-slide-in",children:[E.jsxs("div",{className:"flex flex-col bg-background/95 backdrop-blur-xl sticky top-0 z-20 border-b border-white/5",children:[E.jsxs("div",{className:"flex items-center justify-between p-6 pb-2",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:i,className:"p-2 -ml-2 rounded-full hover:bg-white/5 text-textMuted hover:text-white transition-colors active:scale-95",children:E.jsx(_o,{size:24})}),E.jsxs("h2",{className:"text-2xl font-black text-white tracking-tight",children:[n?"Edit":"New"," ",a==="task"?"Assignment":a.charAt(0).toUpperCase()+a.slice(1)]})]}),n&&E.jsx("button",{onClick:X,className:"p-2 rounded-full bg-error/10 text-error hover:bg-error/20 transition-colors active:scale-95",children:E.jsx(ad,{size:20})})]}),E.jsx("div",{className:"flex px-6 pb-4 gap-4",children:["details","links","notes"].map(P=>E.jsx("button",{onClick:()=>R(P),className:`flex-1 py-3 rounded-xl text-sm font-bold uppercase tracking-wider transition-all active:scale-95 ${A===P?"bg-white/10 text-white":"bg-transparent text-textMuted hover:bg-white/5 hover:text-white"}`,children:P==="links"?`Links (${l.links.length})`:P.charAt(0).toUpperCase()+P.slice(1)},P))})]}),!n&&A==="details"&&E.jsx("div",{className:"flex p-4 gap-2 overflow-x-auto no-scrollbar border-b border-white/5 bg-white/[0.02]",children:[{id:"event",label:"Event"},{id:"task",label:"Assignment"},{id:"habit",label:"Habit"}].map(P=>E.jsx("button",{onClick:()=>{s(P.id),f(N=>We(Ce({},N),{category:P.id,color:tf[P.id]}))},className:`px-6 py-2.5 rounded-full text-sm font-bold uppercase tracking-wider transition-all whitespace-nowrap active:scale-95 ${a===P.id?"bg-accent text-black shadow-lg shadow-accent/20 scale-105":"bg-white/5 text-textMuted hover:bg-white/10 hover:text-white"}`,children:P.label},P.id))}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 no-scrollbar",children:[A==="details"&&E.jsxs("div",{className:"space-y-8 animate-fade-in",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:a==="habit"?"Habit Name":"Subject"}),E.jsx("input",{type:"text",name:"subject",value:l.subject,onChange:z,className:"w-full bg-card border border-white/10 rounded-2xl p-5 text-white placeholder-white/20 focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent transition-all text-xl font-bold shadow-sm",autoFocus:!0})]}),a==="event"&&E.jsxs(E.Fragment,{children:[l.repeat==="Never"&&E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Date"}),E.jsx("input",{type:"date",name:"date",value:l.date,onChange:z,className:"w-full bg-card border border-white/10 rounded-xl p-4 text-white focus:outline-none focus:border-accent transition-colors font-medium"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Start Time"}),E.jsx("input",{type:"time",name:"startTime",value:l.startTime,onChange:z,className:"w-full bg-card border border-white/10 rounded-xl p-4 text-white focus:outline-none focus:border-accent transition-colors font-medium"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"End Time"}),E.jsx("input",{type:"time",name:"endTime",value:l.endTime,onChange:z,className:"w-full bg-card border border-white/10 rounded-xl p-4 text-white focus:outline-none focus:border-accent transition-colors font-medium"})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Location"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"text",name:"building",value:l.building,onChange:z,placeholder:"Building",className:"w-full bg-card border border-white/10 rounded-xl p-4 text-white placeholder-white/20 focus:outline-none focus:border-accent transition-colors"}),E.jsx("input",{type:"text",name:"room",value:l.room,onChange:z,placeholder:"Room",className:"w-full bg-card border border-white/10 rounded-xl p-4 text-white placeholder-white/20 focus:outline-none focus:border-accent transition-colors"})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Details"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"text",name:"teacher",value:l.teacher,onChange:z,placeholder:"Teacher",className:"w-full bg-card border border-white/10 rounded-xl p-4 text-white placeholder-white/20 focus:outline-none focus:border-accent transition-colors"}),E.jsx("input",{type:"text",name:"type",value:l.type,onChange:z,placeholder:"Type (e.g. Lecture)",className:"w-full bg-card border border-white/10 rounded-xl p-4 text-white placeholder-white/20 focus:outline-none focus:border-accent transition-colors"})]})]}),E.jsxs("div",{className:"space-y-4 pt-2",children:[E.jsx("h3",{className:"text-lg font-bold text-white",children:"Repeat"}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Frequency"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:xA.map(P=>E.jsx("button",{type:"button",onClick:()=>f(N=>We(Ce({},N),{repeat:P})),className:`px-4 py-2 rounded-full text-sm font-bold transition-all active:scale-95 ${l.repeat===P?"bg-accent text-black shadow-lg shadow-accent/20":"bg-white/5 text-textMuted hover:bg-white/10 hover:text-white border border-white/5"}`,children:P},P))})]}),l.repeat==="Weekly"&&E.jsxs("div",{className:"space-y-3 animate-fade-in",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Day"}),E.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-2",children:Pm.map(P=>E.jsx("button",{type:"button",onClick:()=>f(N=>We(Ce({},N),{repeatDay:P})),className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all active:scale-95 ${l.repeatDay===P?"bg-accent text-black shadow-lg shadow-accent/20 scale-110":"bg-white/5 text-textMuted hover:bg-white/10 hover:text-white border border-white/5"}`,children:P.charAt(0)},P))})]})]})]}),a==="task"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Deadline"}),E.jsx("input",{ref:M,type:"datetime-local",name:"deadline",value:l.deadline,onChange:z,onClick:()=>{var P;return(P=M.current)==null?void 0:P.showPicker()},className:"w-full bg-card border border-white/10 rounded-xl p-4 text-white focus:outline-none focus:border-accent transition-colors font-medium"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Priority"}),E.jsx("div",{className:"flex gap-2",children:["Low","Medium","High"].map(P=>E.jsx("button",{type:"button",onClick:()=>f(N=>We(Ce({},N),{priority:P})),className:`flex-1 py-3 rounded-xl font-bold transition-all active:scale-95 ${l.priority===P?P==="High"?"bg-error text-white shadow-lg shadow-error/20":P==="Medium"?"bg-warning text-black shadow-lg shadow-warning/20":"bg-success text-black shadow-lg shadow-success/20":"bg-white/5 text-textMuted hover:bg-white/10"}`,children:P},P))})]})]}),a==="habit"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Date"}),E.jsx("input",{type:"date",name:"date",value:l.date||"",onChange:z,className:"w-full bg-card border border-white/10 rounded-xl p-4 text-white focus:outline-none focus:border-accent transition-colors font-medium"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Time"}),E.jsx("input",{type:"time",name:"startTime",value:l.startTime,onChange:z,className:"w-full bg-card border border-white/10 rounded-xl p-4 text-white focus:outline-none focus:border-accent transition-colors font-medium"})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Duration (Minutes)"}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:l.duration,onChange:P=>f(N=>We(Ce({},N),{duration:parseInt(P.target.value)})),className:"flex-1 accent-accent h-2 bg-white/10 rounded-lg appearance-none cursor-pointer"}),E.jsxs("span",{className:"w-16 text-center font-bold text-white bg-white/5 py-2 rounded-lg border border-white/10",children:[l.duration,"m"]})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Frequency"}),E.jsx("button",{type:"button",onClick:()=>d(!v),className:"text-accent text-xs font-bold uppercase tracking-wider hover:text-white transition-colors active:scale-95",children:l.repeat})]}),v&&E.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2 animate-fade-in",children:["Daily","Weekly","Weekdays","Weekends"].map(P=>E.jsx("button",{type:"button",onClick:()=>{f(N=>We(Ce({},N),{repeat:P})),d(!1)},className:`p-3 rounded-xl text-xs font-bold transition-all active:scale-95 ${l.repeat===P?"bg-accent text-black shadow-lg shadow-accent/10":"bg-white/5 text-textMuted hover:bg-white/10 hover:text-white"}`,children:P},P))})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Reminders"}),E.jsxs("button",{type:"button",onClick:()=>h(!0),className:"text-accent text-xs font-bold uppercase tracking-wider hover:text-white transition-colors flex items-center gap-1 active:scale-95",children:[E.jsx(od,{size:14})," Add"]})]}),c&&E.jsxs("div",{className:"flex gap-2 animate-fade-in",children:[E.jsx("input",{type:"number",value:g,onChange:P=>b(P.target.value),placeholder:"Minutes before",className:"flex-1 bg-white/5 border border-white/10 rounded-xl p-3 text-white text-sm focus:outline-none focus:border-accent",autoFocus:!0}),E.jsx("button",{onClick:L,className:"px-4 py-2 bg-accent text-black rounded-xl font-bold text-sm active:scale-95 transition-transform",children:"Add"})]}),a==="task"&&c&&E.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[{label:"4 hr before",time:240},{label:"3 days before",time:4320},{label:"7 days before",time:10080}].map(P=>E.jsx("button",{type:"button",onClick:()=>{f(N=>We(Ce({},N),{reminders:[...N.reminders,{label:P.label,time:P.time}]})),h(!1)},className:"px-3 py-1.5 rounded-lg bg-white/5 border border-white/5 text-xs font-bold text-textMuted hover:bg-white/10 hover:text-white transition-colors whitespace-nowrap",children:P.label},P.label))}),E.jsx("div",{className:"flex flex-wrap gap-2",children:l.reminders.map((P,N)=>E.jsxs("div",{className:"flex items-center gap-2 bg-white/5 px-3 py-1.5 rounded-lg border border-white/5 hover:border-white/10 transition-colors",children:[E.jsx(nd,{size:12,className:"text-textMuted"}),E.jsx("span",{className:"text-sm text-white font-medium",children:P.label}),E.jsx("button",{onClick:()=>D(N),className:"text-textMuted hover:text-error transition-colors ml-1 active:scale-95",children:E.jsx(_o,{size:14})})]},N))})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Color"}),E.jsx("button",{type:"button",onClick:()=>p(!x),className:"w-8 h-8 rounded-full border-2 border-white/20 shadow-lg transition-transform active:scale-95 hover:scale-105",style:{backgroundColor:l.color}})]}),x&&E.jsx("div",{className:"grid grid-cols-8 gap-3 p-4 bg-white/5 rounded-2xl border border-white/5 animate-fade-in",children:_A.map(P=>E.jsx("button",{type:"button",onClick:()=>{f(N=>We(Ce({},N),{color:P})),p(!1)},className:`w-8 h-8 rounded-full transition-transform hover:scale-110 active:scale-95 ${l.color===P?"ring-2 ring-white scale-110":""}`,style:{backgroundColor:P}},P))})]}),E.jsxs("button",{onClick:q,className:"w-full py-4 bg-accent text-black rounded-2xl font-black text-lg hover:scale-[1.02] active:scale-[0.98] transition-all shadow-xl shadow-accent/20 flex items-center justify-center gap-2",children:[n?"Save Changes":"Create "+(a==="task"?"Assignment":a.charAt(0).toUpperCase()+a.slice(1)),E.jsx(Su,{size:20,strokeWidth:3})]}),E.jsx("div",{className:"h-20"})," "]}),A==="links"&&E.jsxs("div",{className:"space-y-6 animate-fade-in",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h3",{className:"text-lg font-bold text-white",children:"Links & Resources"}),E.jsx("button",{onClick:()=>_(!0),className:"p-2 rounded-full bg-white/5 hover:bg-white/10 text-white transition-colors active:scale-95",children:E.jsx(od,{size:20})})]}),m&&E.jsxs("div",{className:"flex gap-2 animate-fade-in",children:[E.jsx("input",{type:"text",value:w,onChange:P=>S(P.target.value),placeholder:"Paste link here...",className:"flex-1 bg-white/5 border border-white/10 rounded-xl p-3 text-white text-sm focus:outline-none focus:border-accent",autoFocus:!0}),E.jsx("button",{onClick:F,className:"px-4 py-2 bg-accent text-black rounded-xl font-bold text-sm active:scale-95 transition-transform",children:"Add"})]}),E.jsxs("div",{className:"space-y-2",children:[l.links.map((P,N)=>E.jsxs("div",{className:"flex items-center gap-3 bg-white/5 p-4 rounded-xl border border-white/5 hover:border-white/10 transition-colors group",children:[E.jsx("div",{className:"p-2 rounded-full bg-white/5 text-accent",children:E.jsx(zx,{size:16})}),E.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-sm text-white font-medium truncate hover:underline",children:P}),E.jsx("button",{onClick:()=>f(B=>We(Ce({},B),{links:B.links.filter((K,te)=>te!==N)})),className:"p-2 text-textMuted hover:text-error transition-colors opacity-0 group-hover:opacity-100",children:E.jsx(ad,{size:16})})]},N)),l.links.length===0&&!m&&E.jsx("div",{className:"text-center py-10 text-textMuted text-sm",children:"No links added yet"})]})]}),A==="notes"&&E.jsxs("div",{className:"space-y-4 animate-fade-in h-full flex flex-col",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-wider ml-1",children:"Notes"}),E.jsxs("div",{className:"flex bg-white/5 rounded-lg p-1",children:[E.jsx("button",{type:"button",onClick:()=>j("text"),className:`p-1.5 rounded-md transition-all active:scale-95 ${I==="text"?"bg-white text-black shadow-sm":"text-textMuted hover:text-white"}`,children:E.jsx(ek,{size:14})}),E.jsx("button",{type:"button",onClick:()=>j("draw"),className:`p-1.5 rounded-md transition-all active:scale-95 ${I==="draw"?"bg-white text-black shadow-sm":"text-textMuted hover:text-white"}`,children:E.jsx(Vx,{size:14})})]})]}),E.jsx("div",{className:"bg-card border border-white/10 rounded-2xl overflow-hidden flex-1 shadow-inner min-h-[400px]",children:I==="text"?E.jsx(vA,{theme:"snow",value:l.notes.text,onChange:G,className:"text-white h-full",modules:{toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["clean"]]}}):E.jsxs("div",{className:"relative h-full bg-white min-h-[400px]",children:[E.jsx(bA,{ref:T,strokeWidth:4,strokeColor:"black",canvasColor:"transparent",onChange:V,className:"h-full"}),E.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[E.jsx("button",{type:"button",onClick:()=>{var P;return(P=T.current)==null?void 0:P.undo()},className:"p-2 bg-white rounded-full shadow-lg text-black hover:bg-gray-100 active:scale-95 transition-transform",children:E.jsx(tk,{size:16})}),E.jsx("button",{type:"button",onClick:()=>{var P;return(P=T.current)==null?void 0:P.redo()},className:"p-2 bg-white rounded-full shadow-lg text-black hover:bg-gray-100 active:scale-95 transition-transform",children:E.jsx(Yx,{size:16})}),E.jsx("button",{type:"button",onClick:()=>{var P;return(P=T.current)==null?void 0:P.clearCanvas()},className:"p-2 bg-white rounded-full shadow-lg text-black hover:bg-gray-100 active:scale-95 transition-transform",children:E.jsx(Mx,{size:16})})]})]})})]})]})]})};var Ih={},Xl={};function EA(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(v){try{f(n.next(v))}catch(d){a(d)}}function l(v){try{f(n.throw(v))}catch(d){a(d)}}function f(v){v.done?o(v.value):i(v.value).then(s,l)}f((n=n.apply(t,e||[])).next())})}const SA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Du=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},Z0=class extends Du{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},vd=class extends Du{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},md=class extends Du{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Zl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zl||(Zl={}));class OA{constructor(e,{headers:r={},customFetch:n,region:i=Zl.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=SA(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return EA(this,arguments,void 0,function*(r,n={}){var i;let o,a;try{const{headers:s,method:l,body:f,signal:v,timeout:d}=n;let c={},{region:h}=n;h||(h=this.region);const g=new URL(`${this.url}/${r}`);h&&h!=="any"&&(c["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let b;f&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob!="undefined"&&f instanceof Blob||f instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(c["Content-Type"]="text/plain",b=f):typeof FormData!="undefined"&&f instanceof FormData?b=f:(c["Content-Type"]="application/json",b=JSON.stringify(f)):b=f;let x=v;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),v?(x=a.signal,v.addEventListener("abort",()=>a.abort())):x=a.signal);const p=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:b,signal:x}).catch(S=>{throw new Z0(S)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new vd(p);if(!p.ok)throw new md(p);let _=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return _==="application/json"?w=yield p.json():_==="application/octet-stream"||_==="application/pdf"?w=yield p.blob():_==="text/event-stream"?w=p:_==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(s){return{data:null,error:s,response:s instanceof md||s instanceof vd?s.context:void 0}}finally{o&&clearTimeout(o)}})}}const TA=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Zl},FunctionsClient:OA,FunctionsError:Du,FunctionsFetchError:Z0,FunctionsHttpError:md,FunctionsRelayError:vd},Symbol.toStringTag,{value:"Module"})),ew=za(TA);var Gt={},yd=function(t,e){return yd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},yd(t,e)};function tw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var eu=function(){return eu=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},eu.apply(this,arguments)};function rw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function nw(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function iw(t,e){return function(r,n){e(r,n,t)}}function ow(t,e,r,n,i,o){function a(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",f=!e&&t?n.static?t:t.prototype:null,v=e||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),d,c=!1,h=r.length-1;h>=0;h--){var g={};for(var b in n)g[b]=b==="access"?{}:n[b];for(var b in n.access)g.access[b]=n.access[b];g.addInitializer=function(p){if(c)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(p||null))};var x=(0,r[h])(s==="accessor"?{get:v.get,set:v.set}:v[l],g);if(s==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(d=a(x.get))&&(v.get=d),(d=a(x.set))&&(v.set=d),(d=a(x.init))&&i.unshift(d)}else(d=a(x))&&(s==="field"?i.unshift(d):v[l]=d)}f&&Object.defineProperty(f,n.name,v),c=!0}function aw(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function sw(t){return typeof t=="symbol"?t:"".concat(t)}function lw(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function uw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function cw(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(v){try{f(n.next(v))}catch(d){a(d)}}function l(v){try{f(n.throw(v))}catch(d){a(d)}}function f(v){v.done?o(v.value):i(v.value).then(s,l)}f((n=n.apply(t,e||[])).next())})}function fw(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(v){return l([f,v])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(v){f=[6,v],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Mu=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function dw(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Mu(e,t,r)}function tu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function hw(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Lh(arguments[e]));return t}function pw(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function vw(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Eo(t){return this instanceof Eo?(this.v=t,this):new Eo(t)}function mw(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(g){return Promise.resolve(g).then(h,d)}}function s(h,g){n[h]&&(i[h]=function(b){return new Promise(function(x,p){o.push([h,b,x,p])>1||l(h,b)})},g&&(i[h]=g(i[h])))}function l(h,g){try{f(n[h](g))}catch(b){c(o[0][3],b)}}function f(h){h.value instanceof Eo?Promise.resolve(h.value.v).then(v,d):c(o[0][2],h)}function v(h){l("next",h)}function d(h){l("throw",h)}function c(h,g){h(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function yw(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(a){return(r=!r)?{value:Eo(t[i](a)),done:!1}:o?o(a):a}:o}}function gw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof tu=="function"?tu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(f){o({value:f,done:s})},a)}}function ww(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var jA=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},gd=function(t){return gd=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},gd(t)};function bw(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=gd(t),n=0;n<r.length;n++)r[n]!=="default"&&Mu(e,t,r[n]);return jA(e,t),e}function _w(t){return t&&t.__esModule?t:{default:t}}function xw(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function kw(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function Ew(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Sw(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var NA=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Ow(t){function e(o){t.error=t.hasError?new NA(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Tw(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,o,a){return n?e?".jsx":".js":i&&(!o||!a)?r:i+o+"."+a.toLowerCase()+"js"}):t}const PA={__extends:tw,__assign:eu,__rest:rw,__decorate:nw,__param:iw,__esDecorate:ow,__runInitializers:aw,__propKey:sw,__setFunctionName:lw,__metadata:uw,__awaiter:cw,__generator:fw,__createBinding:Mu,__exportStar:dw,__values:tu,__read:Lh,__spread:hw,__spreadArrays:pw,__spreadArray:vw,__await:Eo,__asyncGenerator:mw,__asyncDelegator:yw,__asyncValues:gw,__makeTemplateObject:ww,__importStar:bw,__importDefault:_w,__classPrivateFieldGet:xw,__classPrivateFieldSet:kw,__classPrivateFieldIn:Ew,__addDisposableResource:Sw,__disposeResources:Ow,__rewriteRelativeImportExtension:Tw},AA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Sw,get __assign(){return eu},__asyncDelegator:yw,__asyncGenerator:mw,__asyncValues:gw,__await:Eo,__awaiter:cw,__classPrivateFieldGet:xw,__classPrivateFieldIn:Ew,__classPrivateFieldSet:kw,__createBinding:Mu,__decorate:nw,__disposeResources:Ow,__esDecorate:ow,__exportStar:dw,__extends:tw,__generator:fw,__importDefault:_w,__importStar:bw,__makeTemplateObject:ww,__metadata:uw,__param:iw,__propKey:sw,__read:Lh,__rest:rw,__rewriteRelativeImportExtension:Tw,__runInitializers:aw,__setFunctionName:lw,__spread:hw,__spreadArray:vw,__spreadArrays:pw,__values:tu,default:PA},Symbol.toStringTag,{value:"Module"})),Do=za(AA);var Ws={},Vs={},Gs={},Ys={},Qs={},Js={},Am;function jw(){if(Am)return Js;Am=1,Object.defineProperty(Js,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Js.default=t,Js}var Cm;function Nw(){if(Cm)return Qs;Cm=1,Object.defineProperty(Qs,"__esModule",{value:!0});const e=Do.__importDefault(jw());let r=class{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(l=>Y(this,null,function*(){var f,v,d,c;let h=null,g=null,b=null,x=l.status,p=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=yield l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?g=S:g=JSON.parse(S))}const _=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),w=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&w&&w.length>1&&(b=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,b=null,x=406,p="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=yield l.text();try{h=JSON.parse(_),Array.isArray(h)&&l.status===404&&(g=[],h=null,x=200,p="OK")}catch(w){l.status===404&&_===""?(x=204,p="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((c=h==null?void 0:h.details)===null||c===void 0)&&c.includes("0 rows"))&&(h=null,x=200,p="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:g,count:b,status:x,statusText:p}}));return this.shouldThrowOnError||(s=s.catch(l=>{var f,v,d,c,h,g;let b="";const x=l==null?void 0:l.cause;if(x){const p=(f=x==null?void 0:x.message)!==null&&f!==void 0?f:"",m=(v=x==null?void 0:x.code)!==null&&v!==void 0?v:"";b=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,b+=`

Caused by: ${(c=x==null?void 0:x.name)!==null&&c!==void 0?c:"Error"}: ${p}`,m&&(b+=` (${m})`),x!=null&&x.stack&&(b+=`
${x.stack}`)}else b=(h=l==null?void 0:l.stack)!==null&&h!==void 0?h:"";return{error:{message:`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}};return Qs.default=r,Qs}var Rm;function Pw(){if(Rm)return Ys;Rm=1,Object.defineProperty(Ys,"__esModule",{value:!0});const e=Do.__importDefault(Nw());let r=class extends e.default{select(i){let o=!1;const a=(i!=null?i:"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const f=l?`${l}.order`:"order",v=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${v?`${v},`:""}${i}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const s=typeof a=="undefined"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,o,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s=="undefined"?"offset":`${s}.offset`,f=typeof s=="undefined"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:f="text"}={}){var v;const d=[i?"analyze":null,o?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),c=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${c}"; options=${d};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Ys.default=r,Ys}var Im;function Dh(){if(Im)return Gs;Im=1,Object.defineProperty(Gs,"__esModule",{value:!0});const e=Do.__importDefault(Pw()),r=new RegExp("[,()]");let n=class extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}regexMatch(o,a){return this.url.searchParams.append(o,`match.${a}`),this}regexIMatch(o,a){return this.url.searchParams.append(o,`imatch.${a}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}isDistinct(o,a){return this.url.searchParams.append(o,`isdistinct.${a}`),this}in(o,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${s})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:s,type:l}={}){let f="";l==="plain"?f="pl":l==="phrase"?f="ph":l==="websearch"&&(f="w");const v=s===void 0?"":`(${s})`;return this.url.searchParams.append(o,`${f}fts${v}.${a}`),this}match(o){return Object.entries(o).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(o,a,s){return this.url.searchParams.append(o,`not.${a}.${s}`),this}or(o,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,a,s){return this.url.searchParams.append(o,`${a}.${s}`),this}};return Gs.default=n,Gs}var Lm;function Aw(){if(Lm)return Vs;Lm=1,Object.defineProperty(Vs,"__esModule",{value:!0});const e=Do.__importDefault(Dh());let r=class{constructor(i,{headers:o={},schema:a,fetch:s}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=s}select(i,o){const{head:a=!1,count:s}=o!=null?o:{},l=a?"HEAD":"GET";let f=!1;const v=(i!=null?i:"*").split("").map(d=>/\s/.test(d)&&!f?"":(d==='"'&&(f=!f),d)).join("");return this.url.searchParams.set("select",v),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var s;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((v,d)=>v.concat(Object.keys(d)),[]);if(f.length>0){const v=[...new Set(f)].map(d=>`"${d}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var f;const v="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(d.length>0){const c=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var a;const s="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return Vs.default=r,Vs}var Dm;function CA(){if(Dm)return Ws;Dm=1,Object.defineProperty(Ws,"__esModule",{value:!0});const t=Do,e=t.__importDefault(Aw()),r=t.__importDefault(Dh());let n=class Cw{constructor(o,{headers:a={},schema:s,fetch:l}={}){this.url=o,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new Cw(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:s=!1,get:l=!1,count:f}={}){var v;let d;const c=new URL(`${this.url}/rpc/${o}`);let h;s||l?(d=s?"HEAD":"GET",Object.entries(a).filter(([b,x])=>x!==void 0).map(([b,x])=>[b,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([b,x])=>{c.searchParams.append(b,x)})):(d="POST",h=a);const g=new Headers(this.headers);return f&&g.set("Prefer",`count=${f}`),new r.default({method:d,url:c,headers:g,schema:this.schemaName,body:h,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return Ws.default=n,Ws}Object.defineProperty(Gt,"__esModule",{value:!0});Gt.PostgrestError=Gt.PostgrestBuilder=Gt.PostgrestTransformBuilder=Gt.PostgrestFilterBuilder=Gt.PostgrestQueryBuilder=Gt.PostgrestClient=void 0;const Mo=Do,Rw=Mo.__importDefault(CA());Gt.PostgrestClient=Rw.default;const Iw=Mo.__importDefault(Aw());Gt.PostgrestQueryBuilder=Iw.default;const Lw=Mo.__importDefault(Dh());Gt.PostgrestFilterBuilder=Lw.default;const Dw=Mo.__importDefault(Pw());Gt.PostgrestTransformBuilder=Dw.default;const Mw=Mo.__importDefault(Nw());Gt.PostgrestBuilder=Mw.default;const $w=Mo.__importDefault(jw());Gt.PostgrestError=$w.default;Gt.default={PostgrestClient:Rw.default,PostgrestQueryBuilder:Iw.default,PostgrestFilterBuilder:Lw.default,PostgrestTransformBuilder:Dw.default,PostgrestBuilder:Mw.default,PostgrestError:$w.default};class Bw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket!="undefined")return{type:"native",constructor:WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocket!="undefined")return{type:"native",constructor:globalThis.WebSocket};if(typeof global!="undefined"&&typeof global.WebSocket!="undefined")return{type:"native",constructor:global.WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocketPair!="undefined"&&typeof globalThis.WebSocket=="undefined")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis!="undefined"&&globalThis.EdgeRuntime||typeof navigator!="undefined"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process!="undefined"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket!="undefined"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch(e){return!1}}}const RA="2.86.2",IA=`realtime-js/${RA}`,qw="1.0.0",LA="2.0.0",Mm=qw,wd=1e4,DA=1e3,MA=100;var hi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hi||(hi={}));var Tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tt||(Tt={}));var Cr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Cr||(Cr={}));var bd;(function(t){t.websocket="websocket"})(bd||(bd={}));var pi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(pi||(pi={}));class $A{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e!=null?e:[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(v).length===0?"":JSON.stringify(v);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const c=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+f.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+c);let g=new DataView(h),b=0;g.setUint8(b++,this.KINDS.userBroadcastPush),g.setUint8(b++,l.length),g.setUint8(b++,s.length),g.setUint8(b++,a.length),g.setUint8(b++,f.length),g.setUint8(b++,d.length),g.setUint8(b++,r),Array.from(l,p=>g.setUint8(b++,p.charCodeAt(0))),Array.from(s,p=>g.setUint8(b++,p.charCodeAt(0))),Array.from(a,p=>g.setUint8(b++,p.charCodeAt(0))),Array.from(f,p=>g.setUint8(b++,p.charCodeAt(0))),Array.from(d,p=>g.setUint8(b++,p.charCodeAt(0)));var x=new Uint8Array(h.byteLength+n.byteLength);return x.set(new Uint8Array(h),0),x.set(new Uint8Array(n),h.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,o,a,s,l]=n;return r({join_ref:i,ref:o,topic:a,event:s,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2),a=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const f=n.decode(e.slice(l,l+i));l=l+i;const v=n.decode(e.slice(l,l+o));l=l+o;const d=n.decode(e.slice(l,l+a));l=l+a;const c=e.slice(l,e.byteLength),h=s===this.JSON_ENCODING?JSON.parse(n.decode(c)):c,g={type:this.BROADCAST_EVENT,event:v,payload:h};return a>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Uw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(lt||(lt={}));const $m=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=BA(a,t,e,i),o),{}):{}},BA=(t,e,r,n)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=r[t];return o&&!n.includes(o)?Fw(o,a):_d(a)},Fw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return zA(e,r)}switch(t){case lt.bool:return qA(e);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return UA(e);case lt.json:case lt.jsonb:return FA(e);case lt.timestamp:return KA(e);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return _d(e);default:return _d(e)}},_d=t=>t,qA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},UA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},FA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zA=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const a=t.slice(1,r);try{o=JSON.parse("["+a+"]")}catch(s){o=a?a.split(","):[]}return o.map(s=>Fw(e,s))}return t},KA=t=>typeof t=="string"?t.replace(" ","T"):t,zw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class rf{constructor(e,r,n={},i=wd){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xd||(xd={}));let Kw=class vl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vl.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=vl.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=vl.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const o=this.cloneDeep(e),a=this.transformState(r),s={},l={};return this.map(o,(f,v)=>{a[f]||(l[f]=v)}),this.map(a,(f,v)=>{const d=o[f];if(d){const c=v.map(x=>x.presence_ref),h=d.map(x=>x.presence_ref),g=v.filter(x=>h.indexOf(x.presence_ref)<0),b=d.filter(x=>c.indexOf(x.presence_ref)<0);g.length>0&&(s[f]=g),b.length>0&&(l[f]=b)}else s[f]=v}),this.syncDiff(o,{joins:s,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var f;const v=(f=e[s])!==null&&f!==void 0?f:[];if(e[s]=this.cloneDeep(l),v.length>0){const d=e[s].map(h=>h.presence_ref),c=v.filter(h=>d.indexOf(h.presence_ref)<0);e[s].unshift(...c)}n(s,v,l)}),this.map(a,(s,l)=>{let f=e[s];if(!f)return;const v=l.map(d=>d.presence_ref);f=f.filter(d=>v.indexOf(d.presence_ref)<0),e[s]=f,i(s,f,l),f.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var kd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kd||(kd={}));var fo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(fo||(fo={}));var Fr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fr||(Fr={}));const HA=Tt;let Hw=class Ww{constructor(e,r={config:{}},n){var i,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rf(this,Cr.join,this.params,this.timeout),this.rejoinTimer=new Uw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cr.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Kw(this),this.broadcastEndpointURL=zw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,f=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[fo.PRESENCE]&&this.bindings[fo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},c={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:v}),postgres_changes:f,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Fr.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Fr.CLOSED)),this.updateJoinPayload(Object.assign({config:c},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",g=>Y(this,[g],function*({postgres_changes:h}){var b;if(this.socket.setAuth(),h===void 0){e==null||e(Fr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,p=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,m=[];for(let _=0;_<p;_++){const w=x[_],{filter:{event:S,schema:I,table:j,filter:T}}=w,M=h&&h[_];if(M&&M.event===S&&M.schema===I&&M.table===j&&M.filter===T)m.push(Object.assign(Object.assign({},w),{id:M.id}));else{this.unsubscribe(),this.state=Tt.errored,e==null||e(Fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Fr.SUBSCRIBED);return}})).receive("error",h=>{this.state=Tt.errored,e==null||e(Fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){return Y(this,arguments,function*(e,r={}){return yield this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)})}untrack(){return Y(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,r,n){return this.state===Tt.joined&&e===fo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}httpSend(i,o){return Y(this,arguments,function*(e,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},f=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let v=f.statusText;try{const d=yield f.json();v=d.error||d.message||v}catch(d){}return Promise.reject(new Error(v))})}send(n){return Y(this,arguments,function*(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const v=yield this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=v.body)===null||o===void 0?void 0:o.cancel(),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,f;const v=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),v.receive("ok",()=>a("ok")),v.receive("error",()=>a("error")),v.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new rf(this,Cr.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tt.closed,this.bindings={}}_fetchWithTimeout(e,r,n){return Y(this,null,function*(){const i=new AbortController,o=setTimeout(()=>i.abort(),n),a=yield this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),a})}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rf(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:f,join:v}=Cr;if(n&&[s,l,f,v].indexOf(a)>=0&&n!==this._joinRef())return;let c=this._onMessage(a,r,n);if(r&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var g,b,x;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(b=h.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(h=>h.callback(c,n)):(o=this.bindings[a])===null||o===void 0||o.filter(h=>{var g,b,x,p,m,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const w=h.id,S=(g=h.filter)===null||g===void 0?void 0:g.event;return w&&((b=r.ids)===null||b===void 0?void 0:b.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(m=(p=h==null?void 0:h.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof c=="object"&&"ids"in c){const g=c.data,{schema:b,table:x,commit_timestamp:p,type:m,errors:_}=g;c=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:p,eventType:m,new:{},old:{},errors:_}),this._getPayloadRecords(g))}h.callback(c,n)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Ww.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Cr.close,{},e)}_onError(e){this._on(Cr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=$m(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=$m(e.columns,e.old_record)),r}};const nf=()=>{},Xs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WA=[1e3,2e3,5e3,1e4],VA=1e4,GA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let YA=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wd,this.transport=null,this.heartbeatIntervalMs=Xs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nf,this.ref=0,this.reconnectTimer=null,this.vsn=Mm,this.logger=nf,this.conn=null,this.sendBuffer=[],this.serializer=new $A,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${bd.websocket}`,this.httpEndpoint=zw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r!=null?r:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return Y(this,null,function*(){const r=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),r})}removeAllChannels(){return Y(this,null,function*(){const e=yield Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hi.connecting:return pi.Connecting;case hi.open:return pi.Open;case hi.closing:return pi.Closing;default:return pi.Closed}}isConnected(){return this.connectionState()===pi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new Hw(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e=null){return Y(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return Y(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(DA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:a}=r,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),o),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(i,o,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===hi.open||this.conn.readyState===hi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Cr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([GA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}_performAuth(e=null){return Y(this,null,function*(){let r;e?r=e:this.accessToken?r=yield this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:IA};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Cr.access_token,{access_token:r})}))})}_waitForAuthIfNeeded(){return Y(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Uw(()=>Y(this,null,function*(){setTimeout(()=>Y(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Xs.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,o,a,s,l,f,v,d,c,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:wd,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Xs.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:nf,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Mm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:g=>WA[g-1]||VA,this.vsn){case qw:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:(g,b)=>b(JSON.stringify(g)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(g,b)=>b(JSON.parse(g));break;case LA:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const QA=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:HA,get REALTIME_LISTEN_TYPES(){return fo},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return kd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return xd},get REALTIME_SUBSCRIBE_STATES(){return Fr},RealtimeChannel:Hw,RealtimeClient:YA,RealtimePresence:Kw,WebSocketFactory:Bw},Symbol.toStringTag,{value:"Module"})),Vw=za(QA);function Le(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(v){try{f(n.next(v))}catch(d){a(d)}}function l(v){try{f(n.throw(v))}catch(d){a(d)}}function f(v){v.done?o(v.value):i(v.value).then(s,l)}f((n=n.apply(t,e||[])).next())})}class Qa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function vt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Gw extends Qa{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ru extends Qa{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Mh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),JA=()=>Response,Ed=t=>{if(Array.isArray(t))return t.map(r=>Ed(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Ed(n)}),e},XA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ZA=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),of=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},eC=(t,e,r)=>Le(void 0,void 0,void 0,function*(){const n=yield JA();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new Gw(of(i),o,a))}).catch(i=>{e(new ru(of(i),i))}):e(new ru(of(t),t))}),tC=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(XA(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Ja(t,e,r,n,i,o){return Le(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(r,tC(e,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>eC(l,s,n))})})}function Ua(t,e,r,n){return Le(this,void 0,void 0,function*(){return Ja(t,"GET",e,r,n)})}function Pr(t,e,r,n,i){return Le(this,void 0,void 0,function*(){return Ja(t,"POST",e,n,i,r)})}function Sd(t,e,r,n,i){return Le(this,void 0,void 0,function*(){return Ja(t,"PUT",e,n,i,r)})}function rC(t,e,r,n){return Le(this,void 0,void 0,function*(){return Ja(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $h(t,e,r,n,i){return Le(this,void 0,void 0,function*(){return Ja(t,"DELETE",e,n,i,r)})}class nC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}}var Yw;class iC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Yw]="BlobDownloadBuilder",this.promise=null}asStream(){return new nC(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}}Yw=Symbol.toStringTag;const oC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aC{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Mh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Le(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Bm),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob!="undefined"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream!="undefined"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const f=this._removeEmptyFolders(r),v=this._getFinalPath(f),d=yield(e=="PUT"?Sd:Pr)(this.fetch,`${this.url}/object/${v}`,o,Object.assign({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:f,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(vt(o))return{data:null,error:o};throw o}})}upload(e,r,n){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Le(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",r);try{let l;const f=Object.assign({upsert:Bm.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob!="undefined"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",f.cacheControl),l.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(l=n,l.append("cacheControl",f.cacheControl)):(l=n,v["cache-control"]=`max-age=${f.cacheControl}`,v["content-type"]=f.contentType);const d=yield Sd(this.fetch,s.toString(),l,{headers:v});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(vt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Le(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const o=yield Pr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new Qa("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Le(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Le(this,void 0,void 0,function*(){try{return{data:{path:(yield Pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Le(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Pr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Le(this,void 0,void 0,function*(){try{const i=yield Pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)!="undefined"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"",s=this._getFinalPath(e),l=()=>Ua(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new iC(l,this.shouldThrowOnError)}info(e){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ua(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ed(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}exists(e){return Le(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield rC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n)&&n instanceof ru){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const s=typeof(r==null?void 0:r.transform)!="undefined"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${f}`)}}}remove(e){return Le(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Le(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},oC),r),{prefix:e||""});return{data:yield Pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}listV2(e,r){return Le(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Pr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Qw="2.86.2",Jw={"X-Client-Info":`storage-js/${Qw}`};class sC{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jw),r),this.fetch=Mh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Le(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Ua(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}getBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Ua(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}createBucket(e){return Le(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Le(this,void 0,void 0,function*(){try{return{data:yield Sd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Fa=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function lC(t,e,r){const n=new URL(e,t);if(r)for(const[i,o]of Object.entries(r))o!==void 0&&n.searchParams.set(i,o);return n.toString()}function uC(t){return Y(this,null,function*(){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?yield t.getHeaders():{}})}function cC(t){var r;const e=(r=t.fetchImpl)!=null?r:globalThis.fetch;return{request(f){return Y(this,arguments,function*({method:i,path:o,query:a,body:s,headers:l}){var x;const v=lC(t.baseUrl,o,a),d=yield uC(t.auth),c=yield e(v,{method:i,headers:Ce(Ce(Ce({},s?{"Content-Type":"application/json"}:{}),d),l),body:s?JSON.stringify(s):void 0}),h=yield c.text(),g=(c.headers.get("content-type")||"").includes("application/json"),b=g&&h?JSON.parse(h):h;if(!c.ok){const p=g?b:void 0,m=p==null?void 0:p.error;throw new Fa((x=m==null?void 0:m.message)!=null?x:`Request failed with status ${c.status}`,{status:c.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:c.status,headers:c.headers,data:b}})}}}function Zs(t){return t.join("")}var fC=class{constructor(t,e=""){this.client=t,this.prefix=e}listNamespaces(t){return Y(this,null,function*(){const e=t?{parent:Zs(t.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))})}createNamespace(t,e){return Y(this,null,function*(){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data})}dropNamespace(t){return Y(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zs(t.namespace)}`})})}loadNamespaceMetadata(t){return Y(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zs(t.namespace)}`})).data.properties}})}namespaceExists(t){return Y(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zs(t.namespace)}`}),!0}catch(e){if(e instanceof Fa&&e.status===404)return!1;throw e}})}createNamespaceIfNotExists(t,e){return Y(this,null,function*(){try{return yield this.createNamespace(t,e)}catch(r){if(r instanceof Fa&&r.status===409)return;throw r}})}};function Ui(t){return t.join("")}var dC=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}listTables(t){return Y(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ui(t.namespace)}/tables`})).data.identifiers})}createTable(t,e){return Y(this,null,function*(){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ui(t.namespace)}/tables`,body:e,headers:r})).data.metadata})}updateTable(t,e){return Y(this,null,function*(){const r=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ui(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}})}dropTable(t,e){return Y(this,null,function*(){var r;yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ui(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((r=e==null?void 0:e.purge)!=null?r:!1)}})})}loadTable(t){return Y(this,null,function*(){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ui(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata})}tableExists(t){return Y(this,null,function*(){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ui(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Fa&&r.status===404)return!1;throw r}})}createTableIfNotExists(t,e){return Y(this,null,function*(){try{return yield this.createTable(t,e)}catch(r){if(r instanceof Fa&&r.status===409)return yield this.loadTable({namespace:t.namespace,name:e.name});throw r}})}},hC=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=cC({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new fC(this.client,e),this.tableOps=new dC(this.client,e,this.accessDelegation)}listNamespaces(t){return Y(this,null,function*(){return this.namespaceOps.listNamespaces(t)})}createNamespace(t,e){return Y(this,null,function*(){return this.namespaceOps.createNamespace(t,e)})}dropNamespace(t){return Y(this,null,function*(){yield this.namespaceOps.dropNamespace(t)})}loadNamespaceMetadata(t){return Y(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(t)})}listTables(t){return Y(this,null,function*(){return this.tableOps.listTables(t)})}createTable(t,e){return Y(this,null,function*(){return this.tableOps.createTable(t,e)})}updateTable(t,e){return Y(this,null,function*(){return this.tableOps.updateTable(t,e)})}dropTable(t,e){return Y(this,null,function*(){yield this.tableOps.dropTable(t,e)})}loadTable(t){return Y(this,null,function*(){return this.tableOps.loadTable(t)})}namespaceExists(t){return Y(this,null,function*(){return this.namespaceOps.namespaceExists(t)})}tableExists(t){return Y(this,null,function*(){return this.tableOps.tableExists(t)})}createNamespaceIfNotExists(t,e){return Y(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(t,e)})}createTableIfNotExists(t,e){return Y(this,null,function*(){return this.tableOps.createTableIfNotExists(t,e)})}};class Xw{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jw),r),this.fetch=Mh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}listBuckets(e){return Le(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ua(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield $h(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}from(e){if(!ZA(e))throw new Qa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new hC({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Le(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Bh={"X-Client-Info":`storage-js/${Qw}`,"Content-Type":"application/json"};class qh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function or(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class ml extends qh{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zw extends qh{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Od;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Od||(Od={}));const $u=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pC=()=>Response,eb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vC=t=>Array.from(new Float32Array(t)),mC=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},qm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yC=(t,e,r)=>Le(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new ml(qm(a),i,s))}).catch(()=>{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new ml(s,i,a))});else{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new ml(s,i,a))}}else e(new Zw(qm(t),t))}),gC=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(eb(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function wC(t,e,r,n,i,o){return Le(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(r,gC(e,n,i,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const f=l.headers.get("content-type");return!f||!f.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>yC(l,s,n))})})}function pr(t,e,r,n,i){return Le(this,void 0,void 0,function*(){return wC(t,"POST",e,n,i,r)})}class tb{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bh),r),this.fetch=$u(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield pr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Le(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}listIndexes(e){return Le(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Le(this,void 0,void 0,function*(){try{return{data:(yield pr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}}class rb{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bh),r),this.fetch=$u(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}getVectors(e){return Le(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}listVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield pr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}queryVectors(e){return Le(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}}class nb{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bh),r),this.fetch=$u(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield pr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}getBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}listBuckets(){return Le(this,arguments,void 0,function*(e={}){try{return{data:yield pr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:(yield pr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}}class ib extends nb{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new ob(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Le(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Le(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Le(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Le(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class ob extends tb{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Le(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Le(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Le(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Le(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ab(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ab extends rb{constructor(e,r,n,i,o){super(e,r,o),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Le(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Le(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Le(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Le(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Le(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class bC extends sC{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new aC(this.url,this.headers,e,this.fetch)}get vectors(){return new ib(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Xw(this.url+"/iceberg",this.headers,this.fetch)}}const _C=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Xw,StorageApiError:Gw,StorageClient:bC,StorageError:Qa,StorageUnknownError:ru,StorageVectorsApiError:ml,StorageVectorsClient:ib,StorageVectorsError:qh,get StorageVectorsErrorCode(){return Od},StorageVectorsUnknownError:Zw,VectorBucketApi:nb,VectorBucketScope:ob,VectorDataApi:rb,VectorIndexApi:tb,VectorIndexScope:ab,isPlainObject:eb,isStorageError:vt,isStorageVectorsError:or,normalizeToFloat32:vC,resolveFetch:$u,resolveResponse:pC,validateVectorDimension:mC},Symbol.toStringTag,{value:"Module"})),xC=za(_C);var sb={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.version=void 0;Bu.version="2.86.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=Bu;let r="";typeof Deno!="undefined"?r="deno":typeof document!="undefined"?r="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(sb);var lb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...o)=>i(...o):(...o)=>fetch(...o);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(i,o,a)=>{const s=(0,t.resolveFetch)(a),l=(0,t.resolveHeadersConstructor)();return(f,v)=>Y(this,null,function*(){var d;const c=(d=yield o())!==null&&d!==void 0?d:i;let h=new l(v==null?void 0:v.headers);return h.has("apikey")||h.set("apikey",i),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),s(f,Object.assign(Object.assign({},v),{headers:h}))})};t.fetchWithAuth=n})(lb);var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.isBrowser=void 0;Gn.uuid=kC;Gn.ensureTrailingSlash=ub;Gn.applySettingDefaults=SC;Gn.validateSupabaseUrl=OC;function kC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function ub(t){return t.endsWith("/")?t:t+"/"}const EC=()=>typeof window!="undefined";Gn.isBrowser=EC;function SC(t,e){var r,n;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:f,realtime:v,global:d}=e,c={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},v),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Y(this,null,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}function OC(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ub(e))}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qu={};function Uu(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}const cb="2.86.2",Hi=30*1e3,Td=3,af=Td*Hi,TC="http://localhost:9999",jC="supabase.auth.token",NC={"X-Client-Info":`gotrue-js/${cb}`},jd="X-Supabase-Api-Version",fb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AC=10*60*1e3;let So=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let db=class extends So{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function hb(t){return Me(t)&&t.name==="AuthApiError"}let Pn=class extends So{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},hn=class extends So{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}},rr=class extends hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function pb(t){return Me(t)&&t.name==="AuthSessionMissingError"}let ci=class extends hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},fa=class extends hn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},da=class extends hn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function vb(t){return Me(t)&&t.name==="AuthImplicitGrantRedirectError"}let Nd=class extends hn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},nu=class extends hn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function yl(t){return Me(t)&&t.name==="AuthRetryableFetchError"}let Pd=class extends hn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function CC(t){return Me(t)&&t.name==="AuthWeakPasswordError"}let iu=class extends hn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Um=` 	
\r=`.split(""),RC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Um.length;e+=1)t[Um[e].charCodeAt(0)]=-2;for(let e=0;e<ou.length;e+=1)t[ou[e].charCodeAt(0)]=e;return t})();function Fm(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ou[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ou[n]),e.queuedBits-=6}}function mb(t,e,r){const n=RC[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zm(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{DC(a,n,r)};for(let a=0;a<t.length;a+=1)mb(t.charCodeAt(a),i,o);return e.join("")}function IC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function LC(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}IC(n,e)}}function DC(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ho(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)mb(t.charCodeAt(i),r,n);return new Uint8Array(e)}function MC(t){const e=[];return LC(t,r=>e.push(r)),new Uint8Array(e)}function wi(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Fm(i,r,n)),Fm(null,r,n),e.join("")}function $C(t){return Math.round(Date.now()/1e3)+t}function BC(){return Symbol("auth-callback")}const Mt=()=>typeof window!="undefined"&&typeof document!="undefined",ii={tested:!1,writable:!1},yb=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(ii.tested)return ii.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ii.tested=!0,ii.writable=!0}catch(e){ii.tested=!0,ii.writable=!1}return ii.writable};function qC(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch(n){}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const gb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),UC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Wi=(t,e,r)=>Y(void 0,null,function*(){yield t.setItem(e,JSON.stringify(r))}),oi=(t,e)=>Y(void 0,null,function*(){const r=yield t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}}),Dt=(t,e)=>Y(void 0,null,function*(){yield t.removeItem(e)});class Fu{constructor(){this.promise=new Fu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Fu.promiseConstructor=Promise;function sf(t){const e=t.split(".");if(e.length!==3)throw new iu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!PC.test(e[n]))throw new iu("JWT not in base64url format");return{header:JSON.parse(zm(e[0])),payload:JSON.parse(zm(e[1])),signature:ho(e[2]),raw:{header:e[0],payload:e[1]}}}function FC(t){return Y(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function zC(t,e){return new Promise((n,i)=>{Y(this,null,function*(){for(let o=0;o<1/0;o++)try{const a=yield t(o);if(!e(o,null,a)){n(a);return}}catch(a){if(!e(o,a)){i(a);return}}})})}function KC(t){return("0"+t.toString(16)).substr(-2)}function HC(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,KC).join("")}function WC(t){return Y(this,null,function*(){const r=new TextEncoder().encode(t),n=yield crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function VC(t){return Y(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=yield WC(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Fi(t,e,r=!1){return Y(this,null,function*(){const n=HC();let i=n;r&&(i+="/PASSWORD_RECOVERY"),yield Wi(t,`${e}-code-verifier`,i);const o=yield VC(n);return[o,n===o?"plain":"s256"]})}const GC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YC(t){const e=t.headers.get(jd);if(!e||!e.match(GC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(r){return null}}function QC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function JC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zi(t){if(!XC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lf(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ZC(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Km(t){return JSON.parse(JSON.stringify(t))}const fi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eR=[502,503,504];function Hm(t){return Y(this,null,function*(){var e;if(!UC(t))throw new nu(fi(t),0);if(eR.includes(t.status))throw new nu(fi(t),t.status);let r;try{r=yield t.json()}catch(o){throw new Pn(fi(o),o)}let n;const i=YC(t);if(i&&i.getTime()>=fb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Pd(fi(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new rr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Pd(fi(r),t.status,r.weak_password.reasons);throw new db(fi(r),t.status||500,n)})}const tR=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function ze(t,e,r,n){return Y(this,null,function*(){var i;const o=Object.assign({},n==null?void 0:n.headers);o[jd]||(o[jd]=fb["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=yield rR(t,e,r+s,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}})}function rR(t,e,r,n,i,o){return Y(this,null,function*(){const a=tR(e,n,i,o);let s;try{s=yield t(r,Object.assign({},a))}catch(l){throw console.error(l),new nu(fi(l),0)}if(s.ok||(yield Hm(s)),n!=null&&n.noResolveJson)return s;try{return yield s.json()}catch(l){yield Hm(l)}})}function jr(t){var e;let r=null;oR(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=$C(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Wm(t){const e=jr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function An(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nR(t){return{data:t,error:null}}function iR(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=t,a=Uu(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Vm(t){return t}function oR(t){return t.access_token&&t.refresh_token&&t.expires_in}const gl=["global","local","others"];let Uh=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=gb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(n){return Y(this,arguments,function*(e,r=gl[0]){if(gl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gl.join(", ")}`);try{return yield ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}})}inviteUserByEmail(n){return Y(this,arguments,function*(e,r={}){try{return yield ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:An})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return Y(this,null,function*(){try{const{options:r}=e,n=Uu(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),yield ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:iR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}})}createUser(e){return Y(this,null,function*(){try{return yield ze(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:An})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}})}listUsers(e){return Y(this,null,function*(){var r,n,i,o,a,s,l;try{const f={nextPage:null,lastPage:0,total:0},v=yield ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Vm});if(v.error)throw v.error;const d=yield v.json(),c=(a=v.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(s=v.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);f[`${x}Page`]=b}),f.total=parseInt(c)),{data:Object.assign(Object.assign({},d),f),error:null}}catch(f){if(Me(f))return{data:{users:[]},error:f};throw f}})}getUserById(e){return Y(this,null,function*(){zi(e);try{return yield ze(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:An})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}})}updateUserById(e,r){return Y(this,null,function*(){zi(e);try{return yield ze(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:An})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}})}deleteUser(e,r=!1){return Y(this,null,function*(){zi(e);try{return yield ze(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:An})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}})}_listFactors(e){return Y(this,null,function*(){zi(e.userId);try{const{data:r,error:n}=yield ze(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}_deleteFactor(e){return Y(this,null,function*(){zi(e.userId),zi(e.id);try{return{data:yield ze(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}_listOAuthClients(e){return Y(this,null,function*(){var r,n,i,o,a,s,l;try{const f={nextPage:null,lastPage:0,total:0},v=yield ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Vm});if(v.error)throw v.error;const d=yield v.json(),c=(a=v.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(s=v.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);f[`${x}Page`]=b}),f.total=parseInt(c)),{data:Object.assign(Object.assign({},d),f),error:null}}catch(f){if(Me(f))return{data:{clients:[]},error:f};throw f}})}_createOAuthClient(e){return Y(this,null,function*(){try{return yield ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}_getOAuthClient(e){return Y(this,null,function*(){try{return yield ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}_updateOAuthClient(e,r){return Y(this,null,function*(){try{return yield ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}})}_deleteOAuthClient(e){return Y(this,null,function*(){try{return yield ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}})}_regenerateOAuthClientSecret(e){return Y(this,null,function*(){try{return yield ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}};function Gm(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const di={debug:!!(globalThis&&yb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let wb=class extends Fh{};class aR extends Fh{}function bb(t,e,r){return Y(this,null,function*(){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},i=>Y(this,null,function*(){if(i){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield r()}finally{di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(di.debug)try{const o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield r()}})))})}const Ym={};function sR(t,e,r){return Y(this,null,function*(){var n;const i=(n=Ym[t])!==null&&n!==void 0?n:Promise.resolve(),o=Promise.race([i.catch(()=>null),e>=0?new Promise((a,s)=>{setTimeout(()=>{s(new aR(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(a=>a)).catch(a=>{if(a&&a.isAcquireTimeout)throw a;return null}).then(()=>Y(this,null,function*(){return yield r()}));return Ym[t]=o.catch(a=>Y(this,null,function*(){if(a&&a.isAcquireTimeout)return yield i,null;throw a})),yield o})}function lR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){typeof self!="undefined"&&(self.globalThis=self)}}function _b(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function uR(t){return parseInt(t,16)}function cR(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function fR(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:f,scheme:v,uri:d,version:c}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(c!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${c}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=_b(t.address),g=v?`${v}://${n}`:n,b=t.statement?`${t.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${h}

${b}`;let p=`URI: ${d}
Version: ${c}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(p+=`
Expiration Time: ${i.toISOString()}`),s&&(p+=`
Not Before: ${s.toISOString()}`),l&&(p+=`
Request ID: ${l}`),f){let m=`
Resources:`;for(const _ of f){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);m+=`
- ${_}`}p+=m}return`${x}
${p}`}class jt extends Error{constructor({message:e,code:r,cause:n,name:i}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i!=null?i:n instanceof Error?n.name:void 0)!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class au extends jt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function dR({error:t,options:e}){var r,n,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(xb(a)){if(o.rp.id!==a)return new jt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function hR({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(xb(n)){if(r.rpId!==n)return new jt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class pR{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const vR=new pR;function mR(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential!="undefined"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Uu(t,["challenge","user","excludeCredentials"]),o=ho(e).buffer,a=Object.assign(Object.assign({},r),{id:ho(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const f=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},f),{id:ho(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return s}function yR(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential!="undefined"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Uu(t,["challenge","allowCredentials"]),i=ho(e).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const s=r[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:ho(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function gR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:wi(new Uint8Array(t.response.attestationObject)),clientDataJSON:wi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:wi(new Uint8Array(i.authenticatorData)),clientDataJSON:wi(new Uint8Array(i.clientDataJSON)),signature:wi(new Uint8Array(i.signature)),userHandle:i.userHandle?wi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Qm(){var t,e;return!!(Mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}function bR(t){return Y(this,null,function*(){try{const e=yield navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new au("Browser returned unexpected credential type",e)}:{data:null,error:new au("Empty credential response",e)}}catch(e){return{data:null,error:dR({error:e,options:t})}}})}function _R(t){return Y(this,null,function*(){try{const e=yield navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new au("Browser returned unexpected credential type",e)}:{data:null,error:new au("Empty credential response",e)}}catch(e){return{data:null,error:hR({error:e,options:t})}}})}const xR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function su(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))n[o]=a;else if(r(a))n[o]=a;else if(e(a)){const s=n[o];e(s)?n[o]=su(s,a):n[o]=su(a)}else n[o]=a}return n}function ER(t,e){return su(xR,t,e||{})}function SR(t,e){return su(kR,t,e||{})}class OR{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return Y(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(a,s){return Y(this,arguments,function*({factorId:e,webauthn:r,friendlyName:n,signal:i},o){try{const{data:l,error:f}=yield this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:f};const v=i!=null?i:vR.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=ER(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:h}=yield bR({publicKey:d,signal:v});return c?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const d=SR(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:h}=yield _R(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:v}));return c?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(l){return Me(l)?{data:null,error:l}:{data:null,error:new Pn("Unexpected error in challenge",l)}}})}_verify(i){return Y(this,arguments,function*({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})})}_authenticate(a,s){return Y(this,arguments,function*({factorId:e,webauthn:{rpId:r=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:n=typeof window!="undefined"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new So("rpId is required for WebAuthn authentication")};try{if(!Qm())return{data:null,error:new Pn("Browser does not support WebAuthn",null)};const{data:l,error:f}=yield this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:o});if(!l)return{data:null,error:f};const{webauthn:v}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:v.type,rpId:r,rpOrigins:n,credential_response:v.credential_response}})}catch(l){return Me(l)?{data:null,error:l}:{data:null,error:new Pn("Unexpected error in authenticate",l)}}})}_register(a,s){return Y(this,arguments,function*({friendlyName:e,webauthn:{rpId:r=typeof window!="undefined"?window.location.hostname:void 0,rpOrigins:n=typeof window!="undefined"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new So("rpId is required for WebAuthn registration")};try{if(!Qm())return{data:null,error:new Pn("Browser does not support WebAuthn",null)};const{data:l,error:f}=yield this._enroll({friendlyName:e});if(!l)return yield this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:f};const{data:v,error:d}=yield this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:o});return v?this._verify({factorId:l.id,challengeId:v.challengeId,webauthn:{rpId:r,rpOrigins:n,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:d}}catch(l){return Me(l)?{data:null,error:l}:{data:null,error:new Pn("Unexpected error in register",l)}}})}}lR();const TR={url:TC,storageKey:jC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function Jm(t,e,r){return Y(this,null,function*(){return yield r()})}const Ki={};let zh=class Ad{get jwks(){var e,r;return(r=(e=Ki[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ki[this.storageKey]=Object.assign(Object.assign({},Ki[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ki[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ki[this.storageKey]=Object.assign(Object.assign({},Ki[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},TR),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Ad.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ad.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Mt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Uh({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=gb(o.fetch),this.lock=o.lock||Jm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Mt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bb:this.lock=Jm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new OR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:yb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",a=>Y(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return Y(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=Y(this,null,function*(){return yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return Y(this,null,function*(){var e;try{let r={},n="none";if(Mt()&&(r=qC(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":(yield this._isPKCECallback(r))&&(n="pkce")),Mt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=yield this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),vb(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return yield this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),yield this._saveSession(a),setTimeout(()=>Y(this,null,function*(){s==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?this._returnResult({error:r}):this._returnResult({error:new Pn("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return Y(this,null,function*(){var r,n,i;try{const o=yield ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:jr}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,f=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:f,session:l},error:null})}catch(o){if(Me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signUp(e){return Y(this,null,function*(){var r,n,i;try{let o;if("email"in e){const{email:v,password:d,options:c}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=yield Fi(this.storage,this.storageKey)),o=yield ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:c==null?void 0:c.emailRedirectTo,body:{email:v,password:d,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:g},xform:jr})}else if("phone"in e){const{phone:v,password:d,options:c}=e;o=yield ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:d,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:jr})}else throw new fa("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return yield Dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,f=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:f,session:l},error:null})}catch(o){if(yield Dt(this.storage,`${this.storageKey}-code-verifier`),Me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithPassword(e){return Y(this,null,function*(){try{let r;if("email"in e){const{email:o,password:a,options:s}=e;r=yield ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Wm})}else if("phone"in e){const{phone:o,password:a,options:s}=e;r=yield ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Wm})}else throw new fa("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const o=new ci;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(e){return Y(this,null,function*(){var r,n,i,o;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(e){return Y(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>Y(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return Y(this,null,function*(){const{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return Y(this,null,function*(){var r,n,i,o,a,s,l,f,v,d,c;let h,g;if("message"in e)h=e.message,g=e.signature;else{const{chain:b,wallet:x,statement:p,options:m}=e;let _;if(Mt())if(typeof x=="object")_=x;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")_=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const w=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=yield _.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=_b(S[0]);let j=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const M=yield _.request({method:"eth_chainId"});j=uR(M)}const T={domain:w.host,address:I,statement:p,uri:w.href,version:"1",chainId:j,nonce:(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(f=m==null?void 0:m.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(v=m==null?void 0:m.signInWithEthereum)===null||v===void 0?void 0:v.resources};h=fR(T),g=yield _.request({method:"personal_sign",params:[cR(h),I]})}try{const{data:b,error:x}=yield ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(c=e.options)===null||c===void 0?void 0:c.captchaToken}}:null),xform:jr});if(x)throw x;if(!b||!b.session||!b.user){const p=new ci;return this._returnResult({data:{user:null,session:null},error:p})}return b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(Me(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}})}signInWithSolana(e){return Y(this,null,function*(){var r,n,i,o,a,s,l,f,v,d,c,h;let g,b;if("message"in e)g=e.message,b=e.signature;else{const{chain:x,wallet:p,statement:m,options:_}=e;let w;if(Mt())if(typeof p=="object")w=p;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))w=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const S=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const I=yield w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let j;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")j=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)j=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),b=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((f=_==null?void 0:_.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(v=_==null?void 0:_.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const I=yield w.signMessage(new TextEncoder().encode(g),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=I}}try{const{data:x,error:p}=yield ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:wi(b)},!((c=e.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:jr});if(p)throw p;if(!x||!x.session||!x.user){const m=new ci;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(yield this._saveSession(x.session),yield this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:p})}catch(x){if(Me(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}})}_exchangeCodeForSession(e){return Y(this,null,function*(){const r=yield oi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r!=null?r:"").split("/");try{const{data:o,error:a}=yield ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:jr});if(yield Dt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new ci;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i!=null?i:null}),error:a})}catch(o){if(yield Dt(this.storage,`${this.storageKey}-code-verifier`),Me(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}})}signInWithIdToken(e){return Y(this,null,function*(){try{const{options:r,provider:n,token:i,access_token:o,nonce:a}=e,s=yield ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jr}),{data:l,error:f}=s;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!l||!l.session||!l.user){const v=new ci;return this._returnResult({data:{user:null,session:null},error:v})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:f})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(e){return Y(this,null,function*(){var r,n,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=yield Fi(this.storage,this.storageKey));const{error:d}=yield ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:f,code_challenge_method:v},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:f,error:v}=yield ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:v})}throw new fa("You must provide either an email or phone number.")}catch(s){if(yield Dt(this.storage,`${this.storageKey}-code-verifier`),Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}verifyOtp(e){return Y(this,null,function*(){var r,n;try{let i,o;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:s}=yield ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:jr});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,f=a.user;return l!=null&&l.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:f,session:l},error:null})}catch(i){if(Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}signInWithSSO(e){return Y(this,null,function*(){var r,n,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=yield Fi(this.storage,this.storageKey));const f=yield ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:nR});return!((o=f.data)===null||o===void 0)&&o.url&&Mt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(s){if(yield Dt(this.storage,`${this.storageKey}-code-verifier`),Me(s))return this._returnResult({data:null,error:s});throw s}})}reauthenticate(){return Y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return Y(this,null,function*(){try{return yield this._useSession(e=>Y(this,null,function*(){const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new rr;const{error:i}=yield ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})}))}catch(e){if(Me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return Y(this,null,function*(){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:a}=yield ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:a,error:s}=yield ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new fa("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return Y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return this._useSession(r=>Y(this,null,function*(){return r}))}))})}_acquireLock(e,r){return Y(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=Y(this,null,function*(){return yield n,yield r()});return this.pendingInLock.push(Y(this,null,function*(){try{yield i}catch(o){}})),i}return yield this.lock(`lock:${this.storageKey}`,e,()=>Y(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push(Y(this,null,function*(){try{yield n}catch(i){}})),yield n;this.pendingInLock.length;){const i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return Y(this,null,function*(){this._debug("#_useSession","begin");try{const r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return Y(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=yield oi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<af:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=yield oi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=lf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=ZC(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=yield this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return Y(this,null,function*(){if(e)return yield this._getUser(e);yield this.initializePromise;const r=yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(e){return Y(this,null,function*(){try{return e?yield ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:An}):yield this._useSession(r=>Y(this,null,function*(){var n,i,o;const{data:a,error:s}=r;if(s)throw s;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rr}:yield ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:An})}))}catch(r){if(Me(r))return pb(r)&&(yield this._removeSession(),yield Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(n){return Y(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(n){return Y(this,arguments,function*(e,r={}){try{return yield this._useSession(i=>Y(this,null,function*(){const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new rr;const s=o.session;let l=null,f=null;this.flowType==="pkce"&&e.email!=null&&([l,f]=yield Fi(this.storage,this.storageKey));const{data:v,error:d}=yield ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:f}),jwt:s.access_token,xform:An});if(d)throw d;return s.user=v.user,yield this._saveSession(s),yield this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})}))}catch(i){if(yield Dt(this.storage,`${this.storageKey}-code-verifier`),Me(i))return this._returnResult({data:{user:null},error:i});throw i}})}setSession(e){return Y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return Y(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new rr;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:a}=sf(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:s,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=yield this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(e){return Y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return Y(this,null,function*(){try{return yield this._useSession(r=>Y(this,null,function*(){var n;if(!e){const{data:a,error:s}=r;if(s)throw s;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new rr;const{data:i,error:o}=yield this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(e,r){return Y(this,null,function*(){try{if(!Mt())throw new da("No browser detected.");if(e.error||e.error_description||e.error_code)throw new da(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new da("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nd("No code detected.");const{data:m,error:_}=yield this._exchangeCodeForSession(e.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:f}=e;if(!o||!s||!a||!f)throw new da("No session defined in URL");const v=Math.round(Date.now()/1e3),d=parseInt(s);let c=v+d;l&&(c=parseInt(l));const h=c-v;h*1e3<=Hi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const g=c-d;v-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,c,v):v-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,c,v);const{data:b,error:x}=yield this._getUser(o);if(x)throw x;const p={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:c,refresh_token:a,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:e.type},error:null})}catch(n){if(Me(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return Y(this,null,function*(){const r=yield oi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return Y(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return Y(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>Y(this,null,function*(){var n;const{data:i,error:o}=r;if(o)return this._returnResult({error:o});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:s}=yield this.admin.signOut(a,e);if(s&&!(hb(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(yield this._removeSession(),yield Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){const r=BC(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),Y(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:n}}}_emitInitialSession(e){return Y(this,null,function*(){return yield this._useSession(r=>Y(this,null,function*(){var n,i;try{const{data:{session:o},error:a}=r;if(a)throw a;yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}}))})}resetPasswordForEmail(n){return Y(this,arguments,function*(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=yield Fi(this.storage,this.storageKey,!0));try{return yield ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield Dt(this.storage,`${this.storageKey}-code-verifier`),Me(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return Y(this,null,function*(){var e;try{const{data:r,error:n}=yield this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(e){return Y(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return Y(this,null,function*(){var r;try{const{data:n,error:i}=yield this._useSession(o=>Y(this,null,function*(){var a,s,l,f,v;const{data:d,error:c}=o;if(c)throw c;const h=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield ze(this.fetch,"GET",h,{headers:this.headers,jwt:(v=(f=d.session)===null||f===void 0?void 0:f.access_token)!==null&&v!==void 0?v:void 0})}));if(i)throw i;return Mt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Me(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}})}linkIdentityIdToken(e){return Y(this,null,function*(){return yield this._useSession(r=>Y(this,null,function*(){var n;try{const{error:i,data:{session:o}}=r;if(i)throw i;const{options:a,provider:s,token:l,access_token:f,nonce:v}=e,d=yield ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:f,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jr}),{data:c,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!c||!c.session||!c.user?this._returnResult({data:{user:null,session:null},error:new ci}):(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("USER_UPDATED",c.session)),this._returnResult({data:c,error:h}))}catch(i){if(yield Dt(this.storage,`${this.storageKey}-code-verifier`),Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}))})}unlinkIdentity(e){return Y(this,null,function*(){try{return yield this._useSession(r=>Y(this,null,function*(){var n,i;const{data:o,error:a}=r;if(a)throw a;return yield ze(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(e){return Y(this,null,function*(){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return yield zC(i=>Y(this,null,function*(){return i>0&&(yield FC(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jr})}),(i,o)=>{const a=200*Math.pow(2,i);return o&&yl(o)&&Date.now()+a-n<Hi})}catch(n){if(this._debug(r,"error",n),Me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return Y(this,null,function*(){const n=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Mt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}})}_recoverAndRefresh(){return Y(this,null,function*(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=yield oi(this.storage,this.storageKey);if(i&&this.userStorage){let a=yield oi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},yield Wi(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:lf()}else if(i&&!i.user&&!i.user){const a=yield oi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,yield Dt(this.storage,this.storageKey+"-user"),yield Wi(this.storage,this.storageKey,i)):i.user=lf()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&(yield this._removeSession());return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<af;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${af}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),yl(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=yield this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}})}_callRefreshToken(e){return Y(this,null,function*(){var r,n;if(!e)throw new rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fu;const{data:o,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new rr;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),Me(o)){const a={data:null,error:o};return yl(o)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(e,r,n=!0){return Y(this,null,function*(){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(s=>Y(this,null,function*(){try{yield s.callback(e,r)}catch(l){o.push(l)}}));if(yield Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}})}_saveSession(e){return Y(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield Dt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&(yield Wi(this.userStorage,this.storageKey+"-user",{user:r.user}));const i=Object.assign({},r);delete i.user;const o=Km(i);yield Wi(this.storage,this.storageKey,o)}else{const i=Km(r);yield Wi(this.storage,this.storageKey,i)}})}_removeSession(){return Y(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield Dt(this.storage,this.storageKey),yield Dt(this.storage,this.storageKey+"-code-verifier"),yield Dt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Dt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return Y(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Hi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>Y(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return Y(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return Y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return Y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return Y(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>Y(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(r=>Y(this,null,function*(){const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Hi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Hi}ms, refresh threshold is ${Td} ticks`),i<=Td&&(yield this._callRefreshToken(n.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Fh)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return Y(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>Y(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return Y(this,null,function*(){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,n){return Y(this,null,function*(){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=yield Fi(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`})}_unenroll(e){return Y(this,null,function*(){try{return yield this._useSession(r=>Y(this,null,function*(){var n;const{data:i,error:o}=r;return o?this._returnResult({data:null,error:o}):yield ze(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})}))}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(e){return Y(this,null,function*(){try{return yield this._useSession(r=>Y(this,null,function*(){var n,i;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:f}=yield ze(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))}))}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}_verify(e){return Y(this,null,function*(){return this._acquireLock(-1,()=>Y(this,null,function*(){try{return yield this._useSession(r=>Y(this,null,function*(){var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?gR(e.webauthn.credential_response):wR(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=yield ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))}))}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(e){return Y(this,null,function*(){return this._acquireLock(-1,()=>Y(this,null,function*(){try{return yield this._useSession(r=>Y(this,null,function*(){var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=yield ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:mR(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:yR(s.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(e){return Y(this,null,function*(){const{data:r,error:n}=yield this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return Y(this,null,function*(){var e;const{data:{user:r},error:n}=yield this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return Y(this,null,function*(){var e,r;const{data:{session:n},error:i}=yield this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=sf(n.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:f},error:null}})}_getAuthorizationDetails(e){return Y(this,null,function*(){try{return yield this._useSession(r=>Y(this,null,function*(){const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?yield ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new rr})}))}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(e,r){return Y(this,null,function*(){try{return yield this._useSession(n=>Y(this,null,function*(){const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new rr});const a=yield ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Mt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a}))}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}})}_denyAuthorization(e,r){return Y(this,null,function*(){try{return yield this._useSession(n=>Y(this,null,function*(){const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new rr});const a=yield ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Mt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a}))}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}})}_listOAuthGrants(){return Y(this,null,function*(){try{return yield this._useSession(e=>Y(this,null,function*(){const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?yield ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new rr})}))}catch(e){if(Me(e))return this._returnResult({data:null,error:e});throw e}})}_revokeOAuthGrant(e){return Y(this,null,function*(){try{return yield this._useSession(r=>Y(this,null,function*(){const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(yield ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new rr})}))}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(n){return Y(this,arguments,function*(e,r={keys:[]}){let i=r.keys.find(l=>l.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+AC>o)return i;const{data:a,error:s}=yield ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,i=a.keys.find(l=>l.kid===e),!i)?null:i})}getClaims(n){return Y(this,arguments,function*(e,r={}){try{let i=e;if(!i){const{data:g,error:b}=yield this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});i=g.session.access_token}const{header:o,payload:a,signature:s,raw:{header:l,payload:f}}=sf(i);r!=null&&r.allowExpired||QC(a.exp);const v=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!v){const{error:g}=yield this.getUser(i);if(g)throw g;return{data:{claims:a,header:o,signature:s},error:null}}const d=JC(o.alg),c=yield crypto.subtle.importKey("jwk",v,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,c,s,MC(`${l}.${f}`))))throw new iu("Invalid JWT signature");return{data:{claims:a,header:o,signature:s},error:null}}catch(i){if(Me(i))return this._returnResult({data:null,error:i});throw i}})}};zh.nextInstanceID={};const jR=Uh,NR=zh,PR=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:jR,AuthApiError:db,AuthClient:NR,AuthError:So,AuthImplicitGrantRedirectError:da,AuthInvalidCredentialsError:fa,AuthInvalidJwtError:iu,AuthInvalidTokenResponseError:ci,AuthPKCEGrantCodeExchangeError:Nd,AuthRetryableFetchError:nu,AuthSessionMissingError:rr,AuthUnknownError:Pn,AuthWeakPasswordError:Pd,CustomAuthError:hn,GoTrueAdminApi:Uh,GoTrueClient:zh,NavigatorLockAcquireTimeoutError:wb,SIGN_OUT_SCOPES:gl,isAuthApiError:hb,isAuthError:Me,isAuthImplicitGrantRedirectError:vb,isAuthRetryableFetchError:yl,isAuthSessionMissingError:pb,isAuthWeakPasswordError:CC,lockInternals:di,navigatorLock:bb,processLock:sR},Symbol.toStringTag,{value:"Module"})),kb=za(PR);Object.defineProperty(qu,"__esModule",{value:!0});qu.SupabaseAuthClient=void 0;const AR=kb;class CR extends AR.AuthClient{constructor(e){super(e)}}qu.SupabaseAuthClient=CR;Object.defineProperty(Xl,"__esModule",{value:!0});const RR=ew,IR=Gt,LR=Vw,DR=xC,el=sb,MR=lb,Xm=Gn,$R=qu;let BR=class{constructor(e,r,n){var i,o,a;this.supabaseUrl=e,this.supabaseKey=r;const s=(0,Xm.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,f={db:el.DEFAULT_DB_OPTIONS,realtime:el.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},el.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:el.DEFAULT_GLOBAL_OPTIONS},v=(0,Xm.applySettingDefaults)(n!=null?n:{},f);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(d,c)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(c)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=v.auth)!==null&&a!==void 0?a:{},this.headers,v.global.fetch),this.fetch=(0,MR.fetchWithAuth)(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new IR.PostgrestClient(new URL("rest/v1",s).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new DR.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new RR.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Y(this,null,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:a,flowType:s,lock:l,debug:f,throwOnError:v},d,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $R.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,flowType:s,lock:l,debug:f,throwOnError:v,fetch:c,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new LR.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Xl.default=BR;(function(t){var e=Et&&Et.__createBinding||(Object.create?function(v,d,c,h){h===void 0&&(h=c);var g=Object.getOwnPropertyDescriptor(d,c);(!g||("get"in g?!d.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return d[c]}}),Object.defineProperty(v,h,g)}:function(v,d,c,h){h===void 0&&(h=c),v[h]=d[c]}),r=Et&&Et.__exportStar||function(v,d){for(var c in v)c!=="default"&&!Object.prototype.hasOwnProperty.call(d,c)&&e(d,v,c)},n=Et&&Et.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=n(Xl);r(kb,t);var o=Gt;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var a=ew;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return a.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return a.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return a.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return a.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return a.FunctionRegion}}),r(Vw,t);var s=Xl;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const l=(v,d,c)=>new i.default(v,d,c);t.createClient=l;function f(){if(typeof window!="undefined"||typeof process=="undefined")return!1;const v=process.version;if(v==null)return!1;const d=v.match(/^v(\d+)\./);return d?parseInt(d[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Ih);const Eb=lu(Ih),qR=e1({__proto__:null,default:Eb},[Ih]),{PostgrestError:S4,FunctionsHttpError:O4,FunctionsFetchError:T4,FunctionsRelayError:j4,FunctionsError:N4,FunctionRegion:P4,SupabaseClient:A4,createClient:UR,GoTrueAdminApi:C4,GoTrueClient:R4,AuthAdminApi:I4,AuthClient:L4,navigatorLock:D4,NavigatorLockAcquireTimeoutError:M4,lockInternals:$4,processLock:B4,SIGN_OUT_SCOPES:q4,AuthError:U4,AuthApiError:F4,AuthUnknownError:z4,CustomAuthError:K4,AuthSessionMissingError:H4,AuthInvalidTokenResponseError:W4,AuthInvalidCredentialsError:V4,AuthImplicitGrantRedirectError:G4,AuthPKCEGrantCodeExchangeError:Y4,AuthRetryableFetchError:Q4,AuthWeakPasswordError:J4,AuthInvalidJwtError:X4,isAuthError:Z4,isAuthApiError:e3,isAuthSessionMissingError:t3,isAuthImplicitGrantRedirectError:r3,isAuthRetryableFetchError:n3,isAuthWeakPasswordError:i3,RealtimePresence:o3,RealtimeChannel:a3,RealtimeClient:s3,REALTIME_LISTEN_TYPES:l3,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:u3,REALTIME_PRESENCE_LISTEN_EVENTS:c3,REALTIME_SUBSCRIBE_STATES:f3,REALTIME_CHANNEL_STATES:d3}=Eb||qR,FR="https://cjlfhaoxwodincelcqgg.supabase.co",zR="sb_publishable_b11re_7qm0Izst1K9mrgPw_SWkVPPF3",ir=UR(FR,zR),Cd=Object.freeze(Object.defineProperty({__proto__:null,supabase:ir},Symbol.toStringTag,{value:"Module"})),xa={signIn:(t,e)=>Y(void 0,null,function*(){const{data:r,error:n}=yield ir.auth.signInWithPassword({email:t,password:e});return{data:r,error:n}}),signUp:(t,e)=>Y(void 0,null,function*(){const{data:r,error:n}=yield ir.auth.signUp({email:t,password:e});return{data:r,error:n}}),signOut:()=>Y(void 0,null,function*(){const{error:t}=yield ir.auth.signOut();return{error:t}}),signInWithGoogle:()=>Y(void 0,null,function*(){const t=xi.isNativePlatform()?"com.smarttimetable.app://google-auth":window.location.origin,{data:e,error:r}=yield ir.auth.signInWithOAuth({provider:"google",options:{redirectTo:t}});return{data:e,error:r}}),getUser:()=>Y(void 0,null,function*(){const{data:{user:t}}=yield ir.auth.getUser();return t}),onAuthStateChange:t=>{const{data:{subscription:e}}=ir.auth.onAuthStateChange((r,n)=>{t(r,n)});return{data:{subscription:e}}}},KR=({onLogin:t})=>{const[e,r]=he.useState(!0),[n,i]=he.useState(!1),[o,a]=he.useState(""),[s,l]=he.useState(""),[f,v]=he.useState(""),[d,c]=he.useState(""),h=()=>{i(!n)},g=x=>Y(void 0,null,function*(){if(x.preventDefault(),c(""),!(!o.trim()||!s.trim())){if(!o.includes("@")){c("Please enter a valid email address");return}try{if(e){const{data:p,error:m}=yield xa.signIn(o,s);if(m)throw m;t(p.user)}else{if(s!==f){c("Passwords do not match");return}const{data:p,error:m}=yield xa.signUp(o,s);if(m)throw m;t(p.user)}}catch(p){console.error(p),p.message==="Failed to fetch"?c("Connection failed. Supabase keys might be missing or invalid."):c(p.message||"Authentication failed")}}}),b=()=>Y(void 0,null,function*(){try{const{error:x}=yield xa.signInWithGoogle();if(x)throw x}catch(x){console.error(x),c(x.message||"Google login failed")}});return E.jsx("div",{className:"h-screen w-full bg-[#0a0a0a] text-white flex flex-col items-center justify-center p-4 font-sans overflow-hidden",children:E.jsxs("div",{className:"w-full max-w-[380px] flex flex-col items-center space-y-4",children:[E.jsx("div",{className:"mb-2",children:E.jsxs("div",{className:"w-20 h-20 rounded-[2rem] relative overflow-hidden shadow-2xl flex items-center justify-center",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-[#2d3a82] to-[#ff9d4d] z-0"}),E.jsx("div",{className:"absolute bottom-0 left-0 w-full h-full bg-[#2d3a82] origin-bottom-left transform -skew-y-12 translate-y-1/2 opacity-90"}),E.jsx("div",{className:"relative z-10 drop-shadow-lg transform scale-90",children:E.jsxs("svg",{width:"60",height:"70",viewBox:"0 0 60 70",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("rect",{x:"5",y:"5",width:"50",height:"60",rx:"6",fill:"#fca56a"}),E.jsx("rect",{x:"5",y:"5",width:"50",height:"58",rx:"6",fill:"#ffb885"}),E.jsx("rect",{x:"10",y:"10",width:"40",height:"50",rx:"2",fill:"#e5e7eb"}),E.jsx("rect",{x:"10",y:"10",width:"40",height:"48",rx:"2",fill:"white"}),E.jsx("path",{d:"M20 2H40C40 2 42 2 42 6V10H18V6C18 2 20 2 20 2Z",fill:"#2d3a82"}),E.jsx("circle",{cx:"30",cy:"6",r:"2",fill:"#ffb885"}),E.jsx("circle",{cx:"22",cy:"25",r:"7",fill:"#2d3a82"}),E.jsx("path",{d:"M19 25L21 27L25 23",stroke:"#ffb885",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("rect",{x:"32",y:"22",width:"12",height:"3",rx:"1.5",fill:"#8aa2bd"}),E.jsx("rect",{x:"20",y:"35",width:"24",height:"3",rx:"1.5",fill:"#8aa2bd"}),E.jsx("rect",{x:"20",y:"44",width:"24",height:"3",rx:"1.5",fill:"#8aa2bd"}),E.jsx("circle",{cx:"15",cy:"36.5",r:"1.5",fill:"#2d3a82"}),E.jsx("circle",{cx:"15",cy:"45.5",r:"1.5",fill:"#2d3a82"})]})})]})}),E.jsxs("div",{className:"text-center space-y-1",children:[E.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:e?"Welcome back":"Create account"}),E.jsx("p",{className:"text-gray-500 text-xs",children:e?"Sign in to continue.":"Sign up to get started."})]}),E.jsxs("form",{onSubmit:g,className:"w-full space-y-3",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-gray-400 text-[10px] pl-1 uppercase tracking-wide font-semibold",children:"Email Address"}),E.jsx("input",{type:"email",value:o,onChange:x=>{a(x.target.value),c("")},className:"w-full bg-[#161616] border border-[#2a2a2a] rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-gray-600 transition-colors placeholder-transparent"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-gray-400 text-[10px] pl-1 uppercase tracking-wide font-semibold",children:"Password"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:n?"text":"password",value:s,onChange:x=>{l(x.target.value),c("")},className:"w-full bg-[#161616] border border-[#2a2a2a] rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-gray-600 transition-colors"}),E.jsx("button",{onClick:h,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",type:"button",children:n?E.jsx($x,{size:16}):E.jsx(Bx,{size:16})})]})]}),!e&&E.jsxs("div",{className:"space-y-1 animate-slide-in",children:[E.jsx("label",{className:"text-gray-400 text-[10px] pl-1 uppercase tracking-wide font-semibold",children:"Confirm Password"}),E.jsx("input",{type:"password",value:f,onChange:x=>{v(x.target.value),c("")},className:"w-full bg-[#161616] border border-[#2a2a2a] rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-gray-600 transition-colors"})]}),e&&E.jsx("div",{className:"flex justify-end",children:E.jsx("button",{type:"button",className:"text-[#2dd4bf] text-[11px] hover:text-[#14b8a6] transition-colors font-medium",children:"Forgot Password?"})}),d&&E.jsx("div",{className:"text-red-400 text-xs text-center bg-red-500/10 border border-red-500/20 py-2 rounded-lg",children:d}),E.jsx("button",{type:"submit",className:"w-full bg-[#262626] hover:bg-[#333333] text-gray-400 hover:text-white font-semibold py-3 rounded-xl transition-all duration-200 shadow-lg shadow-black/20",children:e?"Sign In":"Create Account"})]}),E.jsxs("div",{className:"w-full flex items-center justify-between my-4",children:[E.jsx("div",{className:"h-[1px] bg-[#262626] flex-1"}),E.jsx("span",{className:"text-[9px] text-gray-600 px-3 tracking-wider font-semibold",children:"OR CONTINUE WITH"}),E.jsx("div",{className:"h-[1px] bg-[#262626] flex-1"})]}),E.jsx("button",{onClick:b,className:"w-full bg-[#161616] border border-[#2a2a2a] hover:bg-[#202020] text-white py-3 rounded-xl flex items-center justify-center transition-all duration-200 group",children:E.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z"}),E.jsx("path",{fill:"#EA4335",d:"M12 4.66c1.61 0 3.1.59 4.28 1.74l3.21-3.21C17.5 1.28 14.97 0 12 0 7.7 0 3.99 2.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),E.jsxs("div",{className:"mt-4 text-center flex flex-col items-center gap-3",children:[E.jsxs("p",{className:"text-gray-400 text-xs",children:[e?"Don't have an account? ":"Already have an account? ",E.jsx("button",{onClick:()=>{r(!e),c("")},className:"text-[#2dd4bf] hover:text-[#14b8a6] transition-colors font-medium ml-1",children:e?"Sign Up":"Sign In"})]}),E.jsx("button",{onClick:()=>t({id:"guest-user-id",email:"guest@offline"}),className:"text-gray-600 text-[10px] hover:text-gray-400 transition-colors uppercase tracking-wide",children:"Continue Offline"})]})]})})},HR=[{name:"Teal",color:"#00bcd4",id:"teal"},{name:"Blue",color:"#3b82f6",id:"blue"},{name:"Purple",color:"#a855f7",id:"purple"},{name:"Green",color:"#22c55e",id:"green"},{name:"Orange",color:"#f97316",id:"orange"}],Zm=[{name:"Alynto 1",file:"/sounds/new-notification-1-398650.mp3"},{name:"Alynto 2",file:"/sounds/new-notification-026-380249.mp3"},{name:"Alynto 3",file:"/sounds/new-notification-3-398649.mp3"},{name:"Alynto 4",file:"/sounds/new-notification-444814.mp3"},{name:"Alynto 5",file:"/sounds/notification-crackle-432435.mp3"},{name:"Alynto 6",file:"/sounds/notification-power-432434.mp3"},{name:"Alynto 7",file:"/sounds/notification-sound-effect-372475.mp3"}],WR=({preferences:t,onUpdatePreferences:e,theme:r,onUpdateTheme:n,onExport:i,onImport:o,onBack:a})=>{var p,m,_,w,S,I,j,T,M,A,R,L;const[s,l]=he.useState(null),[f,v]=he.useState(""),[d,c]=he.useState(!1);On.useEffect(()=>{Y(void 0,null,function*(){try{const{data:{user:F}}=yield qa(()=>Promise.resolve().then(()=>Cd),void 0,import.meta.url).then(G=>G.supabase.auth.getUser());if(F){const{data:G,error:V}=yield qa(()=>Y(void 0,null,function*(){const{data:X,error:z}=yield Promise.resolve().then(()=>Cd);return{data:X,error:z}}),void 0,import.meta.url).then(X=>X.supabase.from("profiles").select("telegram_chat_id").eq("id",F.id).single());G&&G.telegram_chat_id&&v(G.telegram_chat_id)}}catch(F){console.error("Error fetching profile:",F)}})},[]);const h=()=>{window.location.reload()},g=(D,F)=>{e(G=>We(Ce({},G),{[D]:F})),S0(F).catch(G=>console.error("Error playing sound:",G))},b=()=>{gi.schedule("test-notification","Test Notification","This is a test notification from Alynto.",new Date(Date.now()+100),t.reminderTone),Ze.success("Test notification sent")};if(s==="notifications")return E.jsxs("div",{className:"flex flex-col h-full bg-[#0f172a] animate-slide-in text-white font-sans",children:[E.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/5 bg-[#0f172a] z-10",children:[E.jsx("button",{onClick:()=>l(null),className:"p-2 -ml-2 rounded-full hover:bg-white/5 text-white/70 hover:text-white transition-colors",children:E.jsx(Ax,{size:24})}),E.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications & Sounds"})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:E.jsxs("div",{className:"bg-[#1e293b] rounded-xl overflow-hidden border border-white/5",children:[E.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-white/5 hover:bg-white/[0.02] transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${(p=t.notifications)!=null&&p.local?"bg-opacity-20 text-opacity-100":"bg-white/5 text-white/40"}`,style:(m=t.notifications)!=null&&m.local?{backgroundColor:`${r.primary}33`,color:r.primary}:{},children:E.jsx(nd,{size:20})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-medium text-white",children:"Push Notifications"}),E.jsx("p",{className:"text-xs text-white/40",children:(_=t.notifications)!=null&&_.local?"Enabled":"Tap to Enable"})]})]}),E.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[E.jsx("input",{type:"checkbox",className:"sr-only peer",checked:(S=(w=t.notifications)==null?void 0:w.local)!=null?S:!0,onChange:D=>e(F=>We(Ce({},F),{notifications:We(Ce({},F.notifications),{local:D.target.checked})}))}),E.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all",style:(I=t.notifications)!=null&&I.local?{backgroundColor:r.primary}:{}})]})]}),E.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-white/5 hover:bg-white/[0.02] transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${(j=t.notifications)!=null&&j.web?"bg-opacity-20 text-opacity-100":"bg-white/5 text-white/40"}`,style:(T=t.notifications)!=null&&T.web?{backgroundColor:`${r.primary}33`,color:r.primary}:{},children:E.jsx(Ux,{size:20})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-medium text-white",children:"Web Push Notifications"}),E.jsx("p",{className:"text-xs text-white/40",children:(M=t.notifications)!=null&&M.web?"Enabled":"Browser notifications"})]})]}),E.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[E.jsx("input",{type:"checkbox",className:"sr-only peer",checked:(R=(A=t.notifications)==null?void 0:A.web)!=null?R:!0,onChange:D=>e(F=>We(Ce({},F),{notifications:We(Ce({},F.notifications),{web:D.target.checked})}))}),E.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all",style:(L=t.notifications)!=null&&L.web?{backgroundColor:r.primary}:{}})]})]}),E.jsx("div",{className:"p-4 border-b border-white/5",children:E.jsxs("button",{onClick:b,className:"w-full text-left bg-[#0f172a] hover:bg-[#0f172a]/80 border border-white/10 rounded-lg p-3 transition-colors group",children:[E.jsx("p",{className:"font-medium text-white text-sm",children:"Send Test Notification"}),E.jsx("p",{className:"text-xs text-white/40 group-hover:text-opacity-100 transition-colors",style:{"--hover-color":r.primary},onMouseEnter:D=>D.currentTarget.style.color=r.primary,onMouseLeave:D=>D.currentTarget.style.color="",children:"Check if alerts are working"})]})}),E.jsxs("div",{className:"p-4 border-b border-white/5",children:[E.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Notification Tone"}),E.jsx("div",{className:"grid grid-cols-2 gap-3",children:Zm.map(D=>E.jsx("button",{onClick:()=>g("reminderTone",D.file),className:`p-3 rounded-lg text-xs font-medium text-left transition-all ${t.reminderTone===D.file?"bg-opacity-10 text-opacity-100 border-opacity-30":"bg-[#0f172a] text-white/60 border border-white/5 hover:bg-white/5 hover:text-white"}`,style:t.reminderTone===D.file?{backgroundColor:`${r.primary}1a`,color:r.primary,borderColor:`${r.primary}4d`}:{},children:D.name},D.file))})]}),E.jsxs("div",{className:"p-4",children:[E.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Timer Tone (Clutch)"}),E.jsx("div",{className:"grid grid-cols-2 gap-3",children:Zm.map(D=>E.jsx("button",{onClick:()=>g("clutchTone",D.file),className:`p-3 rounded-lg text-xs font-medium text-left transition-all ${t.clutchTone===D.file?"bg-opacity-10 text-opacity-100 border-opacity-30":"bg-[#0f172a] text-white/60 border border-white/5 hover:bg-white/5 hover:text-white"}`,style:t.clutchTone===D.file?{backgroundColor:`${r.primary}1a`,color:r.primary,borderColor:`${r.primary}4d`}:{},children:D.name},D.file))})]})]})})]});const x=()=>Y(void 0,null,function*(){c(!0);try{const{data:{user:D}}=yield ir.auth.getUser();if(!D){Ze.error("You must be logged in");return}const{error:F}=yield ir.from("profiles").upsert({id:D.id,telegram_chat_id:f,updated_at:new Date().toISOString()});if(F)throw F;Ze.success("Telegram connected successfully!")}catch(D){console.error("Failed to save Telegram ID:",D),Ze.error(`Failed: ${D.message||"Unknown error"}`)}finally{c(!1)}});return E.jsxs("div",{className:"flex flex-col h-full bg-[#0f172a] animate-slide-in text-white font-sans",children:[E.jsxs("div",{className:"flex items-center gap-4 p-6 border-b border-white/5 bg-[#0f172a] z-10",children:[E.jsx("button",{onClick:a,className:"p-2 -ml-2 rounded-full hover:bg-white/5 text-white/70 hover:text-white transition-colors",children:E.jsx(_o,{size:24})}),E.jsx("h2",{className:"text-xl font-bold text-white",children:"Settings"})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("section",{className:"space-y-4",children:[E.jsx("h3",{className:"text-xs font-bold text-white/40 uppercase tracking-widest ml-1",children:"INTEGRATIONS"}),E.jsxs("div",{className:"bg-[#1e293b] rounded-xl overflow-hidden border border-white/5 p-4",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-[#0088cc]/20 flex items-center justify-center text-[#0088cc]",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),E.jsx("path",{d:"M22 2 11 13"})]})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-medium text-white",children:"Telegram Reminders (v1.2)"}),E.jsx("p",{className:"text-xs text-white/40",children:"Get notified on your phone"})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-black/20 p-4 rounded-xl border border-white/5 space-y-3",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"w-6 h-6 rounded-full bg-accent/10 flex items-center justify-center text-accent shrink-0 mt-0.5",children:E.jsx("span",{className:"text-xs font-bold",children:"1"})}),E.jsxs("div",{className:"text-sm text-white/80",children:["Start the bot: ",E.jsx("a",{href:"https://t.me/Mysuperschedule_bot",target:"_blank",rel:"noopener noreferrer",className:"text-accent font-bold hover:underline",children:"@Mysuperschedule_bot"})]})]}),E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"w-6 h-6 rounded-full bg-accent/10 flex items-center justify-center text-accent shrink-0 mt-0.5",children:E.jsx("span",{className:"text-xs font-bold",children:"2"})}),E.jsxs("div",{className:"text-sm text-white/80",children:["Get your ID from: ",E.jsx("a",{href:"https://t.me/userinfobot",target:"_blank",rel:"noopener noreferrer",className:"text-accent font-bold hover:underline",children:"@userinfobot"})]})]}),E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"w-6 h-6 rounded-full bg-accent/10 flex items-center justify-center text-accent shrink-0 mt-0.5",children:E.jsx("span",{className:"text-xs font-bold",children:"3"})}),E.jsx("div",{className:"text-sm text-white/80",children:"Paste your ID below and save."})]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",value:f,onChange:D=>v(D.target.value),placeholder:"Paste your Telegram ID here",className:"flex-1 bg-[#0f172a] border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-accent/50 placeholder-white/20 font-medium"}),E.jsx("button",{onClick:x,disabled:d,className:"bg-accent text-black px-6 py-3 rounded-xl text-sm font-bold hover:bg-accent/90 disabled:opacity-50 transition-colors shadow-lg shadow-accent/10",children:d?"Saving...":"Connect"})]})]})]})]}),E.jsxs("button",{onClick:()=>l("notifications"),className:"w-full bg-[#1e293b] p-4 rounded-xl border border-white/5 flex items-center justify-between hover:bg-[#1e293b]/80 transition-colors group",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-accent/20 flex items-center justify-center text-accent",style:{backgroundColor:`${r.primary}33`,color:r.primary},children:E.jsx(nd,{size:20})}),E.jsxs("div",{className:"text-left",children:[E.jsx("p",{className:"font-medium text-white",children:"Notifications & Sounds"}),E.jsx("p",{className:"text-xs text-white/40",children:"Push alerts, tones, and volume"})]})]}),E.jsx(Su,{size:20,className:"text-white/40 group-hover:text-white transition-colors"})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h3",{className:"text-xs font-bold text-white/40 uppercase tracking-widest ml-1",children:"APPEARANCE"}),E.jsx("div",{className:"bg-[#1e293b] rounded-xl overflow-hidden border border-white/5",children:HR.map(D=>E.jsxs("button",{onClick:()=>n({mode:"dark",primary:D.color}),className:"w-full p-4 flex items-center justify-between border-b border-white/5 last:border-0 hover:bg-white/[0.02] transition-colors group",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform",style:{backgroundColor:D.color}}),E.jsx("span",{className:"font-medium text-white",children:D.name})]}),(r==null?void 0:r.primary)===D.color&&E.jsx(Ix,{size:20,className:"text-accent",style:{color:r.primary}})]},D.id))})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h3",{className:"text-xs font-bold text-white/40 uppercase tracking-widest ml-1",children:"DATA & BACKUP"}),E.jsxs("div",{className:"bg-[#1e293b] rounded-xl overflow-hidden border border-white/5",children:[E.jsx("button",{onClick:i,className:"w-full p-4 flex items-center justify-between border-b border-white/5 hover:bg-white/[0.02] transition-colors text-left",children:E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-[#0f172a] border border-white/10 flex items-center justify-center text-info",children:E.jsx(Dx,{size:20})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-medium text-white",children:"Export Data"}),E.jsx("p",{className:"text-xs text-white/40",children:"Copy schedule to clipboard"})]})]})}),E.jsx("button",{onClick:o,className:"w-full p-4 flex items-center justify-between hover:bg-white/[0.02] transition-colors text-left",children:E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-[#0f172a] border border-white/10 flex items-center justify-center text-purple-400",children:E.jsx(m0,{size:20})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-medium text-white",children:"Import Data"}),E.jsx("p",{className:"text-xs text-white/40",children:"Paste schedule from clipboard"})]})]})})]})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h3",{className:"text-xs font-bold text-white/40 uppercase tracking-widest ml-1",children:"ABOUT"}),E.jsxs("div",{className:"bg-[#1e293b] rounded-xl overflow-hidden border border-white/5 p-4",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("span",{className:"font-medium text-white",children:"Version"}),E.jsx("span",{className:"text-white/40",children:"2.0.0 (Premium)"})]}),E.jsxs("button",{onClick:h,className:"w-full py-3 bg-[#0f172a] hover:bg-[#0f172a]/80 border border-white/10 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",children:[E.jsx(Qx,{size:16}),"Refresh App"]})]})]})]}),E.jsx("div",{className:"h-8"})]})]})},VR=he.createContext(null),uf={didCatch:!1,error:null};class GR extends he.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=uf}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var r,n,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];(r=(n=this.props).onReset)===null||r===void 0||r.call(n,{args:o,reason:"imperative-api"}),this.setState(uf)}}componentDidCatch(e,r){var n,i;(n=(i=this.props).onError)===null||n===void 0||n.call(i,e,r)}componentDidUpdate(e,r){const{didCatch:n}=this.state,{resetKeys:i}=this.props;if(n&&r.error!==null&&YR(e.resetKeys,i)){var o,a;(o=(a=this.props).onReset)===null||o===void 0||o.call(a,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(uf)}}render(){const{children:e,fallbackRender:r,FallbackComponent:n,fallback:i}=this.props,{didCatch:o,error:a}=this.state;let s=e;if(o){const l={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")s=r(l);else if(n)s=he.createElement(n,l);else if(i!==void 0)s=i;else throw a}return he.createElement(VR.Provider,{value:{didCatch:o,error:a,resetErrorBoundary:this.resetErrorBoundary}},s)}}function YR(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((r,n)=>!Object.is(r,e[n]))}var Sb={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Et,function(){var r=function(u,y){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,O){k.__proto__=O}||function(k,O){for(var C in O)Object.prototype.hasOwnProperty.call(O,C)&&(k[C]=O[C])})(u,y)},n=function(){return(n=Object.assign||function(u){for(var y,k=1,O=arguments.length;k<O;k++)for(var C in y=arguments[k])Object.prototype.hasOwnProperty.call(y,C)&&(u[C]=y[C]);return u}).apply(this,arguments)};function i(u,y,k){for(var O,C=0,$=y.length;C<$;C++)!O&&C in y||((O=O||Array.prototype.slice.call(y,0,C))[C]=y[C]);return u.concat(O||Array.prototype.slice.call(y))}var o=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:Et,a=Object.keys,s=Array.isArray;function l(u,y){return typeof y!="object"||a(y).forEach(function(k){u[k]=y[k]}),u}typeof Promise=="undefined"||o.Promise||(o.Promise=Promise);var f=Object.getPrototypeOf,v={}.hasOwnProperty;function d(u,y){return v.call(u,y)}function c(u,y){typeof y=="function"&&(y=y(f(u))),(typeof Reflect=="undefined"?a:Reflect.ownKeys)(y).forEach(function(k){g(u,k,y[k])})}var h=Object.defineProperty;function g(u,y,k,O){h(u,y,l(k&&d(k,"get")&&typeof k.get=="function"?{get:k.get,set:k.set,configurable:!0}:{value:k,configurable:!0,writable:!0},O))}function b(u){return{from:function(y){return u.prototype=Object.create(y.prototype),g(u.prototype,"constructor",u),{extend:c.bind(null,u.prototype)}}}}var x=Object.getOwnPropertyDescriptor,p=[].slice;function m(u,y,k){return p.call(u,y,k)}function _(u,y){return y(u)}function w(u){if(!u)throw new Error("Assertion Failed")}function S(u){o.setImmediate?setImmediate(u):setTimeout(u,0)}function I(u,y){if(typeof y=="string"&&d(u,y))return u[y];if(!y)return u;if(typeof y!="string"){for(var k=[],O=0,C=y.length;O<C;++O){var $=I(u,y[O]);k.push($)}return k}var H=y.indexOf(".");if(H!==-1){var J=u[y.substr(0,H)];return J==null?void 0:I(J,y.substr(H+1))}}function j(u,y,k){if(u&&y!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof y!="string"&&"length"in y){w(typeof k!="string"&&"length"in k);for(var O=0,C=y.length;O<C;++O)j(u,y[O],k[O])}else{var $,H,J=y.indexOf(".");J!==-1?($=y.substr(0,J),(H=y.substr(J+1))===""?k===void 0?s(u)&&!isNaN(parseInt($))?u.splice($,1):delete u[$]:u[$]=k:j(J=!(J=u[$])||!d(u,$)?u[$]={}:J,H,k)):k===void 0?s(u)&&!isNaN(parseInt(y))?u.splice(y,1):delete u[y]:u[y]=k}}function T(u){var y,k={};for(y in u)d(u,y)&&(k[y]=u[y]);return k}var M=[].concat;function A(u){return M.apply([],u)}var yt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(A([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(y){return y+u+"Array"})}))).filter(function(u){return o[u]}),R=new Set(yt.map(function(u){return o[u]})),L=null;function D(u){return L=new WeakMap,u=function y(k){if(!k||typeof k!="object")return k;var O=L.get(k);if(O)return O;if(s(k)){O=[],L.set(k,O);for(var C=0,$=k.length;C<$;++C)O.push(y(k[C]))}else if(R.has(k.constructor))O=k;else{var H,J=f(k);for(H in O=J===Object.prototype?{}:Object.create(J),L.set(k,O),k)d(k,H)&&(O[H]=y(k[H]))}return O}(u),L=null,u}var F={}.toString;function G(u){return F.call(u).slice(8,-1)}var V=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",X=typeof V=="symbol"?function(u){var y;return u!=null&&(y=u[V])&&y.apply(u)}:function(){return null};function z(u,y){return y=u.indexOf(y),0<=y&&u.splice(y,1),0<=y}var q={};function P(u){var y,k,O,C;if(arguments.length===1){if(s(u))return u.slice();if(this===q&&typeof u=="string")return[u];if(C=X(u)){for(k=[];!(O=C.next()).done;)k.push(O.value);return k}if(u==null)return[u];if(typeof(y=u.length)!="number")return[u];for(k=new Array(y);y--;)k[y]=u[y];return k}for(y=arguments.length,k=new Array(y);y--;)k[y]=arguments[y];return k}var N=typeof Symbol!="undefined"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],br=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ue),B={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function K(u,y){this.name=u,this.message=y}function te(u,y){return u+". Errors: "+Object.keys(y).map(function(k){return y[k].toString()}).filter(function(k,O,C){return C.indexOf(k)===O}).join(`
`)}function W(u,y,k,O){this.failures=y,this.failedKeys=O,this.successCount=k,this.message=te(u,y)}function U(u,y){this.name="BulkError",this.failures=Object.keys(y).map(function(k){return y[k]}),this.failuresByPos=y,this.message=te(u,this.failures)}b(K).from(Error).extend({toString:function(){return this.name+": "+this.message}}),b(W).from(K),b(U).from(K);var Q=br.reduce(function(u,y){return u[y]=y+"Error",u},{}),ce=K,Z=br.reduce(function(u,y){var k=y+"Error";function O(C,$){this.name=k,C?typeof C=="string"?(this.message="".concat(C).concat($?`
 `+$:""),this.inner=$||null):typeof C=="object"&&(this.message="".concat(C.name," ").concat(C.message),this.inner=C):(this.message=B[y]||k,this.inner=null)}return b(O).from(ce),u[y]=O,u},{});Z.Syntax=SyntaxError,Z.Type=TypeError,Z.Range=RangeError;var ve=Ue.reduce(function(u,y){return u[y+"Error"]=Z[y],u},{}),Ne=br.reduce(function(u,y){return["Syntax","Type","Range"].indexOf(y)===-1&&(u[y+"Error"]=Z[y]),u},{});function Se(){}function Be(u){return u}function Fe(u,y){return u==null||u===Be?y:function(k){return y(u(k))}}function Ke(u,y){return function(){u.apply(this,arguments),y.apply(this,arguments)}}function Ge(u,y){return u===Se?y:function(){var k=u.apply(this,arguments);k!==void 0&&(arguments[0]=k);var O=this.onsuccess,C=this.onerror;this.onsuccess=null,this.onerror=null;var $=y.apply(this,arguments);return O&&(this.onsuccess=this.onsuccess?Ke(O,this.onsuccess):O),C&&(this.onerror=this.onerror?Ke(C,this.onerror):C),$!==void 0?$:k}}function at(u,y){return u===Se?y:function(){u.apply(this,arguments);var k=this.onsuccess,O=this.onerror;this.onsuccess=this.onerror=null,y.apply(this,arguments),k&&(this.onsuccess=this.onsuccess?Ke(k,this.onsuccess):k),O&&(this.onerror=this.onerror?Ke(O,this.onerror):O)}}function pe(u,y){return u===Se?y:function(k){var O=u.apply(this,arguments);l(k,O);var C=this.onsuccess,$=this.onerror;return this.onsuccess=null,this.onerror=null,k=y.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?Ke(C,this.onsuccess):C),$&&(this.onerror=this.onerror?Ke($,this.onerror):$),O===void 0?k===void 0?void 0:k:l(O,k)}}function ge(u,y){return u===Se?y:function(){return y.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function _e(u,y){return u===Se?y:function(){var k=u.apply(this,arguments);if(k&&typeof k.then=="function"){for(var O=this,C=arguments.length,$=new Array(C);C--;)$[C]=arguments[C];return k.then(function(){return y.apply(O,$)})}return y.apply(this,arguments)}}Ne.ModifyError=W,Ne.DexieError=K,Ne.BulkError=U;var be=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function me(u){be=u}var De={},qe=100,yt=typeof Promise=="undefined"?[]:function(){var u=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[u,f(u),u];var y=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[y,f(y),u]}(),Ue=yt[0],br=yt[1],yt=yt[2],br=br&&br.then,Ot=Ue&&Ue.constructor,nt=!!yt,Gr=function(u,y){$o.push([u,y]),cr&&(queueMicrotask(Tb),cr=!1)},ht=!0,cr=!0,Yn=[],Xa=[],zu=Be,pn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Se,pgp:!1,env:{},finalize:Se},$e=pn,$o=[],Qn=0,Za=[];function Ae(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var y=this._PSD=$e;if(typeof u!="function"){if(u!==De)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Hu(this,this._value))}this._state=null,this._value=null,++y.ref,function k(O,C){try{C(function($){if(O._state===null){if($===O)throw new TypeError("A promise cannot be resolved with itself.");var H=O._lib&&Ai();$&&typeof $.then=="function"?k(O,function(J,re){$ instanceof Ae?$._then(J,re):$.then(J,re)}):(O._state=!0,O._value=$,Hh(O)),H&&Ci()}},Hu.bind(null,O))}catch($){Hu(O,$)}}(this,u)}var Ku={get:function(){var u=$e,y=ns;function k(O,C){var $=this,H=!u.global&&(u!==$e||y!==ns),J=H&&!mn(),re=new Ae(function(ne,se){Wu($,new Kh(Vh(O,u,H,J),Vh(C,u,H,J),ne,se,u))});return this._consoleTask&&(re._consoleTask=this._consoleTask),re}return k.prototype=De,k},set:function(u){g(this,"then",u&&u.prototype===De?Ku:{get:function(){return u},set:Ku.set})}};function Kh(u,y,k,O,C){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof y=="function"?y:null,this.resolve=k,this.reject=O,this.psd=C}function Hu(u,y){var k,O;Xa.push(y),u._state===null&&(k=u._lib&&Ai(),y=zu(y),u._state=!1,u._value=y,O=u,Yn.some(function(C){return C._value===O._value})||Yn.push(O),Hh(u),k&&Ci())}function Hh(u){var y=u._listeners;u._listeners=[];for(var k=0,O=y.length;k<O;++k)Wu(u,y[k]);var C=u._PSD;--C.ref||C.finalize(),Qn===0&&(++Qn,Gr(function(){--Qn==0&&Vu()},[]))}function Wu(u,y){if(u._state!==null){var k=u._state?y.onFulfilled:y.onRejected;if(k===null)return(u._state?y.resolve:y.reject)(u._value);++y.psd.ref,++Qn,Gr(Ob,[k,u,y])}else u._listeners.push(y)}function Ob(u,y,k){try{var O,C=y._value;!y._state&&Xa.length&&(Xa=[]),O=be&&y._consoleTask?y._consoleTask.run(function(){return u(C)}):u(C),y._state||Xa.indexOf(C)!==-1||function($){for(var H=Yn.length;H;)if(Yn[--H]._value===$._value)return Yn.splice(H,1)}(y),k.resolve(O)}catch($){k.reject($)}finally{--Qn==0&&Vu(),--k.psd.ref||k.psd.finalize()}}function Tb(){Jn(pn,function(){Ai()&&Ci()})}function Ai(){var u=ht;return cr=ht=!1,u}function Ci(){var u,y,k;do for(;0<$o.length;)for(u=$o,$o=[],k=u.length,y=0;y<k;++y){var O=u[y];O[0].apply(null,O[1])}while(0<$o.length);cr=ht=!0}function Vu(){var u=Yn;Yn=[],u.forEach(function(O){O._PSD.onunhandled.call(null,O._value,O)});for(var y=Za.slice(0),k=y.length;k;)y[--k]()}function es(u){return new Ae(De,!1,u)}function pt(u,y){var k=$e;return function(){var O=Ai(),C=$e;try{return yn(k,!0),u.apply(this,arguments)}catch($){y&&y($)}finally{yn(C,!1),O&&Ci()}}}c(Ae.prototype,{then:Ku,_then:function(u,y){Wu(this,new Kh(null,null,u,y,$e))},catch:function(u){if(arguments.length===1)return this.then(null,u);var y=u,k=arguments[1];return typeof y=="function"?this.then(null,function(O){return(O instanceof y?k:es)(O)}):this.then(null,function(O){return(O&&O.name===y?k:es)(O)})},finally:function(u){return this.then(function(y){return Ae.resolve(u()).then(function(){return y})},function(y){return Ae.resolve(u()).then(function(){return es(y)})})},timeout:function(u,y){var k=this;return u<1/0?new Ae(function(O,C){var $=setTimeout(function(){return C(new Z.Timeout(y))},u);k.then(O,C).finally(clearTimeout.bind(null,$))}):this}}),typeof Symbol!="undefined"&&Symbol.toStringTag&&g(Ae.prototype,Symbol.toStringTag,"Dexie.Promise"),pn.env=Wh(),c(Ae,{all:function(){var u=P.apply(null,arguments).map(is);return new Ae(function(y,k){u.length===0&&y([]);var O=u.length;u.forEach(function(C,$){return Ae.resolve(C).then(function(H){u[$]=H,--O||y(u)},k)})})},resolve:function(u){return u instanceof Ae?u:u&&typeof u.then=="function"?new Ae(function(y,k){u.then(y,k)}):new Ae(De,!0,u)},reject:es,race:function(){var u=P.apply(null,arguments).map(is);return new Ae(function(y,k){u.map(function(O){return Ae.resolve(O).then(y,k)})})},PSD:{get:function(){return $e},set:function(u){return $e=u}},totalEchoes:{get:function(){return ns}},newPSD:vn,usePSD:Jn,scheduler:{get:function(){return Gr},set:function(u){Gr=u}},rejectionMapper:{get:function(){return zu},set:function(u){zu=u}},follow:function(u,y){return new Ae(function(k,O){return vn(function(C,$){var H=$e;H.unhandleds=[],H.onunhandled=$,H.finalize=Ke(function(){var J,re=this;J=function(){re.unhandleds.length===0?C():$(re.unhandleds[0])},Za.push(function ne(){J(),Za.splice(Za.indexOf(ne),1)}),++Qn,Gr(function(){--Qn==0&&Vu()},[])},H.finalize),u()},y,k,O)})}}),Ot&&(Ot.allSettled&&g(Ae,"allSettled",function(){var u=P.apply(null,arguments).map(is);return new Ae(function(y){u.length===0&&y([]);var k=u.length,O=new Array(k);u.forEach(function(C,$){return Ae.resolve(C).then(function(H){return O[$]={status:"fulfilled",value:H}},function(H){return O[$]={status:"rejected",reason:H}}).then(function(){return--k||y(O)})})})}),Ot.any&&typeof AggregateError!="undefined"&&g(Ae,"any",function(){var u=P.apply(null,arguments).map(is);return new Ae(function(y,k){u.length===0&&k(new AggregateError([]));var O=u.length,C=new Array(O);u.forEach(function($,H){return Ae.resolve($).then(function(J){return y(J)},function(J){C[H]=J,--O||k(new AggregateError(C))})})})}),Ot.withResolvers&&(Ae.withResolvers=Ot.withResolvers));var Ct={awaits:0,echoes:0,id:0},jb=0,ts=[],rs=0,ns=0,Nb=0;function vn(u,y,k,O){var C=$e,$=Object.create(C);return $.parent=C,$.ref=0,$.global=!1,$.id=++Nb,pn.env,$.env=nt?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,allSettled:Ae.allSettled,any:Ae.any,resolve:Ae.resolve,reject:Ae.reject}:{},y&&l($,y),++C.ref,$.finalize=function(){--this.parent.ref||this.parent.finalize()},O=Jn($,u,k,O),$.ref===0&&$.finalize(),O}function Ri(){return Ct.id||(Ct.id=++jb),++Ct.awaits,Ct.echoes+=qe,Ct.id}function mn(){return!!Ct.awaits&&(--Ct.awaits==0&&(Ct.id=0),Ct.echoes=Ct.awaits*qe,!0)}function is(u){return Ct.echoes&&u&&u.constructor===Ot?(Ri(),u.then(function(y){return mn(),y},function(y){return mn(),xt(y)})):u}function Pb(){var u=ts[ts.length-1];ts.pop(),yn(u,!1)}function yn(u,y){var k,O=$e;(y?!Ct.echoes||rs++&&u===$e:!rs||--rs&&u===$e)||queueMicrotask(y?function(C){++ns,Ct.echoes&&--Ct.echoes!=0||(Ct.echoes=Ct.awaits=Ct.id=0),ts.push($e),yn(C,!0)}.bind(null,u):Pb),u!==$e&&($e=u,O===pn&&(pn.env=Wh()),nt&&(k=pn.env.Promise,y=u.env,(O.global||u.global)&&(Object.defineProperty(o,"Promise",y.PromiseProp),k.all=y.all,k.race=y.race,k.resolve=y.resolve,k.reject=y.reject,y.allSettled&&(k.allSettled=y.allSettled),y.any&&(k.any=y.any))))}function Wh(){var u=o.Promise;return nt?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function Jn(u,y,k,O,C){var $=$e;try{return yn(u,!0),y(k,O,C)}finally{yn($,!1)}}function Vh(u,y,k,O){return typeof u!="function"?u:function(){var C=$e;k&&Ri(),yn(y,!0);try{return u.apply(this,arguments)}finally{yn(C,!1),O&&queueMicrotask(mn)}}}function Gu(u){Promise===Ot&&Ct.echoes===0?rs===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+br).indexOf("[native code]")===-1&&(Ri=mn=Se);var xt=Ae.reject,Xn="",Yr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Gh="String expected.",Ii=[],os="__dbnames",Yu="readonly",Qu="readwrite";function Zn(u,y){return u?y?function(){return u.apply(this,arguments)&&y.apply(this,arguments)}:u:y}var Yh={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function as(u){return typeof u!="string"||/\./.test(u)?function(y){return y}:function(y){return y[u]===void 0&&u in y&&delete(y=D(y))[u],y}}function Qh(){throw Z.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function et(u,y){try{var k=Jh(u),O=Jh(y);if(k!==O)return k==="Array"?1:O==="Array"?-1:k==="binary"?1:O==="binary"?-1:k==="string"?1:O==="string"?-1:k==="Date"?1:O!=="Date"?NaN:-1;switch(k){case"number":case"Date":case"string":return y<u?1:u<y?-1:0;case"binary":return function(C,$){for(var H=C.length,J=$.length,re=H<J?H:J,ne=0;ne<re;++ne)if(C[ne]!==$[ne])return C[ne]<$[ne]?-1:1;return H===J?0:H<J?-1:1}(Xh(u),Xh(y));case"Array":return function(C,$){for(var H=C.length,J=$.length,re=H<J?H:J,ne=0;ne<re;++ne){var se=et(C[ne],$[ne]);if(se!==0)return se}return H===J?0:H<J?-1:1}(u,y)}}catch(C){}return NaN}function Jh(u){var y=typeof u;return y!="object"?y:ArrayBuffer.isView(u)?"binary":(u=G(u),u==="ArrayBuffer"?"binary":u)}function Xh(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}function ss(u,y,k){var O=u.schema.yProps;return O?(y&&0<k.numFailures&&(y=y.filter(function(C,$){return!k.failures[$]})),Promise.all(O.map(function(C){return C=C.updatesTable,y?u.db.table(C).where("k").anyOf(y).delete():u.db.table(C).clear()})).then(function(){return k})):k}var Bo=(Zh.prototype.execute=function(u){var y=this["@@propmod"];if(y.add!==void 0){var k=y.add;if(s(k))return i(i([],s(u)?u:[],!0),k).sort();if(typeof k=="number")return(Number(u)||0)+k;if(typeof k=="bigint")try{return BigInt(u)+k}catch(C){return BigInt(0)+k}throw new TypeError("Invalid term ".concat(k))}if(y.remove!==void 0){var O=y.remove;if(s(O))return s(u)?u.filter(function(C){return!O.includes(C)}).sort():[];if(typeof O=="number")return Number(u)-O;if(typeof O=="bigint")try{return BigInt(u)-O}catch(C){return BigInt(0)-O}throw new TypeError("Invalid subtrahend ".concat(O))}return k=(k=y.replacePrefix)===null||k===void 0?void 0:k[0],k&&typeof u=="string"&&u.startsWith(k)?y.replacePrefix[1]+u.substring(k.length):u},Zh);function Zh(u){this["@@propmod"]=u}function ep(u,y){for(var k=a(y),O=k.length,C=!1,$=0;$<O;++$){var H=k[$],J=y[H],re=I(u,H);J instanceof Bo?(j(u,H,J.execute(re)),C=!0):re!==J&&(j(u,H,J),C=!0)}return C}var tp=(st.prototype._trans=function(u,y,k){var O=this._tx||$e.trans,C=this.name,$=be&&typeof console!="undefined"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function H(ne,se,ee){if(!ee.schema[C])throw new Z.NotFound("Table "+C+" not part of transaction");return y(ee.idbtrans,ee)}var J=Ai();try{var re=O&&O.db._novip===this.db._novip?O===$e.trans?O._promise(u,H,k):vn(function(){return O._promise(u,H,k)},{trans:O,transless:$e.transless||$e}):function ne(se,ee,ue,ie){if(se.idbdb&&(se._state.openComplete||$e.letThrough||se._vip)){var oe=se._createTransaction(ee,ue,se._dbSchema);try{oe.create(),se._state.PR1398_maxLoop=3}catch(ae){return ae.name===Q.InvalidState&&se.isOpen()&&0<--se._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),se.close({disableAutoOpen:!1}),se.open().then(function(){return ne(se,ee,ue,ie)})):xt(ae)}return oe._promise(ee,function(ae,le){return vn(function(){return $e.trans=oe,ie(ae,le,oe)})}).then(function(ae){if(ee==="readwrite")try{oe.idbtrans.commit()}catch(le){}return ee==="readonly"?ae:oe._completion.then(function(){return ae})})}if(se._state.openComplete)return xt(new Z.DatabaseClosed(se._state.dbOpenError));if(!se._state.isBeingOpened){if(!se._state.autoOpen)return xt(new Z.DatabaseClosed);se.open().catch(Se)}return se._state.dbReadyPromise.then(function(){return ne(se,ee,ue,ie)})}(this.db,u,[this.name],H);return $&&(re._consoleTask=$,re=re.catch(function(ne){return console.trace(ne),xt(ne)})),re}finally{J&&Ci()}},st.prototype.get=function(u,y){var k=this;return u&&u.constructor===Object?this.where(u).first(y):u==null?xt(new Z.Type("Invalid argument to Table.get()")):this._trans("readonly",function(O){return k.core.get({trans:O,key:u}).then(function(C){return k.hook.reading.fire(C)})}).then(y)},st.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(s(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var y=a(u);if(y.length===1)return this.where(y[0]).equals(u[y[0]]);var k=this.schema.indexes.concat(this.schema.primKey).filter(function(J){if(J.compound&&y.every(function(ne){return 0<=J.keyPath.indexOf(ne)})){for(var re=0;re<y.length;++re)if(y.indexOf(J.keyPath[re])===-1)return!1;return!0}return!1}).sort(function(J,re){return J.keyPath.length-re.keyPath.length})[0];if(k&&this.db._maxKey!==Xn){var $=k.keyPath.slice(0,y.length);return this.where($).equals($.map(function(re){return u[re]}))}!k&&be&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(y.join("+"),"]"));var O=this.schema.idxByName;function C(J,re){return et(J,re)===0}var H=y.reduce(function(ee,re){var ne=ee[0],se=ee[1],ee=O[re],ue=u[re];return[ne||ee,ne||!ee?Zn(se,ee&&ee.multi?function(ie){return ie=I(ie,re),s(ie)&&ie.some(function(oe){return C(ue,oe)})}:function(ie){return C(ue,I(ie,re))}):se]},[null,null]),$=H[0],H=H[1];return $?this.where($.name).equals(u[$.keyPath]).filter(H):k?this.filter(H):this.where(y).equals("")},st.prototype.filter=function(u){return this.toCollection().and(u)},st.prototype.count=function(u){return this.toCollection().count(u)},st.prototype.offset=function(u){return this.toCollection().offset(u)},st.prototype.limit=function(u){return this.toCollection().limit(u)},st.prototype.each=function(u){return this.toCollection().each(u)},st.prototype.toArray=function(u){return this.toCollection().toArray(u)},st.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},st.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,s(u)?"[".concat(u.join("+"),"]"):u))},st.prototype.reverse=function(){return this.toCollection().reverse()},st.prototype.mapToClass=function(u){var y,k=this.db,O=this.name;function C(){return y!==null&&y.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof Qh&&(function(re,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function se(){this.constructor=re}r(re,ne),re.prototype=ne===null?Object.create(ne):(se.prototype=ne.prototype,new se)}(C,y=u),Object.defineProperty(C.prototype,"db",{get:function(){return k},enumerable:!1,configurable:!0}),C.prototype.table=function(){return O},u=C);for(var $=new Set,H=u.prototype;H;H=f(H))Object.getOwnPropertyNames(H).forEach(function(re){return $.add(re)});function J(re){if(!re)return re;var ne,se=Object.create(u.prototype);for(ne in re)if(!$.has(ne))try{se[ne]=re[ne]}catch(ee){}return se}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=J,this.hook("reading",J),u},st.prototype.defineClass=function(){return this.mapToClass(function(u){l(this,u)})},st.prototype.add=function(u,y){var k=this,O=this.schema.primKey,C=O.auto,$=O.keyPath,H=u;return $&&C&&(H=as($)(u)),this._trans("readwrite",function(J){return k.core.mutate({trans:J,type:"add",keys:y!=null?[y]:null,values:[H]})}).then(function(J){return J.numFailures?Ae.reject(J.failures[0]):J.lastResult}).then(function(J){if($)try{j(u,$,J)}catch(re){}return J})},st.prototype.upsert=function(u,y){var k=this,O=this.schema.primKey.keyPath;return this._trans("readwrite",function(C){return k.core.get({trans:C,key:u}).then(function($){var H=$!=null?$:{};return ep(H,y),O&&j(H,O,u),k.core.mutate({trans:C,type:"put",values:[H],keys:[u],upsert:!0,updates:{keys:[u],changeSpecs:[y]}}).then(function(J){return J.numFailures?Ae.reject(J.failures[0]):!!$})})})},st.prototype.update=function(u,y){return typeof u!="object"||s(u)?this.where(":id").equals(u).modify(y):(u=I(u,this.schema.primKey.keyPath),u===void 0?xt(new Z.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(y))},st.prototype.put=function(u,y){var k=this,O=this.schema.primKey,C=O.auto,$=O.keyPath,H=u;return $&&C&&(H=as($)(u)),this._trans("readwrite",function(J){return k.core.mutate({trans:J,type:"put",values:[H],keys:y!=null?[y]:null})}).then(function(J){return J.numFailures?Ae.reject(J.failures[0]):J.lastResult}).then(function(J){if($)try{j(u,$,J)}catch(re){}return J})},st.prototype.delete=function(u){var y=this;return this._trans("readwrite",function(k){return y.core.mutate({trans:k,type:"delete",keys:[u]}).then(function(O){return ss(y,[u],O)}).then(function(O){return O.numFailures?Ae.reject(O.failures[0]):void 0})})},st.prototype.clear=function(){var u=this;return this._trans("readwrite",function(y){return u.core.mutate({trans:y,type:"deleteRange",range:Yh}).then(function(k){return ss(u,null,k)})}).then(function(y){return y.numFailures?Ae.reject(y.failures[0]):void 0})},st.prototype.bulkGet=function(u){var y=this;return this._trans("readonly",function(k){return y.core.getMany({keys:u,trans:k}).then(function(O){return O.map(function(C){return y.hook.reading.fire(C)})})})},st.prototype.bulkAdd=function(u,y,k){var O=this,C=Array.isArray(y)?y:void 0,$=(k=k||(C?void 0:y))?k.allKeys:void 0;return this._trans("readwrite",function(H){var ne=O.schema.primKey,J=ne.auto,ne=ne.keyPath;if(ne&&C)throw new Z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(C&&C.length!==u.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");var re=u.length,ne=ne&&J?u.map(as(ne)):u;return O.core.mutate({trans:H,type:"add",keys:C,values:ne,wantResults:$}).then(function(oe){var ee=oe.numFailures,ue=oe.results,ie=oe.lastResult,oe=oe.failures;if(ee===0)return $?ue:ie;throw new U("".concat(O.name,".bulkAdd(): ").concat(ee," of ").concat(re," operations failed"),oe)})})},st.prototype.bulkPut=function(u,y,k){var O=this,C=Array.isArray(y)?y:void 0,$=(k=k||(C?void 0:y))?k.allKeys:void 0;return this._trans("readwrite",function(H){var ne=O.schema.primKey,J=ne.auto,ne=ne.keyPath;if(ne&&C)throw new Z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(C&&C.length!==u.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");var re=u.length,ne=ne&&J?u.map(as(ne)):u;return O.core.mutate({trans:H,type:"put",keys:C,values:ne,wantResults:$}).then(function(oe){var ee=oe.numFailures,ue=oe.results,ie=oe.lastResult,oe=oe.failures;if(ee===0)return $?ue:ie;throw new U("".concat(O.name,".bulkPut(): ").concat(ee," of ").concat(re," operations failed"),oe)})})},st.prototype.bulkUpdate=function(u){var y=this,k=this.core,O=u.map(function(H){return H.key}),C=u.map(function(H){return H.changes}),$=[];return this._trans("readwrite",function(H){return k.getMany({trans:H,keys:O,cache:"clone"}).then(function(J){var re=[],ne=[];u.forEach(function(ee,ue){var ie=ee.key,oe=ee.changes,ae=J[ue];if(ae){for(var le=0,fe=Object.keys(oe);le<fe.length;le++){var de=fe[le],ye=oe[de];if(de===y.schema.primKey.keyPath){if(et(ye,ie)!==0)throw new Z.Constraint("Cannot update primary key in bulkUpdate()")}else j(ae,de,ye)}$.push(ue),re.push(ie),ne.push(ae)}});var se=re.length;return k.mutate({trans:H,type:"put",keys:re,values:ne,updates:{keys:O,changeSpecs:C}}).then(function(ee){var ue=ee.numFailures,ie=ee.failures;if(ue===0)return se;for(var oe=0,ae=Object.keys(ie);oe<ae.length;oe++){var le,fe=ae[oe],de=$[Number(fe)];de!=null&&(le=ie[fe],delete ie[fe],ie[de]=le)}throw new U("".concat(y.name,".bulkUpdate(): ").concat(ue," of ").concat(se," operations failed"),ie)})})})},st.prototype.bulkDelete=function(u){var y=this,k=u.length;return this._trans("readwrite",function(O){return y.core.mutate({trans:O,type:"delete",keys:u}).then(function(C){return ss(y,u,C)})}).then(function(H){var C=H.numFailures,$=H.lastResult,H=H.failures;if(C===0)return $;throw new U("".concat(y.name,".bulkDelete(): ").concat(C," of ").concat(k," operations failed"),H)})},st);function st(){}function qo(u){function y(H,J){if(J){for(var re=arguments.length,ne=new Array(re-1);--re;)ne[re-1]=arguments[re];return k[H].subscribe.apply(null,ne),u}if(typeof H=="string")return k[H]}var k={};y.addEventType=$;for(var O=1,C=arguments.length;O<C;++O)$(arguments[O]);return y;function $(H,J,re){if(typeof H!="object"){var ne;J=J||ge;var se={subscribers:[],fire:re=re||Se,subscribe:function(ee){se.subscribers.indexOf(ee)===-1&&(se.subscribers.push(ee),se.fire=J(se.fire,ee))},unsubscribe:function(ee){se.subscribers=se.subscribers.filter(function(ue){return ue!==ee}),se.fire=se.subscribers.reduce(J,re)}};return k[H]=y[H]=se}a(ne=H).forEach(function(ee){var ue=ne[ee];if(s(ue))$(ee,ne[ee][0],ne[ee][1]);else{if(ue!=="asap")throw new Z.InvalidArgument("Invalid event config");var ie=$(ee,Be,function(){for(var oe=arguments.length,ae=new Array(oe);oe--;)ae[oe]=arguments[oe];ie.subscribers.forEach(function(le){S(function(){le.apply(null,ae)})})})}})}}function Uo(u,y){return b(y).from({prototype:u}),y}function Li(u,y){return!(u.filter||u.algorithm||u.or)&&(y?u.justLimit:!u.replayFilter)}function Ju(u,y){u.filter=Zn(u.filter,y)}function Xu(u,y,k){var O=u.replayFilter;u.replayFilter=O?function(){return Zn(O(),y())}:y,u.justLimit=k&&!O}function ls(u,y){if(u.isPrimKey)return y.primaryKey;var k=y.getIndexByKeyPath(u.index);if(!k)throw new Z.Schema("KeyPath "+u.index+" on object store "+y.name+" is not indexed");return k}function rp(u,y,k){var O=ls(u,y.schema);return y.openCursor({trans:k,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:O,range:u.range}})}function us(u,y,k,O){var C=u.replayFilter?Zn(u.filter,u.replayFilter()):u.filter;if(u.or){var $={},H=function(J,re,ne){var se,ee;C&&!C(re,ne,function(ue){return re.stop(ue)},function(ue){return re.fail(ue)})||((ee=""+(se=re.primaryKey))=="[object ArrayBuffer]"&&(ee=""+new Uint8Array(se)),d($,ee)||($[ee]=!0,y(J,re,ne)))};return Promise.all([u.or._iterate(H,k),np(rp(u,O,k),u.algorithm,H,!u.keysOnly&&u.valueMapper)])}return np(rp(u,O,k),Zn(u.algorithm,C),y,!u.keysOnly&&u.valueMapper)}function np(u,y,k,O){var C=pt(O?function($,H,J){return k(O($),H,J)}:k);return u.then(function($){if($)return $.start(function(){var H=function(){return $.continue()};y&&!y($,function(J){return H=J},function(J){$.stop(J),H=Se},function(J){$.fail(J),H=Se})||C($.value,$,function(J){return H=J}),H()})})}var Ab=(rt.prototype._read=function(u,y){var k=this._ctx;return k.error?k.table._trans(null,xt.bind(null,k.error)):k.table._trans("readonly",u).then(y)},rt.prototype._write=function(u){var y=this._ctx;return y.error?y.table._trans(null,xt.bind(null,y.error)):y.table._trans("readwrite",u,"locked")},rt.prototype._addAlgorithm=function(u){var y=this._ctx;y.algorithm=Zn(y.algorithm,u)},rt.prototype._iterate=function(u,y){return us(this._ctx,u,y,this._ctx.table.core)},rt.prototype.clone=function(u){var y=Object.create(this.constructor.prototype),k=Object.create(this._ctx);return u&&l(k,u),y._ctx=k,y},rt.prototype.raw=function(){return this._ctx.valueMapper=null,this},rt.prototype.each=function(u){var y=this._ctx;return this._read(function(k){return us(y,u,k,y.table.core)})},rt.prototype.count=function(u){var y=this;return this._read(function(k){var O=y._ctx,C=O.table.core;if(Li(O,!0))return C.count({trans:k,query:{index:ls(O,C.schema),range:O.range}}).then(function(H){return Math.min(H,O.limit)});var $=0;return us(O,function(){return++$,!1},k,C).then(function(){return $})}).then(u)},rt.prototype.sortBy=function(u,y){var k=u.split(".").reverse(),O=k[0],C=k.length-1;function $(re,ne){return ne?$(re[k[ne]],ne-1):re[O]}var H=this._ctx.dir==="next"?1:-1;function J(re,ne){return et($(re,C),$(ne,C))*H}return this.toArray(function(re){return re.sort(J)}).then(y)},rt.prototype.toArray=function(u){var y=this;return this._read(function(k){var O=y._ctx;if(O.dir==="next"&&Li(O,!0)&&0<O.limit){var C=O.valueMapper,$=ls(O,O.table.core.schema);return O.table.core.query({trans:k,limit:O.limit,values:!0,query:{index:$,range:O.range}}).then(function(J){return J=J.result,C?J.map(C):J})}var H=[];return us(O,function(J){return H.push(J)},k,O.table.core).then(function(){return H})},u)},rt.prototype.offset=function(u){var y=this._ctx;return u<=0||(y.offset+=u,Li(y)?Xu(y,function(){var k=u;return function(O,C){return k===0||(k===1?--k:C(function(){O.advance(k),k=0}),!1)}}):Xu(y,function(){var k=u;return function(){return--k<0}})),this},rt.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),Xu(this._ctx,function(){var y=u;return function(k,O,C){return--y<=0&&O(C),0<=y}},!0),this},rt.prototype.until=function(u,y){return Ju(this._ctx,function(k,O,C){return!u(k.value)||(O(C),y)}),this},rt.prototype.first=function(u){return this.limit(1).toArray(function(y){return y[0]}).then(u)},rt.prototype.last=function(u){return this.reverse().first(u)},rt.prototype.filter=function(u){var y;return Ju(this._ctx,function(k){return u(k.value)}),(y=this._ctx).isMatch=Zn(y.isMatch,u),this},rt.prototype.and=function(u){return this.filter(u)},rt.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},rt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},rt.prototype.desc=function(){return this.reverse()},rt.prototype.eachKey=function(u){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(k,O){u(O.key,O)})},rt.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},rt.prototype.eachPrimaryKey=function(u){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(k,O){u(O.primaryKey,O)})},rt.prototype.keys=function(u){var y=this._ctx;y.keysOnly=!y.isMatch;var k=[];return this.each(function(O,C){k.push(C.key)}).then(function(){return k}).then(u)},rt.prototype.primaryKeys=function(u){var y=this._ctx;if(y.dir==="next"&&Li(y,!0)&&0<y.limit)return this._read(function(O){var C=ls(y,y.table.core.schema);return y.table.core.query({trans:O,values:!1,limit:y.limit,query:{index:C,range:y.range}})}).then(function(O){return O.result}).then(u);y.keysOnly=!y.isMatch;var k=[];return this.each(function(O,C){k.push(C.primaryKey)}).then(function(){return k}).then(u)},rt.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},rt.prototype.firstKey=function(u){return this.limit(1).keys(function(y){return y[0]}).then(u)},rt.prototype.lastKey=function(u){return this.reverse().firstKey(u)},rt.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var y={};return Ju(this._ctx,function(C){var O=C.primaryKey.toString(),C=d(y,O);return y[O]=!0,!C}),this},rt.prototype.modify=function(u){var y=this,k=this._ctx;return this._write(function(O){var C=typeof u=="function"?u:function(ae){return ep(ae,u)},$=k.table.core,ne=$.schema.primaryKey,H=ne.outbound,J=ne.extractKey,re=200,ne=y.db._options.modifyChunkSize;ne&&(re=typeof ne=="object"?ne[$.name]||ne["*"]||200:ne);function se(ae,de){var fe=de.failures,de=de.numFailures;ue+=ae-de;for(var ye=0,we=a(fe);ye<we.length;ye++){var Ee=we[ye];ee.push(fe[Ee])}}var ee=[],ue=0,ie=[],oe=u===ip;return y.clone().primaryKeys().then(function(ae){function le(de){var ye=Math.min(re,ae.length-de),we=ae.slice(de,de+ye);return(oe?Promise.resolve([]):$.getMany({trans:O,keys:we,cache:"immutable"})).then(function(Ee){var je=[],ke=[],Oe=H?[]:null,Pe=oe?we:[];if(!oe)for(var Te=0;Te<ye;++Te){var Re=Ee[Te],Ve={value:D(Re),primKey:ae[de+Te]};C.call(Ve,Ve.value,Ve)!==!1&&(Ve.value==null?Pe.push(ae[de+Te]):H||et(J(Re),J(Ve.value))===0?(ke.push(Ve.value),H&&Oe.push(ae[de+Te])):(Pe.push(ae[de+Te]),je.push(Ve.value)))}return Promise.resolve(0<je.length&&$.mutate({trans:O,type:"add",values:je}).then(function(Ye){for(var Qe in Ye.failures)Pe.splice(parseInt(Qe),1);se(je.length,Ye)})).then(function(){return(0<ke.length||fe&&typeof u=="object")&&$.mutate({trans:O,type:"put",keys:Oe,values:ke,criteria:fe,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<de}).then(function(Ye){return se(ke.length,Ye)})}).then(function(){return(0<Pe.length||fe&&oe)&&$.mutate({trans:O,type:"delete",keys:Pe,criteria:fe,isAdditionalChunk:0<de}).then(function(Ye){return ss(k.table,Pe,Ye)}).then(function(Ye){return se(Pe.length,Ye)})}).then(function(){return ae.length>de+ye&&le(de+re)})})}var fe=Li(k)&&k.limit===1/0&&(typeof u!="function"||oe)&&{index:k.index,range:k.range};return le(0).then(function(){if(0<ee.length)throw new W("Error modifying one or more objects",ee,ue,ie);return ae.length})})})},rt.prototype.delete=function(){var u=this._ctx,y=u.range;return!Li(u)||u.table.schema.yProps||!u.isPrimKey&&y.type!==3?this.modify(ip):this._write(function(k){var O=u.table.core.schema.primaryKey,C=y;return u.table.core.count({trans:k,query:{index:O,range:C}}).then(function($){return u.table.core.mutate({trans:k,type:"deleteRange",range:C}).then(function(re){var J=re.failures,re=re.numFailures;if(re)throw new W("Could not delete some values",Object.keys(J).map(function(ne){return J[ne]}),$-re);return $-re})})})},rt);function rt(){}var ip=function(u,y){return y.value=null};function Cb(u,y){return u<y?-1:u===y?0:1}function Rb(u,y){return y<u?-1:u===y?0:1}function fr(u,y,k){return u=u instanceof ap?new u.Collection(u):u,u._ctx.error=new(k||TypeError)(y),u}function Di(u){return new u.Collection(u,function(){return op("")}).limit(0)}function cs(u,y,k,O){var C,$,H,J,re,ne,se,ee=k.length;if(!k.every(function(oe){return typeof oe=="string"}))return fr(u,Gh);function ue(oe){C=oe==="next"?function(le){return le.toUpperCase()}:function(le){return le.toLowerCase()},$=oe==="next"?function(le){return le.toLowerCase()}:function(le){return le.toUpperCase()},H=oe==="next"?Cb:Rb;var ae=k.map(function(le){return{lower:$(le),upper:C(le)}}).sort(function(le,fe){return H(le.lower,fe.lower)});J=ae.map(function(le){return le.upper}),re=ae.map(function(le){return le.lower}),se=(ne=oe)==="next"?"":O}ue("next"),u=new u.Collection(u,function(){return gn(J[0],re[ee-1]+O)}),u._ondirectionchange=function(oe){ue(oe)};var ie=0;return u._addAlgorithm(function(oe,ae,le){var fe=oe.key;if(typeof fe!="string")return!1;var de=$(fe);if(y(de,re,ie))return!0;for(var ye=null,we=ie;we<ee;++we){var Ee=function(je,ke,Oe,Pe,Te,Re){for(var Ve=Math.min(je.length,Pe.length),Ye=-1,Qe=0;Qe<Ve;++Qe){var dr=ke[Qe];if(dr!==Pe[Qe])return Te(je[Qe],Oe[Qe])<0?je.substr(0,Qe)+Oe[Qe]+Oe.substr(Qe+1):Te(je[Qe],Pe[Qe])<0?je.substr(0,Qe)+Pe[Qe]+Oe.substr(Qe+1):0<=Ye?je.substr(0,Ye)+ke[Ye]+Oe.substr(Ye+1):null;Te(je[Qe],dr)<0&&(Ye=Qe)}return Ve<Pe.length&&Re==="next"?je+Oe.substr(je.length):Ve<je.length&&Re==="prev"?je.substr(0,Oe.length):Ye<0?null:je.substr(0,Ye)+Pe[Ye]+Oe.substr(Ye+1)}(fe,de,J[we],re[we],H,ne);Ee===null&&ye===null?ie=we+1:(ye===null||0<H(ye,Ee))&&(ye=Ee)}return ae(ye!==null?function(){oe.continue(ye+se)}:le),!1}),u}function gn(u,y,k,O){return{type:2,lower:u,upper:y,lowerOpen:k,upperOpen:O}}function op(u){return{type:1,lower:u,upper:u}}var ap=(Object.defineProperty(Rt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Rt.prototype.between=function(u,y,k,O){k=k!==!1,O=O===!0;try{return 0<this._cmp(u,y)||this._cmp(u,y)===0&&(k||O)&&(!k||!O)?Di(this):new this.Collection(this,function(){return gn(u,y,!k,!O)})}catch(C){return fr(this,Yr)}},Rt.prototype.equals=function(u){return u==null?fr(this,Yr):new this.Collection(this,function(){return op(u)})},Rt.prototype.above=function(u){return u==null?fr(this,Yr):new this.Collection(this,function(){return gn(u,void 0,!0)})},Rt.prototype.aboveOrEqual=function(u){return u==null?fr(this,Yr):new this.Collection(this,function(){return gn(u,void 0,!1)})},Rt.prototype.below=function(u){return u==null?fr(this,Yr):new this.Collection(this,function(){return gn(void 0,u,!1,!0)})},Rt.prototype.belowOrEqual=function(u){return u==null?fr(this,Yr):new this.Collection(this,function(){return gn(void 0,u)})},Rt.prototype.startsWith=function(u){return typeof u!="string"?fr(this,Gh):this.between(u,u+Xn,!0,!0)},Rt.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):cs(this,function(y,k){return y.indexOf(k[0])===0},[u],Xn)},Rt.prototype.equalsIgnoreCase=function(u){return cs(this,function(y,k){return y===k[0]},[u],"")},Rt.prototype.anyOfIgnoreCase=function(){var u=P.apply(q,arguments);return u.length===0?Di(this):cs(this,function(y,k){return k.indexOf(y)!==-1},u,"")},Rt.prototype.startsWithAnyOfIgnoreCase=function(){var u=P.apply(q,arguments);return u.length===0?Di(this):cs(this,function(y,k){return k.some(function(O){return y.indexOf(O)===0})},u,Xn)},Rt.prototype.anyOf=function(){var u=this,y=P.apply(q,arguments),k=this._cmp;try{y.sort(k)}catch($){return fr(this,Yr)}if(y.length===0)return Di(this);var O=new this.Collection(this,function(){return gn(y[0],y[y.length-1])});O._ondirectionchange=function($){k=$==="next"?u._ascending:u._descending,y.sort(k)};var C=0;return O._addAlgorithm(function($,H,J){for(var re=$.key;0<k(re,y[C]);)if(++C===y.length)return H(J),!1;return k(re,y[C])===0||(H(function(){$.continue(y[C])}),!1)}),O},Rt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Rt.prototype.noneOf=function(){var u=P.apply(q,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch(k){return fr(this,Yr)}var y=u.reduce(function(k,O){return k?k.concat([[k[k.length-1][1],O]]):[[-1/0,O]]},null);return y.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(y,{includeLowers:!1,includeUppers:!1})},Rt.prototype.inAnyRange=function(fe,y){var k=this,O=this._cmp,C=this._ascending,$=this._descending,H=this._min,J=this._max;if(fe.length===0)return Di(this);if(!fe.every(function(de){return de[0]!==void 0&&de[1]!==void 0&&C(de[0],de[1])<=0}))return fr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Z.InvalidArgument);var re=!y||y.includeLowers!==!1,ne=y&&y.includeUppers===!0,se,ee=C;function ue(de,ye){return ee(de[0],ye[0])}try{(se=fe.reduce(function(de,ye){for(var we=0,Ee=de.length;we<Ee;++we){var je=de[we];if(O(ye[0],je[1])<0&&0<O(ye[1],je[0])){je[0]=H(je[0],ye[0]),je[1]=J(je[1],ye[1]);break}}return we===Ee&&de.push(ye),de},[])).sort(ue)}catch(de){return fr(this,Yr)}var ie=0,oe=ne?function(de){return 0<C(de,se[ie][1])}:function(de){return 0<=C(de,se[ie][1])},ae=re?function(de){return 0<$(de,se[ie][0])}:function(de){return 0<=$(de,se[ie][0])},le=oe,fe=new this.Collection(this,function(){return gn(se[0][0],se[se.length-1][1],!re,!ne)});return fe._ondirectionchange=function(de){ee=de==="next"?(le=oe,C):(le=ae,$),se.sort(ue)},fe._addAlgorithm(function(de,ye,we){for(var Ee,je=de.key;le(je);)if(++ie===se.length)return ye(we),!1;return!oe(Ee=je)&&!ae(Ee)||(k._cmp(je,se[ie][1])===0||k._cmp(je,se[ie][0])===0||ye(function(){ee===C?de.continue(se[ie][0]):de.continue(se[ie][1])}),!1)}),fe},Rt.prototype.startsWithAnyOf=function(){var u=P.apply(q,arguments);return u.every(function(y){return typeof y=="string"})?u.length===0?Di(this):this.inAnyRange(u.map(function(y){return[y,y+Xn]})):fr(this,"startsWithAnyOf() only works with strings")},Rt);function Rt(){}function Mr(u){return pt(function(y){return Fo(y),u(y.target.error),!1})}function Fo(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var zo="storagemutated",Zu="x-storagemutated-1",wn=qo(null,zo),Ib=($r.prototype._lock=function(){return w(!$e.global),++this._reculock,this._reculock!==1||$e.global||($e.lockOwnerFor=this),this},$r.prototype._unlock=function(){if(w(!$e.global),--this._reculock==0)for($e.global||($e.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{Jn(u[1],u[0])}catch(y){}}return this},$r.prototype._locked=function(){return this._reculock&&$e.lockOwnerFor!==this},$r.prototype.create=function(u){var y=this;if(!this.mode)return this;var k=this.db.idbdb,O=this.db._state.dbOpenError;if(w(!this.idbtrans),!u&&!k)switch(O&&O.name){case"DatabaseClosedError":throw new Z.DatabaseClosed(O);case"MissingAPIError":throw new Z.MissingAPI(O.message,O);default:throw new Z.OpenFailed(O)}if(!this.active)throw new Z.TransactionInactive;return w(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||k).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=pt(function(C){Fo(C),y._reject(u.error)}),u.onabort=pt(function(C){Fo(C),y.active&&y._reject(new Z.Abort(u.error)),y.active=!1,y.on("abort").fire(C)}),u.oncomplete=pt(function(){y.active=!1,y._resolve(),"mutatedParts"in u&&wn.storagemutated.fire(u.mutatedParts)}),this},$r.prototype._promise=function(u,y,k){var O=this;if(u==="readwrite"&&this.mode!=="readwrite")return xt(new Z.ReadOnly("Transaction is readonly"));if(!this.active)return xt(new Z.TransactionInactive);if(this._locked())return new Ae(function($,H){O._blockedFuncs.push([function(){O._promise(u,y,k).then($,H)},$e])});if(k)return vn(function(){var $=new Ae(function(H,J){O._lock();var re=y(H,J,O);re&&re.then&&re.then(H,J)});return $.finally(function(){return O._unlock()}),$._lib=!0,$});var C=new Ae(function($,H){var J=y($,H,O);J&&J.then&&J.then($,H)});return C._lib=!0,C},$r.prototype._root=function(){return this.parent?this.parent._root():this},$r.prototype.waitFor=function(u){var y,k=this._root(),O=Ae.resolve(u);k._waitingFor?k._waitingFor=k._waitingFor.then(function(){return O}):(k._waitingFor=O,k._waitingQueue=[],y=k.idbtrans.objectStore(k.storeNames[0]),function $(){for(++k._spinCount;k._waitingQueue.length;)k._waitingQueue.shift()();k._waitingFor&&(y.get(-1/0).onsuccess=$)}());var C=k._waitingFor;return new Ae(function($,H){O.then(function(J){return k._waitingQueue.push(pt($.bind(null,J)))},function(J){return k._waitingQueue.push(pt(H.bind(null,J)))}).finally(function(){k._waitingFor===C&&(k._waitingFor=null)})})},$r.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Z.Abort))},$r.prototype.table=function(u){var y=this._memoizedTables||(this._memoizedTables={});if(d(y,u))return y[u];var k=this.schema[u];if(!k)throw new Z.NotFound("Table "+u+" not part of transaction");return k=new this.db.Table(u,k,this),k.core=this.db.core.table(u),y[u]=k},$r);function $r(){}function ec(u,y,k,O,C,$,H,J){return{name:u,keyPath:y,unique:k,multi:O,auto:C,compound:$,src:(k&&!H?"&":"")+(O?"*":"")+(C?"++":"")+sp(y),type:J}}function sp(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function tc(u,y,k){return{name:u,primKey:y,indexes:k,mappedClass:null,idxByName:(O=function(C){return[C.name,C]},k.reduce(function(C,$,H){return H=O($,H),H&&(C[H[0]]=H[1]),C},{}))};var O}var Ko=function(u){try{return u.only([[]]),Ko=function(){return[[]]},[[]]}catch(y){return Ko=function(){return Xn},Xn}};function rc(u){return u==null?function(){}:typeof u=="string"?(y=u).split(".").length===1?function(k){return k[y]}:function(k){return I(k,y)}:function(k){return I(k,u)};var y}function lp(u){return[].slice.call(u)}var Lb=0;function Ho(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function Db(u,y,re){function O(le){if(le.type===3)return null;if(le.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var ie=le.lower,oe=le.upper,ae=le.lowerOpen,le=le.upperOpen;return ie===void 0?oe===void 0?null:y.upperBound(oe,!!le):oe===void 0?y.lowerBound(ie,!!ae):y.bound(ie,oe,!!ae,!!le)}function C(ue){var ie,oe=ue.name;return{name:oe,schema:ue,mutate:function(ae){var le=ae.trans,fe=ae.type,de=ae.keys,ye=ae.values,we=ae.range;return new Promise(function(Ee,je){Ee=pt(Ee);var ke=le.objectStore(oe),Oe=ke.keyPath==null,Pe=fe==="put"||fe==="add";if(!Pe&&fe!=="delete"&&fe!=="deleteRange")throw new Error("Invalid operation type: "+fe);var Te,Re=(de||ye||{length:1}).length;if(de&&ye&&de.length!==ye.length)throw new Error("Given keys array must have same length as given values array.");if(Re===0)return Ee({numFailures:0,failures:{},results:[],lastResult:void 0});function Ve(Jt){++dr,Fo(Jt)}var Ye=[],Qe=[],dr=0;if(fe==="deleteRange"){if(we.type===4)return Ee({numFailures:dr,failures:Qe,results:[],lastResult:void 0});we.type===3?Ye.push(Te=ke.clear()):Ye.push(Te=ke.delete(O(we)))}else{var Oe=Pe?Oe?[ye,de]:[ye,null]:[de,null],He=Oe[0],zt=Oe[1];if(Pe)for(var Kt=0;Kt<Re;++Kt)Ye.push(Te=zt&&zt[Kt]!==void 0?ke[fe](He[Kt],zt[Kt]):ke[fe](He[Kt])),Te.onerror=Ve;else for(Kt=0;Kt<Re;++Kt)Ye.push(Te=ke[fe](He[Kt])),Te.onerror=Ve}function xs(Jt){Jt=Jt.target.result,Ye.forEach(function(ri,bc){return ri.error!=null&&(Qe[bc]=ri.error)}),Ee({numFailures:dr,failures:Qe,results:fe==="delete"?de:Ye.map(function(ri){return ri.result}),lastResult:Jt})}Te.onerror=function(Jt){Ve(Jt),xs(Jt)},Te.onsuccess=xs})},getMany:function(ae){var le=ae.trans,fe=ae.keys;return new Promise(function(de,ye){de=pt(de);for(var we,Ee=le.objectStore(oe),je=fe.length,ke=new Array(je),Oe=0,Pe=0,Te=function(Ye){Ye=Ye.target,ke[Ye._pos]=Ye.result,++Pe===Oe&&de(ke)},Re=Mr(ye),Ve=0;Ve<je;++Ve)fe[Ve]!=null&&((we=Ee.get(fe[Ve]))._pos=Ve,we.onsuccess=Te,we.onerror=Re,++Oe);Oe===0&&de(ke)})},get:function(ae){var le=ae.trans,fe=ae.key;return new Promise(function(de,ye){de=pt(de);var we=le.objectStore(oe).get(fe);we.onsuccess=function(Ee){return de(Ee.target.result)},we.onerror=Mr(ye)})},query:(ie=ne,function(ae){return new Promise(function(le,fe){le=pt(le);var de,ye,we,Oe=ae.trans,Ee=ae.values,je=ae.limit,Te=ae.query,ke=je===1/0?void 0:je,Pe=Te.index,Te=Te.range,Oe=Oe.objectStore(oe),Pe=Pe.isPrimaryKey?Oe:Oe.index(Pe.name),Te=O(Te);if(je===0)return le({result:[]});ie?((ke=Ee?Pe.getAll(Te,ke):Pe.getAllKeys(Te,ke)).onsuccess=function(Re){return le({result:Re.target.result})},ke.onerror=Mr(fe)):(de=0,ye=!Ee&&"openKeyCursor"in Pe?Pe.openKeyCursor(Te):Pe.openCursor(Te),we=[],ye.onsuccess=function(Re){var Ve=ye.result;return Ve?(we.push(Ee?Ve.value:Ve.primaryKey),++de===je?le({result:we}):void Ve.continue()):le({result:we})},ye.onerror=Mr(fe))})}),openCursor:function(ae){var le=ae.trans,fe=ae.values,de=ae.query,ye=ae.reverse,we=ae.unique;return new Promise(function(Ee,je){Ee=pt(Ee);var Pe=de.index,ke=de.range,Oe=le.objectStore(oe),Oe=Pe.isPrimaryKey?Oe:Oe.index(Pe.name),Pe=ye?we?"prevunique":"prev":we?"nextunique":"next",Te=!fe&&"openKeyCursor"in Oe?Oe.openKeyCursor(O(ke),Pe):Oe.openCursor(O(ke),Pe);Te.onerror=Mr(je),Te.onsuccess=pt(function(Re){var Ve,Ye,Qe,dr,He=Te.result;He?(He.___id=++Lb,He.done=!1,Ve=He.continue.bind(He),Ye=(Ye=He.continuePrimaryKey)&&Ye.bind(He),Qe=He.advance.bind(He),dr=function(){throw new Error("Cursor not stopped")},He.trans=le,He.stop=He.continue=He.continuePrimaryKey=He.advance=function(){throw new Error("Cursor not started")},He.fail=pt(je),He.next=function(){var zt=this,Kt=1;return this.start(function(){return Kt--?zt.continue():zt.stop()}).then(function(){return zt})},He.start=function(zt){function Kt(){if(Te.result)try{zt()}catch(Jt){He.fail(Jt)}else He.done=!0,He.start=function(){throw new Error("Cursor behind last entry")},He.stop()}var xs=new Promise(function(Jt,ri){Jt=pt(Jt),Te.onerror=Mr(ri),He.fail=ri,He.stop=function(bc){He.stop=He.continue=He.continuePrimaryKey=He.advance=dr,Jt(bc)}});return Te.onsuccess=pt(function(Jt){Te.onsuccess=Kt,Kt()}),He.continue=Ve,He.continuePrimaryKey=Ye,He.advance=Qe,Kt(),xs},Ee(He)):Ee(null)},je)})},count:function(ae){var le=ae.query,fe=ae.trans,de=le.index,ye=le.range;return new Promise(function(we,Ee){var je=fe.objectStore(oe),ke=de.isPrimaryKey?je:je.index(de.name),je=O(ye),ke=je?ke.count(je):ke.count();ke.onsuccess=pt(function(Oe){return we(Oe.target.result)}),ke.onerror=Mr(Ee)})}}}var $,H,J,se=(H=re,J=lp(($=u).objectStoreNames),{schema:{name:$.name,tables:J.map(function(ue){return H.objectStore(ue)}).map(function(ue){var ie=ue.keyPath,le=ue.autoIncrement,oe=s(ie),ae={},le={name:ue.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ie==null,compound:oe,keyPath:ie,autoIncrement:le,unique:!0,extractKey:rc(ie)},indexes:lp(ue.indexNames).map(function(fe){return ue.index(fe)}).map(function(we){var de=we.name,ye=we.unique,Ee=we.multiEntry,we=we.keyPath,Ee={name:de,compound:s(we),keyPath:we,unique:ye,multiEntry:Ee,extractKey:rc(we)};return ae[Ho(we)]=Ee}),getIndexByKeyPath:function(fe){return ae[Ho(fe)]}};return ae[":id"]=le.primaryKey,ie!=null&&(ae[Ho(ie)]=le.primaryKey),le})},hasGetAll:0<J.length&&"getAll"in H.objectStore(J[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),re=se.schema,ne=se.hasGetAll,se=re.tables.map(C),ee={};return se.forEach(function(ue){return ee[ue.name]=ue}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(ue){if(!ee[ue])throw new Error("Table '".concat(ue,"' not found"));return ee[ue]},MIN_KEY:-1/0,MAX_KEY:Ko(y),schema:re}}function Mb(u,y,k,O){var C=k.IDBKeyRange;return k.indexedDB,{dbcore:(O=Db(y,C,O),u.dbcore.reduce(function($,H){return H=H.create,n(n({},$),H($))},O))}}function fs(u,O){var k=O.db,O=Mb(u._middlewares,k,u._deps,O);u.core=O.dbcore,u.tables.forEach(function(C){var $=C.name;u.core.schema.tables.some(function(H){return H.name===$})&&(C.core=u.core.table($),u[$]instanceof u.Table&&(u[$].core=C.core))})}function ds(u,y,k,O){k.forEach(function(C){var $=O[C];y.forEach(function(H){var J=function re(ne,se){return x(ne,se)||(ne=f(ne))&&re(ne,se)}(H,C);(!J||"value"in J&&J.value===void 0)&&(H===u.Transaction.prototype||H instanceof u.Transaction?g(H,C,{get:function(){return this.table(C)},set:function(re){h(this,C,{value:re,writable:!0,configurable:!0,enumerable:!0})}}):H[C]=new u.Table(C,$))})})}function nc(u,y){y.forEach(function(k){for(var O in k)k[O]instanceof u.Table&&delete k[O]})}function $b(u,y){return u._cfg.version-y._cfg.version}function Bb(u,y,k,O){var C=u._dbSchema;k.objectStoreNames.contains("$meta")&&!C.$meta&&(C.$meta=tc("$meta",cp("")[0],[]),u._storeNames.push("$meta"));var $=u._createTransaction("readwrite",u._storeNames,C);$.create(k),$._completion.catch(O);var H=$._reject.bind($),J=$e.transless||$e;vn(function(){return $e.trans=$,$e.transless=J,y!==0?(fs(u,k),ne=y,((re=$).storeNames.includes("$meta")?re.table("$meta").get("version").then(function(se){return se!=null?se:ne}):Ae.resolve(ne)).then(function(se){return ue=se,ie=$,oe=k,ae=[],se=(ee=u)._versions,le=ee._dbSchema=ps(0,ee.idbdb,oe),(se=se.filter(function(fe){return fe._cfg.version>=ue})).length!==0?(se.forEach(function(fe){ae.push(function(){var de=le,ye=fe._cfg.dbschema;vs(ee,de,oe),vs(ee,ye,oe),le=ee._dbSchema=ye;var we=ic(de,ye);we.add.forEach(function(Pe){oc(oe,Pe[0],Pe[1].primKey,Pe[1].indexes)}),we.change.forEach(function(Pe){if(Pe.recreate)throw new Z.Upgrade("Not yet support for changing primary key");var Te=oe.objectStore(Pe.name);Pe.add.forEach(function(Re){return hs(Te,Re)}),Pe.change.forEach(function(Re){Te.deleteIndex(Re.name),hs(Te,Re)}),Pe.del.forEach(function(Re){return Te.deleteIndex(Re)})});var Ee=fe._cfg.contentUpgrade;if(Ee&&fe._cfg.version>ue){fs(ee,oe),ie._memoizedTables={};var je=T(ye);we.del.forEach(function(Pe){je[Pe]=de[Pe]}),nc(ee,[ee.Transaction.prototype]),ds(ee,[ee.Transaction.prototype],a(je),je),ie.schema=je;var ke,Oe=N(Ee);return Oe&&Ri(),we=Ae.follow(function(){var Pe;(ke=Ee(ie))&&Oe&&(Pe=mn.bind(null,null),ke.then(Pe,Pe))}),ke&&typeof ke.then=="function"?Ae.resolve(ke):we.then(function(){return ke})}}),ae.push(function(de){var ye,we,Ee=fe._cfg.dbschema;ye=Ee,we=de,[].slice.call(we.db.objectStoreNames).forEach(function(je){return ye[je]==null&&we.db.deleteObjectStore(je)}),nc(ee,[ee.Transaction.prototype]),ds(ee,[ee.Transaction.prototype],ee._storeNames,ee._dbSchema),ie.schema=ee._dbSchema}),ae.push(function(de){ee.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ee.idbdb.version/10)===fe._cfg.version?(ee.idbdb.deleteObjectStore("$meta"),delete ee._dbSchema.$meta,ee._storeNames=ee._storeNames.filter(function(ye){return ye!=="$meta"})):de.objectStore("$meta").put(fe._cfg.version,"version"))})}),function fe(){return ae.length?Ae.resolve(ae.shift()(ie.idbtrans)).then(fe):Ae.resolve()}().then(function(){up(le,oe)})):Ae.resolve();var ee,ue,ie,oe,ae,le}).catch(H)):(a(C).forEach(function(se){oc(k,se,C[se].primKey,C[se].indexes)}),fs(u,k),void Ae.follow(function(){return u.on.populate.fire($)}).catch(H));var re,ne})}function qb(u,y){up(u._dbSchema,y),y.db.version%10!=0||y.objectStoreNames.contains("$meta")||y.db.createObjectStore("$meta").add(Math.ceil(y.db.version/10-1),"version");var k=ps(0,u.idbdb,y);vs(u,u._dbSchema,y);for(var O=0,C=ic(k,u._dbSchema).change;O<C.length;O++){var $=function(H){if(H.change.length||H.recreate)return console.warn("Unable to patch indexes of table ".concat(H.name," because it has changes on the type of index or primary key.")),{value:void 0};var J=y.objectStore(H.name);H.add.forEach(function(re){be&&console.debug("Dexie upgrade patch: Creating missing index ".concat(H.name,".").concat(re.src)),hs(J,re)})}(C[O]);if(typeof $=="object")return $.value}}function ic(u,y){var k,O={del:[],add:[],change:[]};for(k in u)y[k]||O.del.push(k);for(k in y){var C=u[k],$=y[k];if(C){var H={name:k,def:$,recreate:!1,del:[],add:[],change:[]};if(""+(C.primKey.keyPath||"")!=""+($.primKey.keyPath||"")||C.primKey.auto!==$.primKey.auto)H.recreate=!0,O.change.push(H);else{var J=C.idxByName,re=$.idxByName,ne=void 0;for(ne in J)re[ne]||H.del.push(ne);for(ne in re){var se=J[ne],ee=re[ne];se?se.src!==ee.src&&H.change.push(ee):H.add.push(ee)}(0<H.del.length||0<H.add.length||0<H.change.length)&&O.change.push(H)}}else O.add.push([k,$])}return O}function oc(u,y,k,O){var C=u.db.createObjectStore(y,k.keyPath?{keyPath:k.keyPath,autoIncrement:k.auto}:{autoIncrement:k.auto});return O.forEach(function($){return hs(C,$)}),C}function up(u,y){a(u).forEach(function(k){y.db.objectStoreNames.contains(k)||(be&&console.debug("Dexie: Creating missing table",k),oc(y,k,u[k].primKey,u[k].indexes))})}function hs(u,y){u.createIndex(y.name,y.keyPath,{unique:y.unique,multiEntry:y.multi})}function ps(u,y,k){var O={};return m(y.objectStoreNames,0).forEach(function(C){for(var $=k.objectStore(C),H=ec(sp(ne=$.keyPath),ne||"",!0,!1,!!$.autoIncrement,ne&&typeof ne!="string",!0),J=[],re=0;re<$.indexNames.length;++re){var se=$.index($.indexNames[re]),ne=se.keyPath,se=ec(se.name,ne,!!se.unique,!!se.multiEntry,!1,ne&&typeof ne!="string",!1);J.push(se)}O[C]=tc(C,H,J)}),O}function vs(u,y,k){for(var O=k.db.objectStoreNames,C=0;C<O.length;++C){var $=O[C],H=k.objectStore($);u._hasGetAll="getAll"in H;for(var J=0;J<H.indexNames.length;++J){var re=H.indexNames[J],ne=H.index(re).keyPath,se=typeof ne=="string"?ne:"["+m(ne).join("+")+"]";!y[$]||(ne=y[$].idxByName[se])&&(ne.name=re,delete y[$].idxByName[se],y[$].idxByName[re]=ne)}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function cp(u){return u.split(",").map(function(y,k){var $=y.split(":"),O=(C=$[1])===null||C===void 0?void 0:C.trim(),C=(y=$[0].trim()).replace(/([&*]|\+\+)/g,""),$=/^\[/.test(C)?C.match(/^\[(.*)\]$/)[1].split("+"):C;return ec(C,$||null,/\&/.test(y),/\*/.test(y),/\+\+/.test(y),s($),k===0,O)})}var Ub=(Mi.prototype._createTableSchema=tc,Mi.prototype._parseIndexSyntax=cp,Mi.prototype._parseStoresSpec=function(u,y){var k=this;a(u).forEach(function(O){if(u[O]!==null){var C=k._parseIndexSyntax(u[O]),$=C.shift();if(!$)throw new Z.Schema("Invalid schema for table "+O+": "+u[O]);if($.unique=!0,$.multi)throw new Z.Schema("Primary key cannot be multiEntry*");C.forEach(function(H){if(H.auto)throw new Z.Schema("Only primary key can be marked as autoIncrement (++)");if(!H.keyPath)throw new Z.Schema("Index must have a name and cannot be an empty string")}),C=k._createTableSchema(O,$,C),y[O]=C}})},Mi.prototype.stores=function(k){var y=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,k):k;var k=y._versions,O={},C={};return k.forEach(function($){l(O,$._cfg.storesSource),C=$._cfg.dbschema={},$._parseStoresSpec(O,C)}),y._dbSchema=C,nc(y,[y._allTables,y,y.Transaction.prototype]),ds(y,[y._allTables,y,y.Transaction.prototype,this._cfg.tables],a(C),C),y._storeNames=a(C),this},Mi.prototype.upgrade=function(u){return this._cfg.contentUpgrade=_e(this._cfg.contentUpgrade||Se,u),this},Mi);function Mi(){}function ac(u,y){var k=u._dbNamesDB;return k||(k=u._dbNamesDB=new Qr(os,{addons:[],indexedDB:u,IDBKeyRange:y})).version(1).stores({dbnames:"name"}),k.table("dbnames")}function sc(u){return u&&typeof u.databases=="function"}function lc(u){return vn(function(){return $e.letThrough=!0,u()})}function uc(u){return!("from"in u)}var Ft=function(u,y){if(!this){var k=new Ft;return u&&"d"in u&&l(k,u),k}l(this,arguments.length?{d:1,from:u,to:1<arguments.length?y:u}:{d:0})};function Wo(u,y,k){var O=et(y,k);if(!isNaN(O)){if(0<O)throw RangeError();if(uc(u))return l(u,{from:y,to:k,d:1});var C=u.l,O=u.r;if(et(k,u.from)<0)return C?Wo(C,y,k):u.l={from:y,to:k,d:1,l:null,r:null},dp(u);if(0<et(y,u.to))return O?Wo(O,y,k):u.r={from:y,to:k,d:1,l:null,r:null},dp(u);et(y,u.from)<0&&(u.from=y,u.l=null,u.d=O?O.d+1:1),0<et(k,u.to)&&(u.to=k,u.r=null,u.d=u.l?u.l.d+1:1),k=!u.r,C&&!u.l&&Vo(u,C),O&&k&&Vo(u,O)}}function Vo(u,y){uc(y)||function k(O,re){var $=re.from,H=re.to,J=re.l,re=re.r;Wo(O,$,H),J&&k(O,J),re&&k(O,re)}(u,y)}function fp(u,y){var k=ms(y),O=k.next();if(O.done)return!1;for(var C=O.value,$=ms(u),H=$.next(C.from),J=H.value;!O.done&&!H.done;){if(et(J.from,C.to)<=0&&0<=et(J.to,C.from))return!0;et(C.from,J.from)<0?C=(O=k.next(J.from)).value:J=(H=$.next(C.from)).value}return!1}function ms(u){var y=uc(u)?null:{s:0,n:u};return{next:function(k){for(var O=0<arguments.length;y;)switch(y.s){case 0:if(y.s=1,O)for(;y.n.l&&et(k,y.n.from)<0;)y={up:y,n:y.n.l,s:1};else for(;y.n.l;)y={up:y,n:y.n.l,s:1};case 1:if(y.s=2,!O||et(k,y.n.to)<=0)return{value:y.n,done:!1};case 2:if(y.n.r){y.s=3,y={up:y,n:y.n.r,s:0};continue}case 3:y=y.up}return{done:!0}}}}function dp(u){var y,k,O=(((y=u.r)===null||y===void 0?void 0:y.d)||0)-(((k=u.l)===null||k===void 0?void 0:k.d)||0),C=1<O?"r":O<-1?"l":"";C&&(y=C=="r"?"l":"r",k=n({},u),O=u[C],u.from=O.from,u.to=O.to,u[C]=O[C],k[C]=O[y],(u[y]=k).d=hp(k)),u.d=hp(u)}function hp(k){var y=k.r,k=k.l;return(y?k?Math.max(y.d,k.d):y.d:k?k.d:0)+1}function ys(u,y){return a(y).forEach(function(k){u[k]?Vo(u[k],y[k]):u[k]=function O(C){var $,H,J={};for($ in C)d(C,$)&&(H=C[$],J[$]=!H||typeof H!="object"||R.has(H.constructor)?H:O(H));return J}(y[k])}),u}function cc(u,y){return u.all||y.all||Object.keys(u).some(function(k){return y[k]&&fp(y[k],u[k])})}c(Ft.prototype,((br={add:function(u){return Vo(this,u),this},addKey:function(u){return Wo(this,u,u),this},addKeys:function(u){var y=this;return u.forEach(function(k){return Wo(y,k,k)}),this},hasKey:function(u){var y=ms(this).next(u).value;return y&&et(y.from,u)<=0&&0<=et(y.to,u)}})[V]=function(){return ms(this)},br));var ei={},fc={},dc=!1;function gs(u){ys(fc,u),dc||(dc=!0,setTimeout(function(){dc=!1,hc(fc,!(fc={}))},0))}function hc(u,y){y===void 0&&(y=!1);var k=new Set;if(u.all)for(var O=0,C=Object.values(ei);O<C.length;O++)pp(H=C[O],u,k,y);else for(var $ in u){var H,J=/^idb\:\/\/(.*)\/(.*)\//.exec($);J&&($=J[1],J=J[2],(H=ei["idb://".concat($,"/").concat(J)])&&pp(H,u,k,y))}k.forEach(function(re){return re()})}function pp(u,y,k,O){for(var C=[],$=0,H=Object.entries(u.queries.query);$<H.length;$++){for(var J=H[$],re=J[0],ne=[],se=0,ee=J[1];se<ee.length;se++){var ue=ee[se];cc(y,ue.obsSet)?ue.subscribers.forEach(function(le){return k.add(le)}):O&&ne.push(ue)}O&&C.push([re,ne])}if(O)for(var ie=0,oe=C;ie<oe.length;ie++){var ae=oe[ie],re=ae[0],ne=ae[1];u.queries.query[re]=ne}}function Fb(u){var y=u._state,k=u._deps.indexedDB;if(y.isBeingOpened||u.idbdb)return y.dbReadyPromise.then(function(){return y.dbOpenError?xt(y.dbOpenError):u});y.isBeingOpened=!0,y.dbOpenError=null,y.openComplete=!1;var O=y.openCanceller,C=Math.round(10*u.verno),$=!1;function H(){if(y.openCanceller!==O)throw new Z.DatabaseClosed("db.open() was cancelled")}function J(){return new Ae(function(ue,ie){if(H(),!k)throw new Z.MissingAPI;var oe=u.name,ae=y.autoSchema||!C?k.open(oe):k.open(oe,C);if(!ae)throw new Z.MissingAPI;ae.onerror=Mr(ie),ae.onblocked=pt(u._fireOnBlocked),ae.onupgradeneeded=pt(function(le){var fe;se=ae.transaction,y.autoSchema&&!u._options.allowEmptyDB?(ae.onerror=Fo,se.abort(),ae.result.close(),(fe=k.deleteDatabase(oe)).onsuccess=fe.onerror=pt(function(){ie(new Z.NoSuchDatabase("Database ".concat(oe," doesnt exist")))})):(se.onerror=Mr(ie),le=le.oldVersion>Math.pow(2,62)?0:le.oldVersion,ee=le<1,u.idbdb=ae.result,$&&qb(u,se),Bb(u,le/10,se,ie))},ie),ae.onsuccess=pt(function(){se=null;var le,fe,de,ye,we,Ee=u.idbdb=ae.result,je=m(Ee.objectStoreNames);if(0<je.length)try{var ke=Ee.transaction((ye=je).length===1?ye[0]:ye,"readonly");if(y.autoSchema)fe=Ee,de=ke,(le=u).verno=fe.version/10,de=le._dbSchema=ps(0,fe,de),le._storeNames=m(fe.objectStoreNames,0),ds(le,[le._allTables],a(de),de);else if(vs(u,u._dbSchema,ke),((we=ic(ps(0,(we=u).idbdb,ke),we._dbSchema)).add.length||we.change.some(function(Oe){return Oe.add.length||Oe.change.length}))&&!$)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ee.close(),C=Ee.version+1,$=!0,ue(J());fs(u,ke)}catch(Oe){}Ii.push(u),Ee.onversionchange=pt(function(Oe){y.vcFired=!0,u.on("versionchange").fire(Oe)}),Ee.onclose=pt(function(){u.close({disableAutoOpen:!1})}),ee&&(we=u._deps,ke=oe,Ee=we.indexedDB,we=we.IDBKeyRange,sc(Ee)||ke===os||ac(Ee,we).put({name:ke}).catch(Se)),ue()},ie)}).catch(function(ue){switch(ue==null?void 0:ue.name){case"UnknownError":if(0<y.PR1398_maxLoop)return y.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),J();break;case"VersionError":if(0<C)return C=0,J()}return Ae.reject(ue)})}var re,ne=y.dbReadyResolve,se=null,ee=!1;return Ae.race([O,(typeof navigator=="undefined"?Ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ue){function ie(){return indexedDB.databases().finally(ue)}re=setInterval(ie,100),ie()}).finally(function(){return clearInterval(re)}):Promise.resolve()).then(J)]).then(function(){return H(),y.onReadyBeingFired=[],Ae.resolve(lc(function(){return u.on.ready.fire(u.vip)})).then(function ue(){if(0<y.onReadyBeingFired.length){var ie=y.onReadyBeingFired.reduce(_e,Se);return y.onReadyBeingFired=[],Ae.resolve(lc(function(){return ie(u.vip)})).then(ue)}})}).finally(function(){y.openCanceller===O&&(y.onReadyBeingFired=null,y.isBeingOpened=!1)}).catch(function(ue){y.dbOpenError=ue;try{se&&se.abort()}catch(ie){}return O===y.openCanceller&&u._close(),xt(ue)}).finally(function(){y.openComplete=!0,ne()}).then(function(){var ue;return ee&&(ue={},u.tables.forEach(function(ie){ie.schema.indexes.forEach(function(oe){oe.name&&(ue["idb://".concat(u.name,"/").concat(ie.name,"/").concat(oe.name)]=new Ft(-1/0,[[[]]]))}),ue["idb://".concat(u.name,"/").concat(ie.name,"/")]=ue["idb://".concat(u.name,"/").concat(ie.name,"/:dels")]=new Ft(-1/0,[[[]]])}),wn(zo).fire(ue),hc(ue,!0)),u})}function pc(u){function y($){return u.next($)}var k=C(y),O=C(function($){return u.throw($)});function C($){return function(re){var J=$(re),re=J.value;return J.done?re:re&&typeof re.then=="function"?re.then(k,O):s(re)?Promise.all(re).then(k,O):k(re)}}return C(y)()}function ws(u,y,k){for(var O=s(u)?u.slice():[u],C=0;C<k;++C)O.push(y);return O}var zb={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return n(n({},u),{table:function(y){var k=u.table(y),O=k.schema,C={},$=[];function H(ee,ue,ie){var oe=Ho(ee),ae=C[oe]=C[oe]||[],le=ee==null?0:typeof ee=="string"?1:ee.length,fe=0<ue,fe=n(n({},ie),{name:fe?"".concat(oe,"(virtual-from:").concat(ie.name,")"):ie.name,lowLevelIndex:ie,isVirtual:fe,keyTail:ue,keyLength:le,extractKey:rc(ee),unique:!fe&&ie.unique});return ae.push(fe),fe.isPrimaryKey||$.push(fe),1<le&&H(le===2?ee[0]:ee.slice(0,le-1),ue+1,ie),ae.sort(function(de,ye){return de.keyTail-ye.keyTail}),fe}y=H(O.primaryKey.keyPath,0,O.primaryKey),C[":id"]=[y];for(var J=0,re=O.indexes;J<re.length;J++){var ne=re[J];H(ne.keyPath,0,ne)}function se(ee){var ue,ie=ee.query.index;return ie.isVirtual?n(n({},ee),{query:{index:ie.lowLevelIndex,range:(ue=ee.query.range,ie=ie.keyTail,{type:ue.type===1?2:ue.type,lower:ws(ue.lower,ue.lowerOpen?u.MAX_KEY:u.MIN_KEY,ie),lowerOpen:!0,upper:ws(ue.upper,ue.upperOpen?u.MIN_KEY:u.MAX_KEY,ie),upperOpen:!0})}}):ee}return n(n({},k),{schema:n(n({},O),{primaryKey:y,indexes:$,getIndexByKeyPath:function(ee){return(ee=C[Ho(ee)])&&ee[0]}}),count:function(ee){return k.count(se(ee))},query:function(ee){return k.query(se(ee))},openCursor:function(ee){var ue=ee.query.index,ie=ue.keyTail,oe=ue.isVirtual,ae=ue.keyLength;return oe?k.openCursor(se(ee)).then(function(fe){return fe&&le(fe)}):k.openCursor(ee);function le(fe){return Object.create(fe,{continue:{value:function(de){de!=null?fe.continue(ws(de,ee.reverse?u.MAX_KEY:u.MIN_KEY,ie)):ee.unique?fe.continue(fe.key.slice(0,ae).concat(ee.reverse?u.MIN_KEY:u.MAX_KEY,ie)):fe.continue()}},continuePrimaryKey:{value:function(de,ye){fe.continuePrimaryKey(ws(de,u.MAX_KEY,ie),ye)}},primaryKey:{get:function(){return fe.primaryKey}},key:{get:function(){var de=fe.key;return ae===1?de[0]:de.slice(0,ae)}},value:{get:function(){return fe.value}}})}}})}})}};function vc(u,y,k,O){return k=k||{},O=O||"",a(u).forEach(function(C){var $,H,J;d(y,C)?($=u[C],H=y[C],typeof $=="object"&&typeof H=="object"&&$&&H?(J=G($))!==G(H)?k[O+C]=y[C]:J==="Object"?vc($,H,k,O+C+"."):$!==H&&(k[O+C]=y[C]):$!==H&&(k[O+C]=y[C])):k[O+C]=void 0}),a(y).forEach(function(C){d(u,C)||(k[O+C]=y[C])}),k}function mc(u,y){return y.type==="delete"?y.keys:y.keys||y.values.map(u.extractKey)}var Kb={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return n(n({},u),{table:function(y){var k=u.table(y),O=k.schema.primaryKey;return n(n({},k),{mutate:function(C){var $=$e.trans,H=$.table(y).hook,J=H.deleting,re=H.creating,ne=H.updating;switch(C.type){case"add":if(re.fire===Se)break;return $._promise("readwrite",function(){return se(C)},!0);case"put":if(re.fire===Se&&ne.fire===Se)break;return $._promise("readwrite",function(){return se(C)},!0);case"delete":if(J.fire===Se)break;return $._promise("readwrite",function(){return se(C)},!0);case"deleteRange":if(J.fire===Se)break;return $._promise("readwrite",function(){return function ee(ue,ie,oe){return k.query({trans:ue,values:!1,query:{index:O,range:ie},limit:oe}).then(function(ae){var le=ae.result;return se({type:"delete",keys:le,trans:ue}).then(function(fe){return 0<fe.numFailures?Promise.reject(fe.failures[0]):le.length<oe?{failures:[],numFailures:0,lastResult:void 0}:ee(ue,n(n({},ie),{lower:le[le.length-1],lowerOpen:!0}),oe)})})}(C.trans,C.range,1e4)},!0)}return k.mutate(C);function se(ee){var ue,ie,oe,ae=$e.trans,le=ee.keys||mc(O,ee);if(!le)throw new Error("Keys missing");return(ee=ee.type==="add"||ee.type==="put"?n(n({},ee),{keys:le}):n({},ee)).type!=="delete"&&(ee.values=i([],ee.values)),ee.keys&&(ee.keys=i([],ee.keys)),ue=k,oe=le,((ie=ee).type==="add"?Promise.resolve([]):ue.getMany({trans:ie.trans,keys:oe,cache:"immutable"})).then(function(fe){var de=le.map(function(ye,we){var Ee,je,ke,Oe=fe[we],Pe={onerror:null,onsuccess:null};return ee.type==="delete"?J.fire.call(Pe,ye,Oe,ae):ee.type==="add"||Oe===void 0?(Ee=re.fire.call(Pe,ye,ee.values[we],ae),ye==null&&Ee!=null&&(ee.keys[we]=ye=Ee,O.outbound||j(ee.values[we],O.keyPath,ye))):(Ee=vc(Oe,ee.values[we]),(je=ne.fire.call(Pe,Ee,ye,Oe,ae))&&(ke=ee.values[we],Object.keys(je).forEach(function(Te){d(ke,Te)?ke[Te]=je[Te]:j(ke,Te,je[Te])}))),Pe});return k.mutate(ee).then(function(ye){for(var we=ye.failures,Ee=ye.results,je=ye.numFailures,ye=ye.lastResult,ke=0;ke<le.length;++ke){var Oe=(Ee||le)[ke],Pe=de[ke];Oe==null?Pe.onerror&&Pe.onerror(we[ke]):Pe.onsuccess&&Pe.onsuccess(ee.type==="put"&&fe[ke]?ee.values[ke]:Oe)}return{failures:we,results:Ee,numFailures:je,lastResult:ye}}).catch(function(ye){return de.forEach(function(we){return we.onerror&&we.onerror(ye)}),Promise.reject(ye)})})}}})}})}};function vp(u,y,k){try{if(!y||y.keys.length<u.length)return null;for(var O=[],C=0,$=0;C<y.keys.length&&$<u.length;++C)et(y.keys[C],u[$])===0&&(O.push(k?D(y.values[C]):y.values[C]),++$);return O.length===u.length?O:null}catch(H){return null}}var Hb={stack:"dbcore",level:-1,create:function(u){return{table:function(y){var k=u.table(y);return n(n({},k),{getMany:function(O){if(!O.cache)return k.getMany(O);var C=vp(O.keys,O.trans._cache,O.cache==="clone");return C?Ae.resolve(C):k.getMany(O).then(function($){return O.trans._cache={keys:O.keys,values:O.cache==="clone"?D($):$},$})},mutate:function(O){return O.type!=="add"&&(O.trans._cache=null),k.mutate(O)}})}}}};function mp(u,y){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!y.schema.primaryKey.outbound}function yp(u,y){switch(u){case"query":return y.values&&!y.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Wb={stack:"dbcore",level:0,name:"Observability",create:function(u){var y=u.schema.name,k=new Ft(u.MIN_KEY,u.MAX_KEY);return n(n({},u),{transaction:function(O,C,$){if($e.subscr&&C!=="readonly")throw new Z.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat($e.querier));return u.transaction(O,C,$)},table:function(O){var C=u.table(O),$=C.schema,H=$.primaryKey,ee=$.indexes,J=H.extractKey,re=H.outbound,ne=H.autoIncrement&&ee.filter(function(ie){return ie.compound&&ie.keyPath.includes(H.keyPath)}),se=n(n({},C),{mutate:function(ie){function oe(Te){return Te="idb://".concat(y,"/").concat(O,"/").concat(Te),ye[Te]||(ye[Te]=new Ft)}var ae,le,fe,de=ie.trans,ye=ie.mutatedParts||(ie.mutatedParts={}),we=oe(""),Ee=oe(":dels"),je=ie.type,Pe=ie.type==="deleteRange"?[ie.range]:ie.type==="delete"?[ie.keys]:ie.values.length<50?[mc(H,ie).filter(function(Te){return Te}),ie.values]:[],ke=Pe[0],Oe=Pe[1],Pe=ie.trans._cache;return s(ke)?(we.addKeys(ke),(Pe=je==="delete"||ke.length===Oe.length?vp(ke,Pe):null)||Ee.addKeys(ke),(Pe||Oe)&&(ae=oe,le=Pe,fe=Oe,$.indexes.forEach(function(Te){var Re=ae(Te.name||"");function Ve(Qe){return Qe!=null?Te.extractKey(Qe):null}function Ye(Qe){return Te.multiEntry&&s(Qe)?Qe.forEach(function(dr){return Re.addKey(dr)}):Re.addKey(Qe)}(le||fe).forEach(function(Qe,zt){var He=le&&Ve(le[zt]),zt=fe&&Ve(fe[zt]);et(He,zt)!==0&&(He!=null&&Ye(He),zt!=null&&Ye(zt))})}))):ke?(Oe={from:(Oe=ke.lower)!==null&&Oe!==void 0?Oe:u.MIN_KEY,to:(Oe=ke.upper)!==null&&Oe!==void 0?Oe:u.MAX_KEY},Ee.add(Oe),we.add(Oe)):(we.add(k),Ee.add(k),$.indexes.forEach(function(Te){return oe(Te.name).add(k)})),C.mutate(ie).then(function(Te){return!ke||ie.type!=="add"&&ie.type!=="put"||(we.addKeys(Te.results),ne&&ne.forEach(function(Re){for(var Ve=ie.values.map(function(He){return Re.extractKey(He)}),Ye=Re.keyPath.findIndex(function(He){return He===H.keyPath}),Qe=0,dr=Te.results.length;Qe<dr;++Qe)Ve[Qe][Ye]=Te.results[Qe];oe(Re.name).addKeys(Ve)})),de.mutatedParts=ys(de.mutatedParts||{},ye),Te})}}),ee=function(oe){var ae=oe.query,oe=ae.index,ae=ae.range;return[oe,new Ft((oe=ae.lower)!==null&&oe!==void 0?oe:u.MIN_KEY,(ae=ae.upper)!==null&&ae!==void 0?ae:u.MAX_KEY)]},ue={get:function(ie){return[H,new Ft(ie.key)]},getMany:function(ie){return[H,new Ft().addKeys(ie.keys)]},count:ee,query:ee,openCursor:ee};return a(ue).forEach(function(ie){se[ie]=function(oe){var ae=$e.subscr,le=!!ae,fe=mp($e,C)&&yp(ie,oe)?oe.obsSet={}:ae;if(le){var de=function(Oe){return Oe="idb://".concat(y,"/").concat(O,"/").concat(Oe),fe[Oe]||(fe[Oe]=new Ft)},ye=de(""),we=de(":dels"),ae=ue[ie](oe),le=ae[0],ae=ae[1];if((ie==="query"&&le.isPrimaryKey&&!oe.values?we:de(le.name||"")).add(ae),!le.isPrimaryKey){if(ie!=="count"){var Ee=ie==="query"&&re&&oe.values&&C.query(n(n({},oe),{values:!1}));return C[ie].apply(this,arguments).then(function(Oe){if(ie==="query"){if(re&&oe.values)return Ee.then(function(Ve){return Ve=Ve.result,ye.addKeys(Ve),Oe});var Pe=oe.values?Oe.result.map(J):Oe.result;(oe.values?ye:we).addKeys(Pe)}else if(ie==="openCursor"){var Te=Oe,Re=oe.values;return Te&&Object.create(Te,{key:{get:function(){return we.addKey(Te.primaryKey),Te.key}},primaryKey:{get:function(){var Ve=Te.primaryKey;return we.addKey(Ve),Ve}},value:{get:function(){return Re&&ye.addKey(Te.primaryKey),Te.value}}})}return Oe})}we.add(k)}}return C[ie].apply(this,arguments)}}),se}})}};function gp(u,y,k){if(k.numFailures===0)return y;if(y.type==="deleteRange")return null;var O=y.keys?y.keys.length:"values"in y&&y.values?y.values.length:1;return k.numFailures===O?null:(y=n({},y),s(y.keys)&&(y.keys=y.keys.filter(function(C,$){return!($ in k.failures)})),"values"in y&&s(y.values)&&(y.values=y.values.filter(function(C,$){return!($ in k.failures)})),y)}function yc(u,y){return k=u,((O=y).lower===void 0||(O.lowerOpen?0<et(k,O.lower):0<=et(k,O.lower)))&&(u=u,(y=y).upper===void 0||(y.upperOpen?et(u,y.upper)<0:et(u,y.upper)<=0));var k,O}function wp(u,y,ue,O,C,$){if(!ue||ue.length===0)return u;var H=y.query.index,J=H.multiEntry,re=y.query.range,ne=O.schema.primaryKey.extractKey,se=H.extractKey,ee=(H.lowLevelIndex||H).extractKey,ue=ue.reduce(function(ie,oe){var ae=ie,le=[];if(oe.type==="add"||oe.type==="put")for(var fe=new Ft,de=oe.values.length-1;0<=de;--de){var ye,we=oe.values[de],Ee=ne(we);fe.hasKey(Ee)||(ye=se(we),(J&&s(ye)?ye.some(function(Te){return yc(Te,re)}):yc(ye,re))&&(fe.addKey(Ee),le.push(we)))}switch(oe.type){case"add":var je=new Ft().addKeys(y.values?ie.map(function(Re){return ne(Re)}):ie),ae=ie.concat(y.values?le.filter(function(Re){return Re=ne(Re),!je.hasKey(Re)&&(je.addKey(Re),!0)}):le.map(function(Re){return ne(Re)}).filter(function(Re){return!je.hasKey(Re)&&(je.addKey(Re),!0)}));break;case"put":var ke=new Ft().addKeys(oe.values.map(function(Re){return ne(Re)}));ae=ie.filter(function(Re){return!ke.hasKey(y.values?ne(Re):Re)}).concat(y.values?le:le.map(function(Re){return ne(Re)}));break;case"delete":var Oe=new Ft().addKeys(oe.keys);ae=ie.filter(function(Re){return!Oe.hasKey(y.values?ne(Re):Re)});break;case"deleteRange":var Pe=oe.range;ae=ie.filter(function(Re){return!yc(ne(Re),Pe)})}return ae},u);return ue===u?u:(ue.sort(function(ie,oe){return et(ee(ie),ee(oe))||et(ne(ie),ne(oe))}),y.limit&&y.limit<1/0&&(ue.length>y.limit?ue.length=y.limit:u.length===y.limit&&ue.length<y.limit&&(C.dirty=!0)),$?Object.freeze(ue):ue)}function bp(u,y){return et(u.lower,y.lower)===0&&et(u.upper,y.upper)===0&&!!u.lowerOpen==!!y.lowerOpen&&!!u.upperOpen==!!y.upperOpen}function Vb(u,y){return function(k,O,C,$){if(k===void 0)return O!==void 0?-1:0;if(O===void 0)return 1;if((O=et(k,O))===0){if(C&&$)return 0;if(C)return 1;if($)return-1}return O}(u.lower,y.lower,u.lowerOpen,y.lowerOpen)<=0&&0<=function(k,O,C,$){if(k===void 0)return O!==void 0?1:0;if(O===void 0)return-1;if((O=et(k,O))===0){if(C&&$)return 0;if(C)return-1;if($)return 1}return O}(u.upper,y.upper,u.upperOpen,y.upperOpen)}function Gb(u,y,k,O){u.subscribers.add(k),O.addEventListener("abort",function(){var C,$;u.subscribers.delete(k),u.subscribers.size===0&&(C=u,$=y,setTimeout(function(){C.subscribers.size===0&&z($,C)},3e3))})}var Yb={stack:"dbcore",level:0,name:"Cache",create:function(u){var y=u.schema.name;return n(n({},u),{transaction:function(k,O,C){var $,H,J=u.transaction(k,O,C);return O==="readwrite"&&(H=($=new AbortController).signal,C=function(re){return function(){if($.abort(),O==="readwrite"){for(var ne=new Set,se=0,ee=k;se<ee.length;se++){var ue=ee[se],ie=ei["idb://".concat(y,"/").concat(ue)];if(ie){var oe=u.table(ue),ae=ie.optimisticOps.filter(function(Re){return Re.trans===J});if(J._explicit&&re&&J.mutatedParts)for(var le=0,fe=Object.values(ie.queries.query);le<fe.length;le++)for(var de=0,ye=(je=fe[le]).slice();de<ye.length;de++)cc((ke=ye[de]).obsSet,J.mutatedParts)&&(z(je,ke),ke.subscribers.forEach(function(Re){return ne.add(Re)}));else if(0<ae.length){ie.optimisticOps=ie.optimisticOps.filter(function(Re){return Re.trans!==J});for(var we=0,Ee=Object.values(ie.queries.query);we<Ee.length;we++)for(var je,ke,Oe,Pe=0,Te=(je=Ee[we]).slice();Pe<Te.length;Pe++)(ke=Te[Pe]).res!=null&&J.mutatedParts&&(re&&!ke.dirty?(Oe=Object.isFrozen(ke.res),Oe=wp(ke.res,ke.req,ae,oe,ke,Oe),ke.dirty?(z(je,ke),ke.subscribers.forEach(function(Re){return ne.add(Re)})):Oe!==ke.res&&(ke.res=Oe,ke.promise=Ae.resolve({result:Oe}))):(ke.dirty&&z(je,ke),ke.subscribers.forEach(function(Re){return ne.add(Re)})))}}}ne.forEach(function(Re){return Re()})}}},J.addEventListener("abort",C(!1),{signal:H}),J.addEventListener("error",C(!1),{signal:H}),J.addEventListener("complete",C(!0),{signal:H})),J},table:function(k){var O=u.table(k),C=O.schema.primaryKey;return n(n({},O),{mutate:function($){var H=$e.trans;if(C.outbound||H.db._options.cache==="disabled"||H.explicit||H.idbtrans.mode!=="readwrite")return O.mutate($);var J=ei["idb://".concat(y,"/").concat(k)];return J?(H=O.mutate($),$.type!=="add"&&$.type!=="put"||!(50<=$.values.length||mc(C,$).some(function(re){return re==null}))?(J.optimisticOps.push($),$.mutatedParts&&gs($.mutatedParts),H.then(function(re){0<re.numFailures&&(z(J.optimisticOps,$),(re=gp(0,$,re))&&J.optimisticOps.push(re),$.mutatedParts&&gs($.mutatedParts))}),H.catch(function(){z(J.optimisticOps,$),$.mutatedParts&&gs($.mutatedParts)})):H.then(function(re){var ne=gp(0,n(n({},$),{values:$.values.map(function(se,ee){var ue;return re.failures[ee]?se:(se=(ue=C.keyPath)!==null&&ue!==void 0&&ue.includes(".")?D(se):n({},se),j(se,C.keyPath,re.results[ee]),se)})}),re);J.optimisticOps.push(ne),queueMicrotask(function(){return $.mutatedParts&&gs($.mutatedParts)})}),H):O.mutate($)},query:function($){if(!mp($e,O)||!yp("query",$))return O.query($);var H=((ne=$e.trans)===null||ne===void 0?void 0:ne.db._options.cache)==="immutable",ee=$e,J=ee.requery,re=ee.signal,ne=function(oe,ae,le,fe){var de=ei["idb://".concat(oe,"/").concat(ae)];if(!de)return[];if(!(ae=de.queries[le]))return[null,!1,de,null];var ye=ae[(fe.query?fe.query.index.name:null)||""];if(!ye)return[null,!1,de,null];switch(le){case"query":var we=ye.find(function(Ee){return Ee.req.limit===fe.limit&&Ee.req.values===fe.values&&bp(Ee.req.query.range,fe.query.range)});return we?[we,!0,de,ye]:[ye.find(function(Ee){return("limit"in Ee.req?Ee.req.limit:1/0)>=fe.limit&&(!fe.values||Ee.req.values)&&Vb(Ee.req.query.range,fe.query.range)}),!1,de,ye];case"count":return we=ye.find(function(Ee){return bp(Ee.req.query.range,fe.query.range)}),[we,!!we,de,ye]}}(y,k,"query",$),se=ne[0],ee=ne[1],ue=ne[2],ie=ne[3];return se&&ee?se.obsSet=$.obsSet:(ee=O.query($).then(function(oe){var ae=oe.result;if(se&&(se.res=ae),H){for(var le=0,fe=ae.length;le<fe;++le)Object.freeze(ae[le]);Object.freeze(ae)}else oe.result=D(ae);return oe}).catch(function(oe){return ie&&se&&z(ie,se),Promise.reject(oe)}),se={obsSet:$.obsSet,promise:ee,subscribers:new Set,type:"query",req:$,dirty:!1},ie?ie.push(se):(ie=[se],(ue=ue||(ei["idb://".concat(y,"/").concat(k)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[$.query.index.name||""]=ie)),Gb(se,ie,J,re),se.promise.then(function(oe){return{result:wp(oe.result,$,ue==null?void 0:ue.optimisticOps,O,se,H)}})}})}})}};function bs(u,y){return new Proxy(u,{get:function(k,O,C){return O==="db"?y:Reflect.get(k,O,C)}})}var Qr=(kt.prototype.version=function(u){if(isNaN(u)||u<.1)throw new Z.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new Z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var y=this._versions,k=y.filter(function(O){return O._cfg.version===u})[0];return k||(k=new this.Version(u),y.push(k),y.sort($b),k.stores({}),this._state.autoSchema=!1,k)},kt.prototype._whenReady=function(u){var y=this;return this.idbdb&&(this._state.openComplete||$e.letThrough||this._vip)?u():new Ae(function(k,O){if(y._state.openComplete)return O(new Z.DatabaseClosed(y._state.dbOpenError));if(!y._state.isBeingOpened){if(!y._state.autoOpen)return void O(new Z.DatabaseClosed);y.open().catch(Se)}y._state.dbReadyPromise.then(k,O)}).then(u)},kt.prototype.use=function(u){var y=u.stack,k=u.create,O=u.level,C=u.name;return C&&this.unuse({stack:y,name:C}),u=this._middlewares[y]||(this._middlewares[y]=[]),u.push({stack:y,create:k,level:O==null?10:O,name:C}),u.sort(function($,H){return $.level-H.level}),this},kt.prototype.unuse=function(u){var y=u.stack,k=u.name,O=u.create;return y&&this._middlewares[y]&&(this._middlewares[y]=this._middlewares[y].filter(function(C){return O?C.create!==O:!!k&&C.name!==k})),this},kt.prototype.open=function(){var u=this;return Jn(pn,function(){return Fb(u)})},kt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var u=this._state,y=Ii.indexOf(this);if(0<=y&&Ii.splice(y,1),this.idbdb){try{this.idbdb.close()}catch(k){}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new Ae(function(k){u.dbReadyResolve=k}),u.openCanceller=new Ae(function(k,O){u.cancelOpen=O}))},kt.prototype.close=function(k){var y=(k===void 0?{disableAutoOpen:!0}:k).disableAutoOpen,k=this._state;y?(k.isBeingOpened&&k.cancelOpen(new Z.DatabaseClosed),this._close(),k.autoOpen=!1,k.dbOpenError=new Z.DatabaseClosed):(this._close(),k.autoOpen=this._options.autoOpen||k.isBeingOpened,k.openComplete=!1,k.dbOpenError=null)},kt.prototype.delete=function(u){var y=this;u===void 0&&(u={disableAutoOpen:!0});var k=0<arguments.length&&typeof arguments[0]!="object",O=this._state;return new Ae(function(C,$){function H(){y.close(u);var J=y._deps.indexedDB.deleteDatabase(y.name);J.onsuccess=pt(function(){var re,ne,se;re=y._deps,ne=y.name,se=re.indexedDB,re=re.IDBKeyRange,sc(se)||ne===os||ac(se,re).delete(ne).catch(Se),C()}),J.onerror=Mr($),J.onblocked=y._fireOnBlocked}if(k)throw new Z.InvalidArgument("Invalid closeOptions argument to db.delete()");O.isBeingOpened?O.dbReadyPromise.then(H):H()})},kt.prototype.backendDB=function(){return this.idbdb},kt.prototype.isOpen=function(){return this.idbdb!==null},kt.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},kt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},kt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(kt.prototype,"tables",{get:function(){var u=this;return a(this._allTables).map(function(y){return u._allTables[y]})},enumerable:!1,configurable:!0}),kt.prototype.transaction=function(){var u=function(y,k,O){var C=arguments.length;if(C<2)throw new Z.InvalidArgument("Too few arguments");for(var $=new Array(C-1);--C;)$[C-1]=arguments[C];return O=$.pop(),[y,A($),O]}.apply(this,arguments);return this._transaction.apply(this,u)},kt.prototype._transaction=function(u,y,k){var O=this,C=$e.trans;C&&C.db===this&&u.indexOf("!")===-1||(C=null);var $,H,J=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(H=y.map(function(ne){if(ne=ne instanceof O.Table?ne.name:ne,typeof ne!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ne}),u=="r"||u===Yu)$=Yu;else{if(u!="rw"&&u!=Qu)throw new Z.InvalidArgument("Invalid transaction mode: "+u);$=Qu}if(C){if(C.mode===Yu&&$===Qu){if(!J)throw new Z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C=null}C&&H.forEach(function(ne){if(C&&C.storeNames.indexOf(ne)===-1){if(!J)throw new Z.SubTransaction("Table "+ne+" not included in parent transaction.");C=null}}),J&&C&&!C.active&&(C=null)}}catch(ne){return C?C._promise(null,function(se,ee){ee(ne)}):xt(ne)}var re=function ne(se,ee,ue,ie,oe){return Ae.resolve().then(function(){var ae=$e.transless||$e,le=se._createTransaction(ee,ue,se._dbSchema,ie);if(le.explicit=!0,ae={trans:le,transless:ae},ie)le.idbtrans=ie.idbtrans;else try{le.create(),le.idbtrans._explicit=!0,se._state.PR1398_maxLoop=3}catch(ye){return ye.name===Q.InvalidState&&se.isOpen()&&0<--se._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),se.close({disableAutoOpen:!1}),se.open().then(function(){return ne(se,ee,ue,null,oe)})):xt(ye)}var fe,de=N(oe);return de&&Ri(),ae=Ae.follow(function(){var ye;(fe=oe.call(le,le))&&(de?(ye=mn.bind(null,null),fe.then(ye,ye)):typeof fe.next=="function"&&typeof fe.throw=="function"&&(fe=pc(fe)))},ae),(fe&&typeof fe.then=="function"?Ae.resolve(fe).then(function(ye){return le.active?ye:xt(new Z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ae.then(function(){return fe})).then(function(ye){return ie&&le._resolve(),le._completion.then(function(){return ye})}).catch(function(ye){return le._reject(ye),xt(ye)})})}.bind(null,this,$,H,C,k);return C?C._promise($,re,"lock"):$e.trans?Jn($e.transless,function(){return O._whenReady(re)}):this._whenReady(re)},kt.prototype.table=function(u){if(!d(this._allTables,u))throw new Z.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},kt);function kt(u,y){var k=this;this._middlewares={},this.verno=0;var O=kt.dependencies;this._options=y=n({addons:kt.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},y),this._deps={indexedDB:y.indexedDB,IDBKeyRange:y.IDBKeyRange},O=y.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var C,$,H,J,re,ne={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Se,dbReadyPromise:null,cancelOpen:Se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:y.autoOpen};ne.dbReadyPromise=new Ae(function(ee){ne.dbReadyResolve=ee}),ne.openCanceller=new Ae(function(ee,ue){ne.cancelOpen=ue}),this._state=ne,this.name=u,this.on=qo(this,"populate","blocked","versionchange","close",{ready:[_e,Se]}),this.once=function(ee,ue){var ie=function(){for(var oe=[],ae=0;ae<arguments.length;ae++)oe[ae]=arguments[ae];k.on(ee).unsubscribe(ie),ue.apply(k,oe)};return k.on(ee,ie)},this.on.ready.subscribe=_(this.on.ready.subscribe,function(ee){return function(ue,ie){kt.vip(function(){var oe,ae=k._state;ae.openComplete?(ae.dbOpenError||Ae.resolve().then(ue),ie&&ee(ue)):ae.onReadyBeingFired?(ae.onReadyBeingFired.push(ue),ie&&ee(ue)):(ee(ue),oe=k,ie||ee(function le(){oe.on.ready.unsubscribe(ue),oe.on.ready.unsubscribe(le)}))})}}),this.Collection=(C=this,Uo(Ab.prototype,function(fe,le){this.db=C;var ie=Yh,oe=null;if(le)try{ie=le()}catch(de){oe=de}var ae=fe._ctx,le=ae.table,fe=le.hook.reading.fire;this._ctx={table:le,index:ae.index,isPrimKey:!ae.index||le.schema.primKey.keyPath&&ae.index===le.schema.primKey.name,range:ie,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:oe,or:ae.or,valueMapper:fe!==Be?fe:null}})),this.Table=($=this,Uo(tp.prototype,function(ee,ue,ie){this.db=$,this._tx=ie,this.name=ee,this.schema=ue,this.hook=$._allTables[ee]?$._allTables[ee].hook:qo(null,{creating:[Ge,Se],reading:[Fe,Be],updating:[pe,Se],deleting:[at,Se]})})),this.Transaction=(H=this,Uo(Ib.prototype,function(ee,ue,ie,oe,ae){var le=this;ee!=="readonly"&&ue.forEach(function(fe){fe=(fe=ie[fe])===null||fe===void 0?void 0:fe.yProps,fe&&(ue=ue.concat(fe.map(function(de){return de.updatesTable})))}),this.db=H,this.mode=ee,this.storeNames=ue,this.schema=ie,this.chromeTransactionDurability=oe,this.idbtrans=null,this.on=qo(this,"complete","error","abort"),this.parent=ae||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae(function(fe,de){le._resolve=fe,le._reject=de}),this._completion.then(function(){le.active=!1,le.on.complete.fire()},function(fe){var de=le.active;return le.active=!1,le.on.error.fire(fe),le.parent?le.parent._reject(fe):de&&le.idbtrans&&le.idbtrans.abort(),xt(fe)})})),this.Version=(J=this,Uo(Ub.prototype,function(ee){this.db=J,this._cfg={version:ee,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(re=this,Uo(ap.prototype,function(ee,ue,ie){if(this.db=re,this._ctx={table:ee,index:ue===":id"?null:ue,or:ie},this._cmp=this._ascending=et,this._descending=function(oe,ae){return et(ae,oe)},this._max=function(oe,ae){return 0<et(oe,ae)?oe:ae},this._min=function(oe,ae){return et(oe,ae)<0?oe:ae},this._IDBKeyRange=re._deps.IDBKeyRange,!this._IDBKeyRange)throw new Z.MissingAPI})),this.on("versionchange",function(ee){0<ee.newVersion?console.warn("Another connection wants to upgrade database '".concat(k.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(k.name,"'. Closing db now to resume the delete request.")),k.close({disableAutoOpen:!1})}),this.on("blocked",function(ee){!ee.newVersion||ee.newVersion<ee.oldVersion?console.warn("Dexie.delete('".concat(k.name,"') was blocked")):console.warn("Upgrade '".concat(k.name,"' blocked by other connection holding version ").concat(ee.oldVersion/10))}),this._maxKey=Ko(y.IDBKeyRange),this._createTransaction=function(ee,ue,ie,oe){return new k.Transaction(ee,ue,ie,k._options.chromeTransactionDurability,oe)},this._fireOnBlocked=function(ee){k.on("blocked").fire(ee),Ii.filter(function(ue){return ue.name===k.name&&ue!==k&&!ue._state.vcFired}).map(function(ue){return ue.on("versionchange").fire(ee)})},this.use(Hb),this.use(Yb),this.use(Wb),this.use(zb),this.use(Kb);var se=new Proxy(this,{get:function(ee,ue,ie){if(ue==="_vip")return!0;if(ue==="table")return function(ae){return bs(k.table(ae),se)};var oe=Reflect.get(ee,ue,ie);return oe instanceof tp?bs(oe,se):ue==="tables"?oe.map(function(ae){return bs(ae,se)}):ue==="_createTransaction"?function(){return bs(oe.apply(this,arguments),se)}:oe}});this.vip=se,O.forEach(function(ee){return ee(k)})}var _s,br=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",Qb=(gc.prototype.subscribe=function(u,y,k){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:y,complete:k})},gc.prototype[br]=function(){return this},gc);function gc(u){this._subscribe=u}try{_s={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch(u){_s={indexedDB:null,IDBKeyRange:null}}function _p(u){var y,k=!1,O=new Qb(function(C){var $=N(u),H,J=!1,re={},ne={},se={get closed(){return J},unsubscribe:function(){J||(J=!0,H&&H.abort(),ee&&wn.storagemutated.unsubscribe(ie))}};C.start&&C.start(se);var ee=!1,ue=function(){return Gu(oe)},ie=function(ae){ys(re,ae),cc(ne,re)&&ue()},oe=function(){var ae,le,fe;!J&&_s.indexedDB&&(re={},ae={},H&&H.abort(),H=new AbortController,fe=function(de){var ye=Ai();try{$&&Ri();var we=vn(u,de);return we=$?we.finally(mn):we}finally{ye&&Ci()}}(le={subscr:ae,signal:H.signal,requery:ue,querier:u,trans:null}),Promise.resolve(fe).then(function(de){k=!0,y=de,J||le.signal.aborted||(re={},function(ye){for(var we in ye)if(d(ye,we))return;return 1}(ne=ae)||ee||(wn(zo,ie),ee=!0),Gu(function(){return!J&&C.next&&C.next(de)}))},function(de){k=!1,["DatabaseClosedError","AbortError"].includes(de==null?void 0:de.name)||J||Gu(function(){J||C.error&&C.error(de)})}))};return setTimeout(ue,0),se});return O.hasValue=function(){return k},O.getValue=function(){return y},O}var ti=Qr;function wc(u){var y=bn;try{bn=!0,wn.storagemutated.fire(u),hc(u,!0)}finally{bn=y}}c(ti,n(n({},Ne),{delete:function(u){return new ti(u,{addons:[]}).delete()},exists:function(u){return new ti(u,{addons:[]}).open().then(function(y){return y.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return y=ti.dependencies,k=y.indexedDB,y=y.IDBKeyRange,(sc(k)?Promise.resolve(k.databases()).then(function(O){return O.map(function(C){return C.name}).filter(function(C){return C!==os})}):ac(k,y).toCollection().primaryKeys()).then(u)}catch(O){return xt(new Z.MissingAPI)}var y,k},defineClass:function(){return function(u){l(this,u)}},ignoreTransaction:function(u){return $e.trans?Jn($e.transless,u):u()},vip:lc,async:function(u){return function(){try{var y=pc(u.apply(this,arguments));return y&&typeof y.then=="function"?y:Ae.resolve(y)}catch(k){return xt(k)}}},spawn:function(u,y,k){try{var O=pc(u.apply(k,y||[]));return O&&typeof O.then=="function"?O:Ae.resolve(O)}catch(C){return xt(C)}},currentTransaction:{get:function(){return $e.trans||null}},waitFor:function(u,y){return y=Ae.resolve(typeof u=="function"?ti.ignoreTransaction(u):u).timeout(y||6e4),$e.trans?$e.trans.waitFor(y):y},Promise:Ae,debug:{get:function(){return be},set:function(u){me(u)}},derive:b,extend:l,props:c,override:_,Events:qo,on:wn,liveQuery:_p,extendObservabilitySet:ys,getByKeyPath:I,setByKeyPath:j,delByKeyPath:function(u,y){typeof y=="string"?j(u,y,void 0):"length"in y&&[].map.call(y,function(k){j(u,k,void 0)})},shallowClone:T,deepClone:D,getObjectDiff:vc,cmp:et,asap:S,minKey:-1/0,addons:[],connections:Ii,errnames:Q,dependencies:_s,cache:ei,semVer:"4.2.1",version:"4.2.1".split(".").map(function(u){return parseInt(u)}).reduce(function(u,y,k){return u+y/Math.pow(10,2*k)})})),ti.maxKey=Ko(ti.dependencies.IDBKeyRange),typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(wn(zo,function(u){bn||(u=new CustomEvent(Zu,{detail:u}),bn=!0,dispatchEvent(u),bn=!1)}),addEventListener(Zu,function(u){u=u.detail,bn||wc(u)}));var $i,bn=!1,xp=function(){};return typeof BroadcastChannel!="undefined"&&((xp=function(){($i=new BroadcastChannel(Zu)).onmessage=function(u){return u.data&&wc(u.data)}})(),typeof $i.unref=="function"&&$i.unref(),wn(zo,function(u){bn||$i.postMessage(u)})),typeof addEventListener!="undefined"&&(addEventListener("pagehide",function(u){if(!Qr.disableBfCache&&u.persisted){be&&console.debug("Dexie: handling persisted pagehide"),$i!=null&&$i.close();for(var y=0,k=Ii;y<k.length;y++)k[y].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!Qr.disableBfCache&&u.persisted&&(be&&console.debug("Dexie: handling persisted pageshow"),xp(),wc({all:new Ft(-1/0,[[]])}))})),Ae.rejectionMapper=function(u,y){return!u||u instanceof K||u instanceof TypeError||u instanceof SyntaxError||!u.name||!ve[u.name]?u:(y=new ve[u.name](y||u.message,u),"stack"in u&&g(y,"stack",{get:function(){return this.inner.stack}}),y)},me(be),n(Qr,Object.freeze({__proto__:null,Dexie:Qr,liveQuery:_p,Entity:Qh,cmp:et,PropModification:Bo,replacePrefix:function(u,y){return new Bo({replacePrefix:[u,y]})},add:function(u){return new Bo({add:u})},remove:function(u){return new Bo({remove:u})},default:Qr,RangeSet:Ft,mergeRanges:Vo,rangesOverlap:fp}),{default:Qr}),Qr})})(Sb);var QR=Sb.exports;const Rd=lu(QR),ey=Symbol.for("Dexie"),Oo=globalThis[ey]||(globalThis[ey]=Rd);if(Rd.semVer!==Oo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Rd.semVer} and ${Oo.semVer}`);const{liveQuery:h3,mergeRanges:p3,rangesOverlap:v3,RangeSet:m3,cmp:y3,Entity:g3,PropModification:w3,replacePrefix:b3,add:_3,remove:x3,DexieYProvider:k3}=Oo;function JR(t,e,r){var n,i;typeof t=="function"?(n=e||[],i=r):(n=[],i=e);var o=On.useRef({hasResult:!1,result:i,error:null}),a=On.useReducer(function(f){return f+1},0);a[0];var s=a[1],l=On.useMemo(function(){var f=typeof t=="function"?t():t;if(!f||typeof f.subscribe!="function")throw t===f?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&typeof window!="undefined"&&(typeof f.hasValue!="function"||f.hasValue()))if(typeof f.getValue=="function")o.current.result=f.getValue(),o.current.hasResult=!0;else{var v=f.subscribe(function(d){o.current.result=d,o.current.hasResult=!0});typeof v=="function"?v():v.unsubscribe()}return f},n);if(On.useDebugValue(o.current.result),On.useEffect(function(){var f=l.subscribe(function(v){var d=o.current;(d.error!==null||d.result!==v)&&(d.error=null,d.result=v,d.hasResult=!0,s())},function(v){var d=o.current;d.error!==v&&(d.error=v,s())});return typeof f=="function"?f:f.unsubscribe.bind(f)},n),o.current.error)throw o.current.error;return o.current.result}function cf(t,e,r){return JR(function(){return Oo.liveQuery(t)},[],r)}typeof FinalizationRegistry!="undefined"&&new FinalizationRegistry(function(t){var e=Oo.DexieYProvider;e&&e.release(t)});const Bt=new Oo("SmartTimetableDB");Bt.version(1).stores({items:"id, category, date, type, deleted, updated_at",syncQueue:"++id, operation, data, timestamp"});const tl=(t,e)=>Y(void 0,null,function*(){yield Bt.syncQueue.add({operation:t,data:e,timestamp:new Date().toISOString()})}),en={pushChanges:()=>Y(void 0,null,function*(){const t=yield Bt.syncQueue.toArray();if(t.length!==0){console.log(`Pushing ${t.length} changes to cloud...`);for(const r of t)try{const{operation:n,data:i}=r,e=i,{id:o}=e,a=Es(e,["id"]),{data:{user:s}}=yield ir.auth.getUser();if(!s)throw new Error("User not authenticated");if(n==="add"||n==="update"){const{error:l}=yield ir.from("items").upsert({id:i.id,user_id:s.id,category:i.category,data:a,updated_at:new Date().toISOString(),deleted:i.deleted||!1});if(l)throw l}else if(n==="delete"){const{error:l}=yield ir.from("items").update({deleted:!0,updated_at:new Date().toISOString()}).eq("id",i.id);if(l)throw l}yield Bt.syncQueue.delete(r.id)}catch(n){console.error("Sync push failed for item:",r,n)}}}),pullChanges:()=>Y(void 0,null,function*(){try{const{data:{user:t}}=yield ir.auth.getUser();if(!t)return;const e=localStorage.getItem("last-sync-time");let r=ir.from("items").select("*").eq("user_id",t.id);e&&(r=r.gt("updated_at",e));const{data:n,error:i}=yield r;if(i)throw i;n&&n.length>0&&(console.log(`Pulling ${n.length} changes from cloud...`),yield Bt.transaction("rw",Bt.items,()=>Y(void 0,null,function*(){for(const o of n){const a=We(Ce({id:o.id,category:o.category},o.data),{updatedAt:o.updated_at,deleted:o.deleted});o.deleted?yield Bt.items.put(a):yield Bt.items.put(a)}}))),localStorage.setItem("last-sync-time",new Date().toISOString())}catch(t){console.error("Sync pull failed:",t)}}),sync:()=>Y(void 0,null,function*(){navigator.onLine&&(yield en.pushChanges(),yield en.pullChanges())})};function XR({error:t,resetErrorBoundary:e}){return E.jsxs("div",{role:"alert",className:"p-4 bg-red-900/20 border border-red-500/50 rounded-lg text-red-200",children:[E.jsx("p",{children:"Something went wrong:"}),E.jsx("pre",{className:"text-sm mt-2",children:t.message}),E.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-red-600 rounded hover:bg-red-700",children:"Try again"})]})}function ZR(){const[t,e]=he.useState(null),[r,n]=he.useState("schedule"),[i,o]=he.useState(["schedule"]),[a,s]=he.useState(null),[l,f]=he.useState({mode:"dark",primary:"#00bcd4"}),v=cf(()=>Bt.items.where("category").equals("event").filter(V=>!V.deleted).toArray())||[],d=cf(()=>Bt.items.where("category").equals("task").filter(V=>!V.deleted).toArray())||[],c=cf(()=>Bt.items.where("category").equals("habit").filter(V=>!V.deleted).toArray())||[],[h,g]=he.useState(()=>{const V=localStorage.getItem("app-preferences");return V?JSON.parse(V):{notifications:{local:!0,web:!0},sound:!0,reminderTone:"/sounds/new-notification-1-398650.mp3",defaultView:"daily"}}),[b,x]=he.useState(!1),[p,m]=he.useState(""),[_,w]=he.useState(new Date);he.useEffect(()=>{const V=localStorage.getItem("app-current-user");if(V)try{e(JSON.parse(V))}catch(X){console.error("Failed to parse user",X)}},[]),he.useEffect(()=>{IE()},[]),he.useEffect(()=>{localStorage.setItem("app-preferences",JSON.stringify(h))},[h]),he.useEffect(()=>{const{data:V}=xa.onAuthStateChange((X,z)=>{X==="SIGNED_IN"?(e(z.user),localStorage.setItem("app-current-user",JSON.stringify(z.user)),en.sync()):X==="SIGNED_OUT"&&(e(null),localStorage.removeItem("app-current-user"))});return()=>{var X;return(X=V==null?void 0:V.subscription)==null?void 0:X.unsubscribe()}},[]),he.useEffect(()=>{qa(()=>Y(this,null,function*(){const{App:V}=yield import("./index-C3pvNpYV.js");return{App:V}}),[],import.meta.url).then(({App:V})=>{V.addListener("appUrlOpen",X=>Y(this,null,function*(){console.log("App opened with URL:",X.url);try{const z=new URL(X.url);if(z.host==="google-auth"&&z.hash){const q=new URLSearchParams(z.hash.substring(1)),P=q.get("access_token"),N=q.get("refresh_token");P&&N&&(yield qa(()=>Promise.resolve().then(()=>Cd),void 0,import.meta.url).then(B=>B.supabase.auth.setSession({access_token:P,refresh_token:N})),Ze.success("Successfully signed in with Google!"))}}catch(z){console.error("Error handling deep link:",z)}}))})},[]),he.useEffect(()=>{const V=X=>{const{title:z,body:q,soundPath:P}=X.detail;console.log("App received notification trigger:",z);const N=z?`${z}
${q}`:q;Ze(N,{icon:"",duration:6e3,style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",color:"#ffffff",padding:"16px 20px",borderRadius:"16px",border:"1px solid rgba(0, 188, 212, 0.3)",boxShadow:"0 8px 32px rgba(0, 188, 212, 0.2)",fontWeight:"500",fontSize:"15px",maxWidth:"400px",whiteSpace:"pre-line"},iconTheme:{primary:"#00bcd4",secondary:"#ffffff"}})};return window.addEventListener("trigger-notification",V),()=>window.removeEventListener("trigger-notification",V)},[]),he.useEffect(()=>{if(!t)return;const V=setInterval(()=>{en.sync()},6e4);return()=>clearInterval(V)},[t]);const S=V=>{e(V),localStorage.setItem("app-current-user",JSON.stringify(V)),n("schedule"),en.sync()},I=()=>Y(this,null,function*(){try{yield xa.signOut()}catch(V){console.error("Logout error:",V)}finally{e(null),localStorage.removeItem("app-current-user"),n("login")}}),[j,T]=he.useState("schedule"),M=(V,X=null)=>{V==="add"&&X?s(X):V==="add"&&s(null),o(z=>[...z,V]),n(V)},A=()=>{if(i.length>1){const V=[...i];V.pop();const X=V[V.length-1];o(V),n(X)}else n("schedule")},R=V=>Y(this,null,function*(){try{yield Bt.items.update(V.id,V),yield tl("update",V),yield en.sync(),Ze.success("Task updated")}catch(X){console.error("Failed to update task:",X),Ze.error("Failed to update task")}}),L=V=>Y(this,null,function*(){try{yield Bt.items.update(V,{deleted:!0,deletedAt:new Date().toISOString()}),yield tl("delete",{id:V}),yield gi.cancel(V),yield en.sync(),Ze.success("Event deleted"),A()}catch(X){console.error("Failed to delete event:",X),Ze.error("Failed to delete event")}}),D=V=>Y(this,null,function*(){try{const X=JSON.parse(V);if(!X.events&&!X.tasks&&!X.habits)throw new Error("Invalid data format");yield Bt.items.clear();const z=[];X.events&&Array.isArray(X.events)&&z.push(...X.events),X.tasks&&Array.isArray(X.tasks)&&z.push(...X.tasks),X.habits&&Array.isArray(X.habits)&&z.push(...X.habits),z.length>0&&(yield Bt.items.bulkAdd(z)),X.preferences&&g(X.preferences),yield en.sync(),Ze.success("Data imported successfully"),x(!1),setTimeout(()=>window.location.reload(),1e3)}catch(X){console.error("Import failed:",X),Ze.error("Import failed: "+X.message)}}),F=V=>Y(this,null,function*(){console.log("handleSaveEvent called with:",JSON.stringify(V,null,2));try{let X=V.id;if(X)yield Bt.items.update(X,V),yield tl("update",V),yield gi.cancel(X),Ze.success("Item updated successfully");else{X=crypto.randomUUID();const z=We(Ce({},V),{id:X,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});yield Bt.items.add(z),yield tl("add",z),Ze.success("Item created successfully")}if(V.category==="event"&&V.startTime){const[z,q]=V.startTime.split(":").map(Number);let P=new Date;if(P.setHours(z,q,0,0),V.repeat==="Weekly"&&V.repeatDay){const K=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].indexOf(V.repeatDay);if(K!==-1&&(P.getDay()!==K||P<=new Date)){let te=(K-P.getDay()+7)%7;te===0&&(te=7),P.setDate(P.getDate()+te)}}else V.repeat==="Daily"?P<=new Date&&P.setDate(P.getDate()+1):V.repeat==="Never"&&V.date&&(P=new Date(V.date),P.setHours(z,q,0,0));console.log("Scheduling event notification. Event Date:",P,"Now:",new Date);const N=B=>{const[K,te]=B.split(":"),W=parseInt(K),U=W>=12?"PM":"AM";return`${W%12||12}:${te} ${U}`};P>new Date?(console.log("Event is in the future, calling notificationManager.schedule"),gi.schedule(X,` ${V.subject}`,`Starting now at ${N(V.startTime)}`,P,h.reminderTone)):console.warn("Event date is in the past, not scheduling main notification."),V.reminders&&V.reminders.length>0&&(console.log("Scheduling reminders. Count:",V.reminders.length),V.reminders.forEach((B,K)=>{console.log(`Processing reminder [${K}]:`,JSON.stringify(B));const te=parseInt(B.time,10),W=new Date(P.getTime()-te*6e4);console.log(`Calculated Reminder Time: ${W.toLocaleString()} (Offset: ${te} mins)`);const U=new Date,Q=60*1e3;if(W>new Date(U.getTime()-Q)){console.log(`Scheduling reminder: ${B.label} at ${W}`);const ce=Math.round((P.getTime()-W.getTime())/6e4),Z=N(V.startTime),ve=`${V.subject} starts in ${ce} minute${ce!==1?"s":""} at ${Z}`;gi.schedule(`${X}-reminder-${K}`," Upcoming Event",ve,W,h.reminderTone)}else console.warn(`Reminder time ${W} is too far in the past, skipping.`)}))}yield en.sync(),A()}catch(X){console.error("Failed to save item:",X),Ze.error("Failed to save item")}}),G=()=>{if(!t)return E.jsx(KR,{onLogin:S});switch(r){case"schedule":return E.jsx(Jv,{events:v,tasks:d,habits:c,preferences:h,onUpdateTask:R,currentDate:_,onDateChange:w,currentUser:t,onLogout:I,viewMode:h.defaultView,onViewModeChange:V=>g(X=>We(Ce({},X),{defaultView:V})),onDeleteEvent:L,onAddClick:()=>M("add"),onSettingsClick:()=>M("settings"),onPomodoroClick:()=>M("pomodoro"),onEventClick:V=>M("add",V),activeTab:j,onTabChange:T});case"add":return E.jsx(kA,{onBack:A,onAdd:F,onDelete:L,initialData:a,currentDate:_});case"settings":return E.jsx(WR,{preferences:h,onUpdatePreferences:g,theme:l,onUpdateTheme:f,onExport:()=>{const V={events:v,tasks:d,habits:c};navigator.clipboard.writeText(JSON.stringify(V)),Ze.success("Data copied to clipboard")},onImport:()=>x(!0),onBack:A});case"pomodoro":return E.jsx(I0,{onBack:A});default:return E.jsx(Jv,{events:v,tasks:d,habits:c,preferences:h,onUpdateTask:R,currentDate:_,onDateChange:w,currentUser:t,onLogout:I,viewMode:h.defaultView,onViewModeChange:V=>g(X=>We(Ce({},X),{defaultView:V})),onDeleteEvent:L,onAddClick:V=>M("add",V),onSettingsClick:()=>M("settings"),onPomodoroClick:()=>M("pomodoro"),onEventClick:V=>M("add",V),activeTab:j,onTabChange:T})}};return E.jsx(GR,{FallbackComponent:XR,children:E.jsx("div",{className:"min-h-screen bg-black text-textMain flex justify-center",children:E.jsxs("div",{className:"w-full max-w-md relative bg-background h-[100dvh] shadow-2xl shadow-black overflow-hidden flex flex-col",children:[E.jsx(IS,{position:"top-center",toastOptions:{style:{background:"#1E1E1E",color:"#fff",border:"1px solid rgba(255,255,255,0.1)"}}}),G(),b&&E.jsx("div",{className:"absolute inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md animate-fade-in",children:E.jsxs("div",{className:"bg-[#1e293b] border border-white/10 rounded-3xl w-[90%] max-w-md shadow-2xl overflow-hidden animate-scale-in",children:[E.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/5 bg-white/5",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-accent/10 flex items-center justify-center text-accent ring-1 ring-accent/20",children:E.jsx(m0,{size:20})}),E.jsx("h3",{className:"text-xl font-black text-white tracking-tight",children:"Import Backup"})]}),E.jsx("button",{onClick:()=>x(!1),className:"p-2 rounded-full hover:bg-white/5 text-white/40 hover:text-white transition-colors active:scale-95",children:E.jsx(_o,{size:24})})]}),E.jsxs("div",{className:"p-6 space-y-5",children:[E.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 flex gap-3",children:[E.jsx("div",{className:"text-yellow-500 mt-0.5",children:E.jsx(Zx,{size:18})}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("p",{className:"text-sm font-bold text-yellow-500",children:"Warning: Overwrite Risk"}),E.jsx("p",{className:"text-xs text-yellow-500/80 leading-relaxed",children:"Importing data will completely replace your current schedule. This action cannot be undone."})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold text-textMuted uppercase tracking-widest ml-1",children:"Paste Data JSON"}),E.jsx("textarea",{value:p,onChange:V=>m(V.target.value),placeholder:'{"version": 1, "events": [...]}',className:"w-full h-40 bg-[#0f172a] border border-white/10 rounded-xl p-4 text-white text-sm font-mono focus:outline-none focus:border-accent/50 transition-colors resize-none placeholder-white/20"})]}),E.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[E.jsx("button",{onClick:()=>x(!1),className:"px-5 py-2.5 rounded-xl text-white/60 hover:text-white hover:bg-white/5 transition-colors text-sm font-bold active:scale-95",children:"Cancel"}),E.jsx("button",{onClick:()=>D(p),className:"px-6 py-2.5 rounded-xl text-black font-bold shadow-lg hover:shadow-accent/20 hover:scale-105 transition-all text-sm active:scale-95 bg-accent",children:"Import Data"})]})]})]})})]})})})}p0(document.getElementById("root")).render(E.jsx(he.StrictMode,{children:E.jsx(ZR,{})}));"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(t){for(let e of t)console.log("Unregistering SW:",e),e.unregister()});export{O0 as W,qa as _,Nh as r};
